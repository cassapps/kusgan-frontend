function ep(e,t){for(var n=0;n<t.length;n++){const r=t[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in e)){const s=Object.getOwnPropertyDescriptor(r,i);s&&Object.defineProperty(e,i,s.get?s:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();var es=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Hd(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var Gd={exports:{}},hl={},Qd={exports:{}},fe={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Gi=Symbol.for("react.element"),tp=Symbol.for("react.portal"),np=Symbol.for("react.fragment"),rp=Symbol.for("react.strict_mode"),ip=Symbol.for("react.profiler"),sp=Symbol.for("react.provider"),lp=Symbol.for("react.context"),op=Symbol.for("react.forward_ref"),ap=Symbol.for("react.suspense"),cp=Symbol.for("react.memo"),up=Symbol.for("react.lazy"),Kc=Symbol.iterator;function dp(e){return e===null||typeof e!="object"?null:(e=Kc&&e[Kc]||e["@@iterator"],typeof e=="function"?e:null)}var Jd={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Kd=Object.assign,Yd={};function Wr(e,t,n){this.props=e,this.context=t,this.refs=Yd,this.updater=n||Jd}Wr.prototype.isReactComponent={};Wr.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};Wr.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function Xd(){}Xd.prototype=Wr.prototype;function za(e,t,n){this.props=e,this.context=t,this.refs=Yd,this.updater=n||Jd}var Ua=za.prototype=new Xd;Ua.constructor=za;Kd(Ua,Wr.prototype);Ua.isPureReactComponent=!0;var Yc=Array.isArray,qd=Object.prototype.hasOwnProperty,$a={current:null},Zd={key:!0,ref:!0,__self:!0,__source:!0};function ef(e,t,n){var r,i={},s=null,o=null;if(t!=null)for(r in t.ref!==void 0&&(o=t.ref),t.key!==void 0&&(s=""+t.key),t)qd.call(t,r)&&!Zd.hasOwnProperty(r)&&(i[r]=t[r]);var u=arguments.length-2;if(u===1)i.children=n;else if(1<u){for(var a=Array(u),c=0;c<u;c++)a[c]=arguments[c+2];i.children=a}if(e&&e.defaultProps)for(r in u=e.defaultProps,u)i[r]===void 0&&(i[r]=u[r]);return{$$typeof:Gi,type:e,key:s,ref:o,props:i,_owner:$a.current}}function fp(e,t){return{$$typeof:Gi,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function Ba(e){return typeof e=="object"&&e!==null&&e.$$typeof===Gi}function mp(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var Xc=/\/+/g;function Ul(e,t){return typeof e=="object"&&e!==null&&e.key!=null?mp(""+e.key):t.toString(36)}function Ns(e,t,n,r,i){var s=typeof e;(s==="undefined"||s==="boolean")&&(e=null);var o=!1;if(e===null)o=!0;else switch(s){case"string":case"number":o=!0;break;case"object":switch(e.$$typeof){case Gi:case tp:o=!0}}if(o)return o=e,i=i(o),e=r===""?"."+Ul(o,0):r,Yc(i)?(n="",e!=null&&(n=e.replace(Xc,"$&/")+"/"),Ns(i,t,n,"",function(c){return c})):i!=null&&(Ba(i)&&(i=fp(i,n+(!i.key||o&&o.key===i.key?"":(""+i.key).replace(Xc,"$&/")+"/")+e)),t.push(i)),1;if(o=0,r=r===""?".":r+":",Yc(e))for(var u=0;u<e.length;u++){s=e[u];var a=r+Ul(s,u);o+=Ns(s,t,n,a,i)}else if(a=dp(e),typeof a=="function")for(e=a.call(e),u=0;!(s=e.next()).done;)s=s.value,a=r+Ul(s,u++),o+=Ns(s,t,n,a,i);else if(s==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return o}function ts(e,t,n){if(e==null)return e;var r=[],i=0;return Ns(e,r,"","",function(s){return t.call(n,s,i++)}),r}function hp(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var lt={current:null},bs={transition:null},pp={ReactCurrentDispatcher:lt,ReactCurrentBatchConfig:bs,ReactCurrentOwner:$a};function tf(){throw Error("act(...) is not supported in production builds of React.")}fe.Children={map:ts,forEach:function(e,t,n){ts(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return ts(e,function(){t++}),t},toArray:function(e){return ts(e,function(t){return t})||[]},only:function(e){if(!Ba(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};fe.Component=Wr;fe.Fragment=np;fe.Profiler=ip;fe.PureComponent=za;fe.StrictMode=rp;fe.Suspense=ap;fe.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=pp;fe.act=tf;fe.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=Kd({},e.props),i=e.key,s=e.ref,o=e._owner;if(t!=null){if(t.ref!==void 0&&(s=t.ref,o=$a.current),t.key!==void 0&&(i=""+t.key),e.type&&e.type.defaultProps)var u=e.type.defaultProps;for(a in t)qd.call(t,a)&&!Zd.hasOwnProperty(a)&&(r[a]=t[a]===void 0&&u!==void 0?u[a]:t[a])}var a=arguments.length-2;if(a===1)r.children=n;else if(1<a){u=Array(a);for(var c=0;c<a;c++)u[c]=arguments[c+2];r.children=u}return{$$typeof:Gi,type:e.type,key:i,ref:s,props:r,_owner:o}};fe.createContext=function(e){return e={$$typeof:lp,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:sp,_context:e},e.Consumer=e};fe.createElement=ef;fe.createFactory=function(e){var t=ef.bind(null,e);return t.type=e,t};fe.createRef=function(){return{current:null}};fe.forwardRef=function(e){return{$$typeof:op,render:e}};fe.isValidElement=Ba;fe.lazy=function(e){return{$$typeof:up,_payload:{_status:-1,_result:e},_init:hp}};fe.memo=function(e,t){return{$$typeof:cp,type:e,compare:t===void 0?null:t}};fe.startTransition=function(e){var t=bs.transition;bs.transition={};try{e()}finally{bs.transition=t}};fe.unstable_act=tf;fe.useCallback=function(e,t){return lt.current.useCallback(e,t)};fe.useContext=function(e){return lt.current.useContext(e)};fe.useDebugValue=function(){};fe.useDeferredValue=function(e){return lt.current.useDeferredValue(e)};fe.useEffect=function(e,t){return lt.current.useEffect(e,t)};fe.useId=function(){return lt.current.useId()};fe.useImperativeHandle=function(e,t,n){return lt.current.useImperativeHandle(e,t,n)};fe.useInsertionEffect=function(e,t){return lt.current.useInsertionEffect(e,t)};fe.useLayoutEffect=function(e,t){return lt.current.useLayoutEffect(e,t)};fe.useMemo=function(e,t){return lt.current.useMemo(e,t)};fe.useReducer=function(e,t,n){return lt.current.useReducer(e,t,n)};fe.useRef=function(e){return lt.current.useRef(e)};fe.useState=function(e){return lt.current.useState(e)};fe.useSyncExternalStore=function(e,t,n){return lt.current.useSyncExternalStore(e,t,n)};fe.useTransition=function(){return lt.current.useTransition()};fe.version="18.3.1";Qd.exports=fe;var S=Qd.exports;const Se=Hd(S),gp=ep({__proto__:null,default:Se},[S]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var yp=S,vp=Symbol.for("react.element"),xp=Symbol.for("react.fragment"),Sp=Object.prototype.hasOwnProperty,wp=yp.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,jp={key:!0,ref:!0,__self:!0,__source:!0};function nf(e,t,n){var r,i={},s=null,o=null;n!==void 0&&(s=""+n),t.key!==void 0&&(s=""+t.key),t.ref!==void 0&&(o=t.ref);for(r in t)Sp.call(t,r)&&!jp.hasOwnProperty(r)&&(i[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps,t)i[r]===void 0&&(i[r]=t[r]);return{$$typeof:vp,type:e,key:s,ref:o,props:i,_owner:wp.current}}hl.Fragment=xp;hl.jsx=nf;hl.jsxs=nf;Gd.exports=hl;var l=Gd.exports,Eo={},rf={exports:{}},jt={},sf={exports:{}},lf={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(E,U){var F=E.length;E.push(U);e:for(;0<F;){var _=F-1>>>1,H=E[_];if(0<i(H,U))E[_]=U,E[F]=H,F=_;else break e}}function n(E){return E.length===0?null:E[0]}function r(E){if(E.length===0)return null;var U=E[0],F=E.pop();if(F!==U){E[0]=F;e:for(var _=0,H=E.length,K=H>>>1;_<K;){var A=2*(_+1)-1,W=E[A],$=A+1,V=E[$];if(0>i(W,F))$<H&&0>i(V,W)?(E[_]=V,E[$]=F,_=$):(E[_]=W,E[A]=F,_=A);else if($<H&&0>i(V,F))E[_]=V,E[$]=F,_=$;else break e}}return U}function i(E,U){var F=E.sortIndex-U.sortIndex;return F!==0?F:E.id-U.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;e.unstable_now=function(){return s.now()}}else{var o=Date,u=o.now();e.unstable_now=function(){return o.now()-u}}var a=[],c=[],d=1,f=null,m=3,w=!1,x=!1,y=!1,C=typeof setTimeout=="function"?setTimeout:null,g=typeof clearTimeout=="function"?clearTimeout:null,p=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function h(E){for(var U=n(c);U!==null;){if(U.callback===null)r(c);else if(U.startTime<=E)r(c),U.sortIndex=U.expirationTime,t(a,U);else break;U=n(c)}}function b(E){if(y=!1,h(E),!x)if(n(a)!==null)x=!0,I(k);else{var U=n(c);U!==null&&L(b,U.startTime-E)}}function k(E,U){x=!1,y&&(y=!1,g(j),j=-1),w=!0;var F=m;try{for(h(U),f=n(a);f!==null&&(!(f.expirationTime>U)||E&&!D());){var _=f.callback;if(typeof _=="function"){f.callback=null,m=f.priorityLevel;var H=_(f.expirationTime<=U);U=e.unstable_now(),typeof H=="function"?f.callback=H:f===n(a)&&r(a),h(U)}else r(a);f=n(a)}if(f!==null)var K=!0;else{var A=n(c);A!==null&&L(b,A.startTime-U),K=!1}return K}finally{f=null,m=F,w=!1}}var v=!1,N=null,j=-1,P=5,M=-1;function D(){return!(e.unstable_now()-M<P)}function z(){if(N!==null){var E=e.unstable_now();M=E;var U=!0;try{U=N(!0,E)}finally{U?O():(v=!1,N=null)}}else v=!1}var O;if(typeof p=="function")O=function(){p(z)};else if(typeof MessageChannel<"u"){var T=new MessageChannel,R=T.port2;T.port1.onmessage=z,O=function(){R.postMessage(null)}}else O=function(){C(z,0)};function I(E){N=E,v||(v=!0,O())}function L(E,U){j=C(function(){E(e.unstable_now())},U)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(E){E.callback=null},e.unstable_continueExecution=function(){x||w||(x=!0,I(k))},e.unstable_forceFrameRate=function(E){0>E||125<E?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):P=0<E?Math.floor(1e3/E):5},e.unstable_getCurrentPriorityLevel=function(){return m},e.unstable_getFirstCallbackNode=function(){return n(a)},e.unstable_next=function(E){switch(m){case 1:case 2:case 3:var U=3;break;default:U=m}var F=m;m=U;try{return E()}finally{m=F}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(E,U){switch(E){case 1:case 2:case 3:case 4:case 5:break;default:E=3}var F=m;m=E;try{return U()}finally{m=F}},e.unstable_scheduleCallback=function(E,U,F){var _=e.unstable_now();switch(typeof F=="object"&&F!==null?(F=F.delay,F=typeof F=="number"&&0<F?_+F:_):F=_,E){case 1:var H=-1;break;case 2:H=250;break;case 5:H=1073741823;break;case 4:H=1e4;break;default:H=5e3}return H=F+H,E={id:d++,callback:U,priorityLevel:E,startTime:F,expirationTime:H,sortIndex:-1},F>_?(E.sortIndex=F,t(c,E),n(a)===null&&E===n(c)&&(y?(g(j),j=-1):y=!0,L(b,F-_))):(E.sortIndex=H,t(a,E),x||w||(x=!0,I(k))),E},e.unstable_shouldYield=D,e.unstable_wrapCallback=function(E){var U=m;return function(){var F=m;m=U;try{return E.apply(this,arguments)}finally{m=F}}}})(lf);sf.exports=lf;var Cp=sf.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Np=S,wt=Cp;function G(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var of=new Set,Ci={};function ar(e,t){Rr(e,t),Rr(e+"Capture",t)}function Rr(e,t){for(Ci[e]=t,e=0;e<t.length;e++)of.add(t[e])}var an=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Mo=Object.prototype.hasOwnProperty,bp=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,qc={},Zc={};function kp(e){return Mo.call(Zc,e)?!0:Mo.call(qc,e)?!1:bp.test(e)?Zc[e]=!0:(qc[e]=!0,!1)}function Ep(e,t,n,r){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function Mp(e,t,n,r){if(t===null||typeof t>"u"||Ep(e,t,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function ot(e,t,n,r,i,s,o){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=s,this.removeEmptyString=o}var Ye={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){Ye[e]=new ot(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];Ye[t]=new ot(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){Ye[e]=new ot(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){Ye[e]=new ot(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){Ye[e]=new ot(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){Ye[e]=new ot(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){Ye[e]=new ot(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){Ye[e]=new ot(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){Ye[e]=new ot(e,5,!1,e.toLowerCase(),null,!1,!1)});var Va=/[\-:]([a-z])/g;function Wa(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(Va,Wa);Ye[t]=new ot(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(Va,Wa);Ye[t]=new ot(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(Va,Wa);Ye[t]=new ot(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){Ye[e]=new ot(e,1,!1,e.toLowerCase(),null,!1,!1)});Ye.xlinkHref=new ot("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){Ye[e]=new ot(e,1,!1,e.toLowerCase(),null,!0,!0)});function Ha(e,t,n,r){var i=Ye.hasOwnProperty(t)?Ye[t]:null;(i!==null?i.type!==0:r||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(Mp(t,n,i,r)&&(n=null),r||i===null?kp(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=n===null?i.type===3?!1:"":n:(t=i.attributeName,r=i.attributeNamespace,n===null?e.removeAttribute(t):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}var mn=Np.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,ns=Symbol.for("react.element"),pr=Symbol.for("react.portal"),gr=Symbol.for("react.fragment"),Ga=Symbol.for("react.strict_mode"),Io=Symbol.for("react.profiler"),af=Symbol.for("react.provider"),cf=Symbol.for("react.context"),Qa=Symbol.for("react.forward_ref"),_o=Symbol.for("react.suspense"),To=Symbol.for("react.suspense_list"),Ja=Symbol.for("react.memo"),vn=Symbol.for("react.lazy"),uf=Symbol.for("react.offscreen"),eu=Symbol.iterator;function Yr(e){return e===null||typeof e!="object"?null:(e=eu&&e[eu]||e["@@iterator"],typeof e=="function"?e:null)}var Te=Object.assign,$l;function ai(e){if($l===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);$l=t&&t[1]||""}return`
`+$l+e}var Bl=!1;function Vl(e,t){if(!e||Bl)return"";Bl=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(c){var r=c}Reflect.construct(e,[],t)}else{try{t.call()}catch(c){r=c}e.call(t.prototype)}else{try{throw Error()}catch(c){r=c}e()}}catch(c){if(c&&r&&typeof c.stack=="string"){for(var i=c.stack.split(`
`),s=r.stack.split(`
`),o=i.length-1,u=s.length-1;1<=o&&0<=u&&i[o]!==s[u];)u--;for(;1<=o&&0<=u;o--,u--)if(i[o]!==s[u]){if(o!==1||u!==1)do if(o--,u--,0>u||i[o]!==s[u]){var a=`
`+i[o].replace(" at new "," at ");return e.displayName&&a.includes("<anonymous>")&&(a=a.replace("<anonymous>",e.displayName)),a}while(1<=o&&0<=u);break}}}finally{Bl=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?ai(e):""}function Ip(e){switch(e.tag){case 5:return ai(e.type);case 16:return ai("Lazy");case 13:return ai("Suspense");case 19:return ai("SuspenseList");case 0:case 2:case 15:return e=Vl(e.type,!1),e;case 11:return e=Vl(e.type.render,!1),e;case 1:return e=Vl(e.type,!0),e;default:return""}}function Po(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case gr:return"Fragment";case pr:return"Portal";case Io:return"Profiler";case Ga:return"StrictMode";case _o:return"Suspense";case To:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case cf:return(e.displayName||"Context")+".Consumer";case af:return(e._context.displayName||"Context")+".Provider";case Qa:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Ja:return t=e.displayName||null,t!==null?t:Po(e.type)||"Memo";case vn:t=e._payload,e=e._init;try{return Po(e(t))}catch{}}return null}function _p(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Po(t);case 8:return t===Ga?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function On(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function df(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function Tp(e){var t=df(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,s=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(o){r=""+o,s.call(this,o)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function rs(e){e._valueTracker||(e._valueTracker=Tp(e))}function ff(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=df(e)?e.checked?"true":"false":e.value),e=r,e!==n?(t.setValue(e),!0):!1}function Os(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function Do(e,t){var n=t.checked;return Te({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function tu(e,t){var n=t.defaultValue==null?"":t.defaultValue,r=t.checked!=null?t.checked:t.defaultChecked;n=On(t.value!=null?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function mf(e,t){t=t.checked,t!=null&&Ha(e,"checked",t,!1)}function Lo(e,t){mf(e,t);var n=On(t.value),r=t.type;if(n!=null)r==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(r==="submit"||r==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?Ro(e,t.type,n):t.hasOwnProperty("defaultValue")&&Ro(e,t.type,On(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function nu(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!(r!=="submit"&&r!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function Ro(e,t,n){(t!=="number"||Os(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var ci=Array.isArray;function Mr(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+On(n),t=null,i=0;i<e.length;i++){if(e[i].value===n){e[i].selected=!0,r&&(e[i].defaultSelected=!0);return}t!==null||e[i].disabled||(t=e[i])}t!==null&&(t.selected=!0)}}function Oo(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(G(91));return Te({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function ru(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(G(92));if(ci(n)){if(1<n.length)throw Error(G(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:On(n)}}function hf(e,t){var n=On(t.value),r=On(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),r!=null&&(e.defaultValue=""+r)}function iu(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function pf(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Ao(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?pf(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var is,gf=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,r,i){MSApp.execUnsafeLocalFunction(function(){return e(t,n,r,i)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(is=is||document.createElement("div"),is.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=is.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function Ni(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var hi={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Pp=["Webkit","ms","Moz","O"];Object.keys(hi).forEach(function(e){Pp.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),hi[t]=hi[e]})});function yf(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||hi.hasOwnProperty(e)&&hi[e]?(""+t).trim():t+"px"}function vf(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=yf(n,t[n],r);n==="float"&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}var Dp=Te({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Fo(e,t){if(t){if(Dp[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(G(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(G(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(G(61))}if(t.style!=null&&typeof t.style!="object")throw Error(G(62))}}function zo(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Uo=null;function Ka(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var $o=null,Ir=null,_r=null;function su(e){if(e=Ki(e)){if(typeof $o!="function")throw Error(G(280));var t=e.stateNode;t&&(t=xl(t),$o(e.stateNode,e.type,t))}}function xf(e){Ir?_r?_r.push(e):_r=[e]:Ir=e}function Sf(){if(Ir){var e=Ir,t=_r;if(_r=Ir=null,su(e),t)for(e=0;e<t.length;e++)su(t[e])}}function wf(e,t){return e(t)}function jf(){}var Wl=!1;function Cf(e,t,n){if(Wl)return e(t,n);Wl=!0;try{return wf(e,t,n)}finally{Wl=!1,(Ir!==null||_r!==null)&&(jf(),Sf())}}function bi(e,t){var n=e.stateNode;if(n===null)return null;var r=xl(n);if(r===null)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(G(231,t,typeof n));return n}var Bo=!1;if(an)try{var Xr={};Object.defineProperty(Xr,"passive",{get:function(){Bo=!0}}),window.addEventListener("test",Xr,Xr),window.removeEventListener("test",Xr,Xr)}catch{Bo=!1}function Lp(e,t,n,r,i,s,o,u,a){var c=Array.prototype.slice.call(arguments,3);try{t.apply(n,c)}catch(d){this.onError(d)}}var pi=!1,As=null,Fs=!1,Vo=null,Rp={onError:function(e){pi=!0,As=e}};function Op(e,t,n,r,i,s,o,u,a){pi=!1,As=null,Lp.apply(Rp,arguments)}function Ap(e,t,n,r,i,s,o,u,a){if(Op.apply(this,arguments),pi){if(pi){var c=As;pi=!1,As=null}else throw Error(G(198));Fs||(Fs=!0,Vo=c)}}function cr(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function Nf(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function lu(e){if(cr(e)!==e)throw Error(G(188))}function Fp(e){var t=e.alternate;if(!t){if(t=cr(e),t===null)throw Error(G(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(i===null)break;var s=i.alternate;if(s===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===n)return lu(i),e;if(s===r)return lu(i),t;s=s.sibling}throw Error(G(188))}if(n.return!==r.return)n=i,r=s;else{for(var o=!1,u=i.child;u;){if(u===n){o=!0,n=i,r=s;break}if(u===r){o=!0,r=i,n=s;break}u=u.sibling}if(!o){for(u=s.child;u;){if(u===n){o=!0,n=s,r=i;break}if(u===r){o=!0,r=s,n=i;break}u=u.sibling}if(!o)throw Error(G(189))}}if(n.alternate!==r)throw Error(G(190))}if(n.tag!==3)throw Error(G(188));return n.stateNode.current===n?e:t}function bf(e){return e=Fp(e),e!==null?kf(e):null}function kf(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=kf(e);if(t!==null)return t;e=e.sibling}return null}var Ef=wt.unstable_scheduleCallback,ou=wt.unstable_cancelCallback,zp=wt.unstable_shouldYield,Up=wt.unstable_requestPaint,Oe=wt.unstable_now,$p=wt.unstable_getCurrentPriorityLevel,Ya=wt.unstable_ImmediatePriority,Mf=wt.unstable_UserBlockingPriority,zs=wt.unstable_NormalPriority,Bp=wt.unstable_LowPriority,If=wt.unstable_IdlePriority,pl=null,Kt=null;function Vp(e){if(Kt&&typeof Kt.onCommitFiberRoot=="function")try{Kt.onCommitFiberRoot(pl,e,void 0,(e.current.flags&128)===128)}catch{}}var zt=Math.clz32?Math.clz32:Gp,Wp=Math.log,Hp=Math.LN2;function Gp(e){return e>>>=0,e===0?32:31-(Wp(e)/Hp|0)|0}var ss=64,ls=4194304;function ui(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function Us(e,t){var n=e.pendingLanes;if(n===0)return 0;var r=0,i=e.suspendedLanes,s=e.pingedLanes,o=n&268435455;if(o!==0){var u=o&~i;u!==0?r=ui(u):(s&=o,s!==0&&(r=ui(s)))}else o=n&~i,o!==0?r=ui(o):s!==0&&(r=ui(s));if(r===0)return 0;if(t!==0&&t!==r&&!(t&i)&&(i=r&-r,s=t&-t,i>=s||i===16&&(s&4194240)!==0))return t;if(r&4&&(r|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=r;0<t;)n=31-zt(t),i=1<<n,r|=e[n],t&=~i;return r}function Qp(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Jp(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,s=e.pendingLanes;0<s;){var o=31-zt(s),u=1<<o,a=i[o];a===-1?(!(u&n)||u&r)&&(i[o]=Qp(u,t)):a<=t&&(e.expiredLanes|=u),s&=~u}}function Wo(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function _f(){var e=ss;return ss<<=1,!(ss&4194240)&&(ss=64),e}function Hl(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function Qi(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-zt(t),e[t]=n}function Kp(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var i=31-zt(n),s=1<<i;t[i]=0,r[i]=-1,e[i]=-1,n&=~s}}function Xa(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-zt(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}var ve=0;function Tf(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var Pf,qa,Df,Lf,Rf,Ho=!1,os=[],En=null,Mn=null,In=null,ki=new Map,Ei=new Map,Sn=[],Yp="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function au(e,t){switch(e){case"focusin":case"focusout":En=null;break;case"dragenter":case"dragleave":Mn=null;break;case"mouseover":case"mouseout":In=null;break;case"pointerover":case"pointerout":ki.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ei.delete(t.pointerId)}}function qr(e,t,n,r,i,s){return e===null||e.nativeEvent!==s?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[i]},t!==null&&(t=Ki(t),t!==null&&qa(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,i!==null&&t.indexOf(i)===-1&&t.push(i),e)}function Xp(e,t,n,r,i){switch(t){case"focusin":return En=qr(En,e,t,n,r,i),!0;case"dragenter":return Mn=qr(Mn,e,t,n,r,i),!0;case"mouseover":return In=qr(In,e,t,n,r,i),!0;case"pointerover":var s=i.pointerId;return ki.set(s,qr(ki.get(s)||null,e,t,n,r,i)),!0;case"gotpointercapture":return s=i.pointerId,Ei.set(s,qr(Ei.get(s)||null,e,t,n,r,i)),!0}return!1}function Of(e){var t=Yn(e.target);if(t!==null){var n=cr(t);if(n!==null){if(t=n.tag,t===13){if(t=Nf(n),t!==null){e.blockedOn=t,Rf(e.priority,function(){Df(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function ks(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=Go(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var r=new n.constructor(n.type,n);Uo=r,n.target.dispatchEvent(r),Uo=null}else return t=Ki(n),t!==null&&qa(t),e.blockedOn=n,!1;t.shift()}return!0}function cu(e,t,n){ks(e)&&n.delete(t)}function qp(){Ho=!1,En!==null&&ks(En)&&(En=null),Mn!==null&&ks(Mn)&&(Mn=null),In!==null&&ks(In)&&(In=null),ki.forEach(cu),Ei.forEach(cu)}function Zr(e,t){e.blockedOn===t&&(e.blockedOn=null,Ho||(Ho=!0,wt.unstable_scheduleCallback(wt.unstable_NormalPriority,qp)))}function Mi(e){function t(i){return Zr(i,e)}if(0<os.length){Zr(os[0],e);for(var n=1;n<os.length;n++){var r=os[n];r.blockedOn===e&&(r.blockedOn=null)}}for(En!==null&&Zr(En,e),Mn!==null&&Zr(Mn,e),In!==null&&Zr(In,e),ki.forEach(t),Ei.forEach(t),n=0;n<Sn.length;n++)r=Sn[n],r.blockedOn===e&&(r.blockedOn=null);for(;0<Sn.length&&(n=Sn[0],n.blockedOn===null);)Of(n),n.blockedOn===null&&Sn.shift()}var Tr=mn.ReactCurrentBatchConfig,$s=!0;function Zp(e,t,n,r){var i=ve,s=Tr.transition;Tr.transition=null;try{ve=1,Za(e,t,n,r)}finally{ve=i,Tr.transition=s}}function eg(e,t,n,r){var i=ve,s=Tr.transition;Tr.transition=null;try{ve=4,Za(e,t,n,r)}finally{ve=i,Tr.transition=s}}function Za(e,t,n,r){if($s){var i=Go(e,t,n,r);if(i===null)to(e,t,r,Bs,n),au(e,r);else if(Xp(i,e,t,n,r))r.stopPropagation();else if(au(e,r),t&4&&-1<Yp.indexOf(e)){for(;i!==null;){var s=Ki(i);if(s!==null&&Pf(s),s=Go(e,t,n,r),s===null&&to(e,t,r,Bs,n),s===i)break;i=s}i!==null&&r.stopPropagation()}else to(e,t,r,null,n)}}var Bs=null;function Go(e,t,n,r){if(Bs=null,e=Ka(r),e=Yn(e),e!==null)if(t=cr(e),t===null)e=null;else if(n=t.tag,n===13){if(e=Nf(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Bs=e,null}function Af(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch($p()){case Ya:return 1;case Mf:return 4;case zs:case Bp:return 16;case If:return 536870912;default:return 16}default:return 16}}var jn=null,ec=null,Es=null;function Ff(){if(Es)return Es;var e,t=ec,n=t.length,r,i="value"in jn?jn.value:jn.textContent,s=i.length;for(e=0;e<n&&t[e]===i[e];e++);var o=n-e;for(r=1;r<=o&&t[n-r]===i[s-r];r++);return Es=i.slice(e,1<r?1-r:void 0)}function Ms(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function as(){return!0}function uu(){return!1}function Ct(e){function t(n,r,i,s,o){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=s,this.target=o,this.currentTarget=null;for(var u in e)e.hasOwnProperty(u)&&(n=e[u],this[u]=n?n(s):s[u]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?as:uu,this.isPropagationStopped=uu,this}return Te(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=as)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=as)},persist:function(){},isPersistent:as}),t}var Hr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},tc=Ct(Hr),Ji=Te({},Hr,{view:0,detail:0}),tg=Ct(Ji),Gl,Ql,ei,gl=Te({},Ji,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:nc,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==ei&&(ei&&e.type==="mousemove"?(Gl=e.screenX-ei.screenX,Ql=e.screenY-ei.screenY):Ql=Gl=0,ei=e),Gl)},movementY:function(e){return"movementY"in e?e.movementY:Ql}}),du=Ct(gl),ng=Te({},gl,{dataTransfer:0}),rg=Ct(ng),ig=Te({},Ji,{relatedTarget:0}),Jl=Ct(ig),sg=Te({},Hr,{animationName:0,elapsedTime:0,pseudoElement:0}),lg=Ct(sg),og=Te({},Hr,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),ag=Ct(og),cg=Te({},Hr,{data:0}),fu=Ct(cg),ug={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},dg={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},fg={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function mg(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=fg[e])?!!t[e]:!1}function nc(){return mg}var hg=Te({},Ji,{key:function(e){if(e.key){var t=ug[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Ms(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?dg[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:nc,charCode:function(e){return e.type==="keypress"?Ms(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Ms(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),pg=Ct(hg),gg=Te({},gl,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),mu=Ct(gg),yg=Te({},Ji,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:nc}),vg=Ct(yg),xg=Te({},Hr,{propertyName:0,elapsedTime:0,pseudoElement:0}),Sg=Ct(xg),wg=Te({},gl,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),jg=Ct(wg),Cg=[9,13,27,32],rc=an&&"CompositionEvent"in window,gi=null;an&&"documentMode"in document&&(gi=document.documentMode);var Ng=an&&"TextEvent"in window&&!gi,zf=an&&(!rc||gi&&8<gi&&11>=gi),hu=" ",pu=!1;function Uf(e,t){switch(e){case"keyup":return Cg.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function $f(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var yr=!1;function bg(e,t){switch(e){case"compositionend":return $f(t);case"keypress":return t.which!==32?null:(pu=!0,hu);case"textInput":return e=t.data,e===hu&&pu?null:e;default:return null}}function kg(e,t){if(yr)return e==="compositionend"||!rc&&Uf(e,t)?(e=Ff(),Es=ec=jn=null,yr=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return zf&&t.locale!=="ko"?null:t.data;default:return null}}var Eg={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function gu(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!Eg[e.type]:t==="textarea"}function Bf(e,t,n,r){xf(r),t=Vs(t,"onChange"),0<t.length&&(n=new tc("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var yi=null,Ii=null;function Mg(e){Zf(e,0)}function yl(e){var t=Sr(e);if(ff(t))return e}function Ig(e,t){if(e==="change")return t}var Vf=!1;if(an){var Kl;if(an){var Yl="oninput"in document;if(!Yl){var yu=document.createElement("div");yu.setAttribute("oninput","return;"),Yl=typeof yu.oninput=="function"}Kl=Yl}else Kl=!1;Vf=Kl&&(!document.documentMode||9<document.documentMode)}function vu(){yi&&(yi.detachEvent("onpropertychange",Wf),Ii=yi=null)}function Wf(e){if(e.propertyName==="value"&&yl(Ii)){var t=[];Bf(t,Ii,e,Ka(e)),Cf(Mg,t)}}function _g(e,t,n){e==="focusin"?(vu(),yi=t,Ii=n,yi.attachEvent("onpropertychange",Wf)):e==="focusout"&&vu()}function Tg(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return yl(Ii)}function Pg(e,t){if(e==="click")return yl(t)}function Dg(e,t){if(e==="input"||e==="change")return yl(t)}function Lg(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Bt=typeof Object.is=="function"?Object.is:Lg;function _i(e,t){if(Bt(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!Mo.call(t,i)||!Bt(e[i],t[i]))return!1}return!0}function xu(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Su(e,t){var n=xu(e);e=0;for(var r;n;){if(n.nodeType===3){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=xu(n)}}function Hf(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?Hf(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function Gf(){for(var e=window,t=Os();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=Os(e.document)}return t}function ic(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function Rg(e){var t=Gf(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&Hf(n.ownerDocument.documentElement,n)){if(r!==null&&ic(n)){if(t=r.start,e=r.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var i=n.textContent.length,s=Math.min(r.start,i);r=r.end===void 0?s:Math.min(r.end,i),!e.extend&&s>r&&(i=r,r=s,s=i),i=Su(n,s);var o=Su(n,r);i&&o&&(e.rangeCount!==1||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&(t=t.createRange(),t.setStart(i.node,i.offset),e.removeAllRanges(),s>r?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var Og=an&&"documentMode"in document&&11>=document.documentMode,vr=null,Qo=null,vi=null,Jo=!1;function wu(e,t,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Jo||vr==null||vr!==Os(r)||(r=vr,"selectionStart"in r&&ic(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),vi&&_i(vi,r)||(vi=r,r=Vs(Qo,"onSelect"),0<r.length&&(t=new tc("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=vr)))}function cs(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var xr={animationend:cs("Animation","AnimationEnd"),animationiteration:cs("Animation","AnimationIteration"),animationstart:cs("Animation","AnimationStart"),transitionend:cs("Transition","TransitionEnd")},Xl={},Qf={};an&&(Qf=document.createElement("div").style,"AnimationEvent"in window||(delete xr.animationend.animation,delete xr.animationiteration.animation,delete xr.animationstart.animation),"TransitionEvent"in window||delete xr.transitionend.transition);function vl(e){if(Xl[e])return Xl[e];if(!xr[e])return e;var t=xr[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in Qf)return Xl[e]=t[n];return e}var Jf=vl("animationend"),Kf=vl("animationiteration"),Yf=vl("animationstart"),Xf=vl("transitionend"),qf=new Map,ju="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Un(e,t){qf.set(e,t),ar(t,[e])}for(var ql=0;ql<ju.length;ql++){var Zl=ju[ql],Ag=Zl.toLowerCase(),Fg=Zl[0].toUpperCase()+Zl.slice(1);Un(Ag,"on"+Fg)}Un(Jf,"onAnimationEnd");Un(Kf,"onAnimationIteration");Un(Yf,"onAnimationStart");Un("dblclick","onDoubleClick");Un("focusin","onFocus");Un("focusout","onBlur");Un(Xf,"onTransitionEnd");Rr("onMouseEnter",["mouseout","mouseover"]);Rr("onMouseLeave",["mouseout","mouseover"]);Rr("onPointerEnter",["pointerout","pointerover"]);Rr("onPointerLeave",["pointerout","pointerover"]);ar("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));ar("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));ar("onBeforeInput",["compositionend","keypress","textInput","paste"]);ar("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));ar("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));ar("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var di="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),zg=new Set("cancel close invalid load scroll toggle".split(" ").concat(di));function Cu(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,Ap(r,t,void 0,e),e.currentTarget=null}function Zf(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var s=void 0;if(t)for(var o=r.length-1;0<=o;o--){var u=r[o],a=u.instance,c=u.currentTarget;if(u=u.listener,a!==s&&i.isPropagationStopped())break e;Cu(i,u,c),s=a}else for(o=0;o<r.length;o++){if(u=r[o],a=u.instance,c=u.currentTarget,u=u.listener,a!==s&&i.isPropagationStopped())break e;Cu(i,u,c),s=a}}}if(Fs)throw e=Vo,Fs=!1,Vo=null,e}function Ce(e,t){var n=t[Zo];n===void 0&&(n=t[Zo]=new Set);var r=e+"__bubble";n.has(r)||(em(t,e,2,!1),n.add(r))}function eo(e,t,n){var r=0;t&&(r|=4),em(n,e,r,t)}var us="_reactListening"+Math.random().toString(36).slice(2);function Ti(e){if(!e[us]){e[us]=!0,of.forEach(function(n){n!=="selectionchange"&&(zg.has(n)||eo(n,!1,e),eo(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[us]||(t[us]=!0,eo("selectionchange",!1,t))}}function em(e,t,n,r){switch(Af(t)){case 1:var i=Zp;break;case 4:i=eg;break;default:i=Za}n=i.bind(null,t,n,e),i=void 0,!Bo||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(i=!0),r?i!==void 0?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):i!==void 0?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function to(e,t,n,r,i){var s=r;if(!(t&1)&&!(t&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var u=r.stateNode.containerInfo;if(u===i||u.nodeType===8&&u.parentNode===i)break;if(o===4)for(o=r.return;o!==null;){var a=o.tag;if((a===3||a===4)&&(a=o.stateNode.containerInfo,a===i||a.nodeType===8&&a.parentNode===i))return;o=o.return}for(;u!==null;){if(o=Yn(u),o===null)return;if(a=o.tag,a===5||a===6){r=s=o;continue e}u=u.parentNode}}r=r.return}Cf(function(){var c=s,d=Ka(n),f=[];e:{var m=qf.get(e);if(m!==void 0){var w=tc,x=e;switch(e){case"keypress":if(Ms(n)===0)break e;case"keydown":case"keyup":w=pg;break;case"focusin":x="focus",w=Jl;break;case"focusout":x="blur",w=Jl;break;case"beforeblur":case"afterblur":w=Jl;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":w=du;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":w=rg;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":w=vg;break;case Jf:case Kf:case Yf:w=lg;break;case Xf:w=Sg;break;case"scroll":w=tg;break;case"wheel":w=jg;break;case"copy":case"cut":case"paste":w=ag;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":w=mu}var y=(t&4)!==0,C=!y&&e==="scroll",g=y?m!==null?m+"Capture":null:m;y=[];for(var p=c,h;p!==null;){h=p;var b=h.stateNode;if(h.tag===5&&b!==null&&(h=b,g!==null&&(b=bi(p,g),b!=null&&y.push(Pi(p,b,h)))),C)break;p=p.return}0<y.length&&(m=new w(m,x,null,n,d),f.push({event:m,listeners:y}))}}if(!(t&7)){e:{if(m=e==="mouseover"||e==="pointerover",w=e==="mouseout"||e==="pointerout",m&&n!==Uo&&(x=n.relatedTarget||n.fromElement)&&(Yn(x)||x[cn]))break e;if((w||m)&&(m=d.window===d?d:(m=d.ownerDocument)?m.defaultView||m.parentWindow:window,w?(x=n.relatedTarget||n.toElement,w=c,x=x?Yn(x):null,x!==null&&(C=cr(x),x!==C||x.tag!==5&&x.tag!==6)&&(x=null)):(w=null,x=c),w!==x)){if(y=du,b="onMouseLeave",g="onMouseEnter",p="mouse",(e==="pointerout"||e==="pointerover")&&(y=mu,b="onPointerLeave",g="onPointerEnter",p="pointer"),C=w==null?m:Sr(w),h=x==null?m:Sr(x),m=new y(b,p+"leave",w,n,d),m.target=C,m.relatedTarget=h,b=null,Yn(d)===c&&(y=new y(g,p+"enter",x,n,d),y.target=h,y.relatedTarget=C,b=y),C=b,w&&x)t:{for(y=w,g=x,p=0,h=y;h;h=fr(h))p++;for(h=0,b=g;b;b=fr(b))h++;for(;0<p-h;)y=fr(y),p--;for(;0<h-p;)g=fr(g),h--;for(;p--;){if(y===g||g!==null&&y===g.alternate)break t;y=fr(y),g=fr(g)}y=null}else y=null;w!==null&&Nu(f,m,w,y,!1),x!==null&&C!==null&&Nu(f,C,x,y,!0)}}e:{if(m=c?Sr(c):window,w=m.nodeName&&m.nodeName.toLowerCase(),w==="select"||w==="input"&&m.type==="file")var k=Ig;else if(gu(m))if(Vf)k=Dg;else{k=Tg;var v=_g}else(w=m.nodeName)&&w.toLowerCase()==="input"&&(m.type==="checkbox"||m.type==="radio")&&(k=Pg);if(k&&(k=k(e,c))){Bf(f,k,n,d);break e}v&&v(e,m,c),e==="focusout"&&(v=m._wrapperState)&&v.controlled&&m.type==="number"&&Ro(m,"number",m.value)}switch(v=c?Sr(c):window,e){case"focusin":(gu(v)||v.contentEditable==="true")&&(vr=v,Qo=c,vi=null);break;case"focusout":vi=Qo=vr=null;break;case"mousedown":Jo=!0;break;case"contextmenu":case"mouseup":case"dragend":Jo=!1,wu(f,n,d);break;case"selectionchange":if(Og)break;case"keydown":case"keyup":wu(f,n,d)}var N;if(rc)e:{switch(e){case"compositionstart":var j="onCompositionStart";break e;case"compositionend":j="onCompositionEnd";break e;case"compositionupdate":j="onCompositionUpdate";break e}j=void 0}else yr?Uf(e,n)&&(j="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(j="onCompositionStart");j&&(zf&&n.locale!=="ko"&&(yr||j!=="onCompositionStart"?j==="onCompositionEnd"&&yr&&(N=Ff()):(jn=d,ec="value"in jn?jn.value:jn.textContent,yr=!0)),v=Vs(c,j),0<v.length&&(j=new fu(j,e,null,n,d),f.push({event:j,listeners:v}),N?j.data=N:(N=$f(n),N!==null&&(j.data=N)))),(N=Ng?bg(e,n):kg(e,n))&&(c=Vs(c,"onBeforeInput"),0<c.length&&(d=new fu("onBeforeInput","beforeinput",null,n,d),f.push({event:d,listeners:c}),d.data=N))}Zf(f,t)})}function Pi(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Vs(e,t){for(var n=t+"Capture",r=[];e!==null;){var i=e,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=bi(e,n),s!=null&&r.unshift(Pi(e,s,i)),s=bi(e,t),s!=null&&r.push(Pi(e,s,i))),e=e.return}return r}function fr(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function Nu(e,t,n,r,i){for(var s=t._reactName,o=[];n!==null&&n!==r;){var u=n,a=u.alternate,c=u.stateNode;if(a!==null&&a===r)break;u.tag===5&&c!==null&&(u=c,i?(a=bi(n,s),a!=null&&o.unshift(Pi(n,a,u))):i||(a=bi(n,s),a!=null&&o.push(Pi(n,a,u)))),n=n.return}o.length!==0&&e.push({event:t,listeners:o})}var Ug=/\r\n?/g,$g=/\u0000|\uFFFD/g;function bu(e){return(typeof e=="string"?e:""+e).replace(Ug,`
`).replace($g,"")}function ds(e,t,n){if(t=bu(t),bu(e)!==t&&n)throw Error(G(425))}function Ws(){}var Ko=null,Yo=null;function Xo(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var qo=typeof setTimeout=="function"?setTimeout:void 0,Bg=typeof clearTimeout=="function"?clearTimeout:void 0,ku=typeof Promise=="function"?Promise:void 0,Vg=typeof queueMicrotask=="function"?queueMicrotask:typeof ku<"u"?function(e){return ku.resolve(null).then(e).catch(Wg)}:qo;function Wg(e){setTimeout(function(){throw e})}function no(e,t){var n=t,r=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){e.removeChild(i),Mi(t);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);Mi(t)}function _n(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function Eu(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var Gr=Math.random().toString(36).slice(2),Qt="__reactFiber$"+Gr,Di="__reactProps$"+Gr,cn="__reactContainer$"+Gr,Zo="__reactEvents$"+Gr,Hg="__reactListeners$"+Gr,Gg="__reactHandles$"+Gr;function Yn(e){var t=e[Qt];if(t)return t;for(var n=e.parentNode;n;){if(t=n[cn]||n[Qt]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=Eu(e);e!==null;){if(n=e[Qt])return n;e=Eu(e)}return t}e=n,n=e.parentNode}return null}function Ki(e){return e=e[Qt]||e[cn],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Sr(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(G(33))}function xl(e){return e[Di]||null}var ea=[],wr=-1;function $n(e){return{current:e}}function Ne(e){0>wr||(e.current=ea[wr],ea[wr]=null,wr--)}function je(e,t){wr++,ea[wr]=e.current,e.current=t}var An={},tt=$n(An),ft=$n(!1),nr=An;function Or(e,t){var n=e.type.contextTypes;if(!n)return An;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in n)i[s]=t[s];return r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=i),i}function mt(e){return e=e.childContextTypes,e!=null}function Hs(){Ne(ft),Ne(tt)}function Mu(e,t,n){if(tt.current!==An)throw Error(G(168));je(tt,t),je(ft,n)}function tm(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in t))throw Error(G(108,_p(e)||"Unknown",i));return Te({},n,r)}function Gs(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||An,nr=tt.current,je(tt,e),je(ft,ft.current),!0}function Iu(e,t,n){var r=e.stateNode;if(!r)throw Error(G(169));n?(e=tm(e,t,nr),r.__reactInternalMemoizedMergedChildContext=e,Ne(ft),Ne(tt),je(tt,e)):Ne(ft),je(ft,n)}var en=null,Sl=!1,ro=!1;function nm(e){en===null?en=[e]:en.push(e)}function Qg(e){Sl=!0,nm(e)}function Bn(){if(!ro&&en!==null){ro=!0;var e=0,t=ve;try{var n=en;for(ve=1;e<n.length;e++){var r=n[e];do r=r(!0);while(r!==null)}en=null,Sl=!1}catch(i){throw en!==null&&(en=en.slice(e+1)),Ef(Ya,Bn),i}finally{ve=t,ro=!1}}return null}var jr=[],Cr=0,Qs=null,Js=0,kt=[],Et=0,rr=null,rn=1,sn="";function Jn(e,t){jr[Cr++]=Js,jr[Cr++]=Qs,Qs=e,Js=t}function rm(e,t,n){kt[Et++]=rn,kt[Et++]=sn,kt[Et++]=rr,rr=e;var r=rn;e=sn;var i=32-zt(r)-1;r&=~(1<<i),n+=1;var s=32-zt(t)+i;if(30<s){var o=i-i%5;s=(r&(1<<o)-1).toString(32),r>>=o,i-=o,rn=1<<32-zt(t)+i|n<<i|r,sn=s+e}else rn=1<<s|n<<i|r,sn=e}function sc(e){e.return!==null&&(Jn(e,1),rm(e,1,0))}function lc(e){for(;e===Qs;)Qs=jr[--Cr],jr[Cr]=null,Js=jr[--Cr],jr[Cr]=null;for(;e===rr;)rr=kt[--Et],kt[Et]=null,sn=kt[--Et],kt[Et]=null,rn=kt[--Et],kt[Et]=null}var St=null,xt=null,be=!1,Ft=null;function im(e,t){var n=Mt(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function _u(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,St=e,xt=_n(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,St=e,xt=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=rr!==null?{id:rn,overflow:sn}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=Mt(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,St=e,xt=null,!0):!1;default:return!1}}function ta(e){return(e.mode&1)!==0&&(e.flags&128)===0}function na(e){if(be){var t=xt;if(t){var n=t;if(!_u(e,t)){if(ta(e))throw Error(G(418));t=_n(n.nextSibling);var r=St;t&&_u(e,t)?im(r,n):(e.flags=e.flags&-4097|2,be=!1,St=e)}}else{if(ta(e))throw Error(G(418));e.flags=e.flags&-4097|2,be=!1,St=e}}}function Tu(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;St=e}function fs(e){if(e!==St)return!1;if(!be)return Tu(e),be=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!Xo(e.type,e.memoizedProps)),t&&(t=xt)){if(ta(e))throw sm(),Error(G(418));for(;t;)im(e,t),t=_n(t.nextSibling)}if(Tu(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(G(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){xt=_n(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}xt=null}}else xt=St?_n(e.stateNode.nextSibling):null;return!0}function sm(){for(var e=xt;e;)e=_n(e.nextSibling)}function Ar(){xt=St=null,be=!1}function oc(e){Ft===null?Ft=[e]:Ft.push(e)}var Jg=mn.ReactCurrentBatchConfig;function ti(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(G(309));var r=n.stateNode}if(!r)throw Error(G(147,e));var i=r,s=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===s?t.ref:(t=function(o){var u=i.refs;o===null?delete u[s]:u[s]=o},t._stringRef=s,t)}if(typeof e!="string")throw Error(G(284));if(!n._owner)throw Error(G(290,e))}return e}function ms(e,t){throw e=Object.prototype.toString.call(t),Error(G(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Pu(e){var t=e._init;return t(e._payload)}function lm(e){function t(g,p){if(e){var h=g.deletions;h===null?(g.deletions=[p],g.flags|=16):h.push(p)}}function n(g,p){if(!e)return null;for(;p!==null;)t(g,p),p=p.sibling;return null}function r(g,p){for(g=new Map;p!==null;)p.key!==null?g.set(p.key,p):g.set(p.index,p),p=p.sibling;return g}function i(g,p){return g=Ln(g,p),g.index=0,g.sibling=null,g}function s(g,p,h){return g.index=h,e?(h=g.alternate,h!==null?(h=h.index,h<p?(g.flags|=2,p):h):(g.flags|=2,p)):(g.flags|=1048576,p)}function o(g){return e&&g.alternate===null&&(g.flags|=2),g}function u(g,p,h,b){return p===null||p.tag!==6?(p=uo(h,g.mode,b),p.return=g,p):(p=i(p,h),p.return=g,p)}function a(g,p,h,b){var k=h.type;return k===gr?d(g,p,h.props.children,b,h.key):p!==null&&(p.elementType===k||typeof k=="object"&&k!==null&&k.$$typeof===vn&&Pu(k)===p.type)?(b=i(p,h.props),b.ref=ti(g,p,h),b.return=g,b):(b=Rs(h.type,h.key,h.props,null,g.mode,b),b.ref=ti(g,p,h),b.return=g,b)}function c(g,p,h,b){return p===null||p.tag!==4||p.stateNode.containerInfo!==h.containerInfo||p.stateNode.implementation!==h.implementation?(p=fo(h,g.mode,b),p.return=g,p):(p=i(p,h.children||[]),p.return=g,p)}function d(g,p,h,b,k){return p===null||p.tag!==7?(p=er(h,g.mode,b,k),p.return=g,p):(p=i(p,h),p.return=g,p)}function f(g,p,h){if(typeof p=="string"&&p!==""||typeof p=="number")return p=uo(""+p,g.mode,h),p.return=g,p;if(typeof p=="object"&&p!==null){switch(p.$$typeof){case ns:return h=Rs(p.type,p.key,p.props,null,g.mode,h),h.ref=ti(g,null,p),h.return=g,h;case pr:return p=fo(p,g.mode,h),p.return=g,p;case vn:var b=p._init;return f(g,b(p._payload),h)}if(ci(p)||Yr(p))return p=er(p,g.mode,h,null),p.return=g,p;ms(g,p)}return null}function m(g,p,h,b){var k=p!==null?p.key:null;if(typeof h=="string"&&h!==""||typeof h=="number")return k!==null?null:u(g,p,""+h,b);if(typeof h=="object"&&h!==null){switch(h.$$typeof){case ns:return h.key===k?a(g,p,h,b):null;case pr:return h.key===k?c(g,p,h,b):null;case vn:return k=h._init,m(g,p,k(h._payload),b)}if(ci(h)||Yr(h))return k!==null?null:d(g,p,h,b,null);ms(g,h)}return null}function w(g,p,h,b,k){if(typeof b=="string"&&b!==""||typeof b=="number")return g=g.get(h)||null,u(p,g,""+b,k);if(typeof b=="object"&&b!==null){switch(b.$$typeof){case ns:return g=g.get(b.key===null?h:b.key)||null,a(p,g,b,k);case pr:return g=g.get(b.key===null?h:b.key)||null,c(p,g,b,k);case vn:var v=b._init;return w(g,p,h,v(b._payload),k)}if(ci(b)||Yr(b))return g=g.get(h)||null,d(p,g,b,k,null);ms(p,b)}return null}function x(g,p,h,b){for(var k=null,v=null,N=p,j=p=0,P=null;N!==null&&j<h.length;j++){N.index>j?(P=N,N=null):P=N.sibling;var M=m(g,N,h[j],b);if(M===null){N===null&&(N=P);break}e&&N&&M.alternate===null&&t(g,N),p=s(M,p,j),v===null?k=M:v.sibling=M,v=M,N=P}if(j===h.length)return n(g,N),be&&Jn(g,j),k;if(N===null){for(;j<h.length;j++)N=f(g,h[j],b),N!==null&&(p=s(N,p,j),v===null?k=N:v.sibling=N,v=N);return be&&Jn(g,j),k}for(N=r(g,N);j<h.length;j++)P=w(N,g,j,h[j],b),P!==null&&(e&&P.alternate!==null&&N.delete(P.key===null?j:P.key),p=s(P,p,j),v===null?k=P:v.sibling=P,v=P);return e&&N.forEach(function(D){return t(g,D)}),be&&Jn(g,j),k}function y(g,p,h,b){var k=Yr(h);if(typeof k!="function")throw Error(G(150));if(h=k.call(h),h==null)throw Error(G(151));for(var v=k=null,N=p,j=p=0,P=null,M=h.next();N!==null&&!M.done;j++,M=h.next()){N.index>j?(P=N,N=null):P=N.sibling;var D=m(g,N,M.value,b);if(D===null){N===null&&(N=P);break}e&&N&&D.alternate===null&&t(g,N),p=s(D,p,j),v===null?k=D:v.sibling=D,v=D,N=P}if(M.done)return n(g,N),be&&Jn(g,j),k;if(N===null){for(;!M.done;j++,M=h.next())M=f(g,M.value,b),M!==null&&(p=s(M,p,j),v===null?k=M:v.sibling=M,v=M);return be&&Jn(g,j),k}for(N=r(g,N);!M.done;j++,M=h.next())M=w(N,g,j,M.value,b),M!==null&&(e&&M.alternate!==null&&N.delete(M.key===null?j:M.key),p=s(M,p,j),v===null?k=M:v.sibling=M,v=M);return e&&N.forEach(function(z){return t(g,z)}),be&&Jn(g,j),k}function C(g,p,h,b){if(typeof h=="object"&&h!==null&&h.type===gr&&h.key===null&&(h=h.props.children),typeof h=="object"&&h!==null){switch(h.$$typeof){case ns:e:{for(var k=h.key,v=p;v!==null;){if(v.key===k){if(k=h.type,k===gr){if(v.tag===7){n(g,v.sibling),p=i(v,h.props.children),p.return=g,g=p;break e}}else if(v.elementType===k||typeof k=="object"&&k!==null&&k.$$typeof===vn&&Pu(k)===v.type){n(g,v.sibling),p=i(v,h.props),p.ref=ti(g,v,h),p.return=g,g=p;break e}n(g,v);break}else t(g,v);v=v.sibling}h.type===gr?(p=er(h.props.children,g.mode,b,h.key),p.return=g,g=p):(b=Rs(h.type,h.key,h.props,null,g.mode,b),b.ref=ti(g,p,h),b.return=g,g=b)}return o(g);case pr:e:{for(v=h.key;p!==null;){if(p.key===v)if(p.tag===4&&p.stateNode.containerInfo===h.containerInfo&&p.stateNode.implementation===h.implementation){n(g,p.sibling),p=i(p,h.children||[]),p.return=g,g=p;break e}else{n(g,p);break}else t(g,p);p=p.sibling}p=fo(h,g.mode,b),p.return=g,g=p}return o(g);case vn:return v=h._init,C(g,p,v(h._payload),b)}if(ci(h))return x(g,p,h,b);if(Yr(h))return y(g,p,h,b);ms(g,h)}return typeof h=="string"&&h!==""||typeof h=="number"?(h=""+h,p!==null&&p.tag===6?(n(g,p.sibling),p=i(p,h),p.return=g,g=p):(n(g,p),p=uo(h,g.mode,b),p.return=g,g=p),o(g)):n(g,p)}return C}var Fr=lm(!0),om=lm(!1),Ks=$n(null),Ys=null,Nr=null,ac=null;function cc(){ac=Nr=Ys=null}function uc(e){var t=Ks.current;Ne(Ks),e._currentValue=t}function ra(e,t,n){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function Pr(e,t){Ys=e,ac=Nr=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(dt=!0),e.firstContext=null)}function _t(e){var t=e._currentValue;if(ac!==e)if(e={context:e,memoizedValue:t,next:null},Nr===null){if(Ys===null)throw Error(G(308));Nr=e,Ys.dependencies={lanes:0,firstContext:e}}else Nr=Nr.next=e;return t}var Xn=null;function dc(e){Xn===null?Xn=[e]:Xn.push(e)}function am(e,t,n,r){var i=t.interleaved;return i===null?(n.next=n,dc(t)):(n.next=i.next,i.next=n),t.interleaved=n,un(e,r)}function un(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var xn=!1;function fc(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function cm(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function ln(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Tn(e,t,n){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,he&2){var i=r.pending;return i===null?t.next=t:(t.next=i.next,i.next=t),r.pending=t,un(e,n)}return i=r.interleaved,i===null?(t.next=t,dc(r)):(t.next=i.next,i.next=t),r.interleaved=t,un(e,n)}function Is(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,Xa(e,n)}}function Du(e,t){var n=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,s=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};s===null?i=s=o:s=s.next=o,n=n.next}while(n!==null);s===null?i=s=t:s=s.next=t}else i=s=t;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,effects:r.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Xs(e,t,n,r){var i=e.updateQueue;xn=!1;var s=i.firstBaseUpdate,o=i.lastBaseUpdate,u=i.shared.pending;if(u!==null){i.shared.pending=null;var a=u,c=a.next;a.next=null,o===null?s=c:o.next=c,o=a;var d=e.alternate;d!==null&&(d=d.updateQueue,u=d.lastBaseUpdate,u!==o&&(u===null?d.firstBaseUpdate=c:u.next=c,d.lastBaseUpdate=a))}if(s!==null){var f=i.baseState;o=0,d=c=a=null,u=s;do{var m=u.lane,w=u.eventTime;if((r&m)===m){d!==null&&(d=d.next={eventTime:w,lane:0,tag:u.tag,payload:u.payload,callback:u.callback,next:null});e:{var x=e,y=u;switch(m=t,w=n,y.tag){case 1:if(x=y.payload,typeof x=="function"){f=x.call(w,f,m);break e}f=x;break e;case 3:x.flags=x.flags&-65537|128;case 0:if(x=y.payload,m=typeof x=="function"?x.call(w,f,m):x,m==null)break e;f=Te({},f,m);break e;case 2:xn=!0}}u.callback!==null&&u.lane!==0&&(e.flags|=64,m=i.effects,m===null?i.effects=[u]:m.push(u))}else w={eventTime:w,lane:m,tag:u.tag,payload:u.payload,callback:u.callback,next:null},d===null?(c=d=w,a=f):d=d.next=w,o|=m;if(u=u.next,u===null){if(u=i.shared.pending,u===null)break;m=u,u=m.next,m.next=null,i.lastBaseUpdate=m,i.shared.pending=null}}while(!0);if(d===null&&(a=f),i.baseState=a,i.firstBaseUpdate=c,i.lastBaseUpdate=d,t=i.shared.interleaved,t!==null){i=t;do o|=i.lane,i=i.next;while(i!==t)}else s===null&&(i.shared.lanes=0);sr|=o,e.lanes=o,e.memoizedState=f}}function Lu(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(G(191,i));i.call(r)}}}var Yi={},Yt=$n(Yi),Li=$n(Yi),Ri=$n(Yi);function qn(e){if(e===Yi)throw Error(G(174));return e}function mc(e,t){switch(je(Ri,t),je(Li,e),je(Yt,Yi),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:Ao(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=Ao(t,e)}Ne(Yt),je(Yt,t)}function zr(){Ne(Yt),Ne(Li),Ne(Ri)}function um(e){qn(Ri.current);var t=qn(Yt.current),n=Ao(t,e.type);t!==n&&(je(Li,e),je(Yt,n))}function hc(e){Li.current===e&&(Ne(Yt),Ne(Li))}var Me=$n(0);function qs(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var io=[];function pc(){for(var e=0;e<io.length;e++)io[e]._workInProgressVersionPrimary=null;io.length=0}var _s=mn.ReactCurrentDispatcher,so=mn.ReactCurrentBatchConfig,ir=0,Ie=null,Be=null,He=null,Zs=!1,xi=!1,Oi=0,Kg=0;function Xe(){throw Error(G(321))}function gc(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!Bt(e[n],t[n]))return!1;return!0}function yc(e,t,n,r,i,s){if(ir=s,Ie=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,_s.current=e===null||e.memoizedState===null?Zg:ey,e=n(r,i),xi){s=0;do{if(xi=!1,Oi=0,25<=s)throw Error(G(301));s+=1,He=Be=null,t.updateQueue=null,_s.current=ty,e=n(r,i)}while(xi)}if(_s.current=el,t=Be!==null&&Be.next!==null,ir=0,He=Be=Ie=null,Zs=!1,t)throw Error(G(300));return e}function vc(){var e=Oi!==0;return Oi=0,e}function Gt(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return He===null?Ie.memoizedState=He=e:He=He.next=e,He}function Tt(){if(Be===null){var e=Ie.alternate;e=e!==null?e.memoizedState:null}else e=Be.next;var t=He===null?Ie.memoizedState:He.next;if(t!==null)He=t,Be=e;else{if(e===null)throw Error(G(310));Be=e,e={memoizedState:Be.memoizedState,baseState:Be.baseState,baseQueue:Be.baseQueue,queue:Be.queue,next:null},He===null?Ie.memoizedState=He=e:He=He.next=e}return He}function Ai(e,t){return typeof t=="function"?t(e):t}function lo(e){var t=Tt(),n=t.queue;if(n===null)throw Error(G(311));n.lastRenderedReducer=e;var r=Be,i=r.baseQueue,s=n.pending;if(s!==null){if(i!==null){var o=i.next;i.next=s.next,s.next=o}r.baseQueue=i=s,n.pending=null}if(i!==null){s=i.next,r=r.baseState;var u=o=null,a=null,c=s;do{var d=c.lane;if((ir&d)===d)a!==null&&(a=a.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),r=c.hasEagerState?c.eagerState:e(r,c.action);else{var f={lane:d,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};a===null?(u=a=f,o=r):a=a.next=f,Ie.lanes|=d,sr|=d}c=c.next}while(c!==null&&c!==s);a===null?o=r:a.next=u,Bt(r,t.memoizedState)||(dt=!0),t.memoizedState=r,t.baseState=o,t.baseQueue=a,n.lastRenderedState=r}if(e=n.interleaved,e!==null){i=e;do s=i.lane,Ie.lanes|=s,sr|=s,i=i.next;while(i!==e)}else i===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function oo(e){var t=Tt(),n=t.queue;if(n===null)throw Error(G(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,s=t.memoizedState;if(i!==null){n.pending=null;var o=i=i.next;do s=e(s,o.action),o=o.next;while(o!==i);Bt(s,t.memoizedState)||(dt=!0),t.memoizedState=s,t.baseQueue===null&&(t.baseState=s),n.lastRenderedState=s}return[s,r]}function dm(){}function fm(e,t){var n=Ie,r=Tt(),i=t(),s=!Bt(r.memoizedState,i);if(s&&(r.memoizedState=i,dt=!0),r=r.queue,xc(pm.bind(null,n,r,e),[e]),r.getSnapshot!==t||s||He!==null&&He.memoizedState.tag&1){if(n.flags|=2048,Fi(9,hm.bind(null,n,r,i,t),void 0,null),Ge===null)throw Error(G(349));ir&30||mm(n,t,i)}return i}function mm(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=Ie.updateQueue,t===null?(t={lastEffect:null,stores:null},Ie.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function hm(e,t,n,r){t.value=n,t.getSnapshot=r,gm(t)&&ym(e)}function pm(e,t,n){return n(function(){gm(t)&&ym(e)})}function gm(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!Bt(e,n)}catch{return!0}}function ym(e){var t=un(e,1);t!==null&&Ut(t,e,1,-1)}function Ru(e){var t=Gt();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Ai,lastRenderedState:e},t.queue=e,e=e.dispatch=qg.bind(null,Ie,e),[t.memoizedState,e]}function Fi(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},t=Ie.updateQueue,t===null?(t={lastEffect:null,stores:null},Ie.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e)),e}function vm(){return Tt().memoizedState}function Ts(e,t,n,r){var i=Gt();Ie.flags|=e,i.memoizedState=Fi(1|t,n,void 0,r===void 0?null:r)}function wl(e,t,n,r){var i=Tt();r=r===void 0?null:r;var s=void 0;if(Be!==null){var o=Be.memoizedState;if(s=o.destroy,r!==null&&gc(r,o.deps)){i.memoizedState=Fi(t,n,s,r);return}}Ie.flags|=e,i.memoizedState=Fi(1|t,n,s,r)}function Ou(e,t){return Ts(8390656,8,e,t)}function xc(e,t){return wl(2048,8,e,t)}function xm(e,t){return wl(4,2,e,t)}function Sm(e,t){return wl(4,4,e,t)}function wm(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function jm(e,t,n){return n=n!=null?n.concat([e]):null,wl(4,4,wm.bind(null,t,e),n)}function Sc(){}function Cm(e,t){var n=Tt();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&gc(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Nm(e,t){var n=Tt();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&gc(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function bm(e,t,n){return ir&21?(Bt(n,t)||(n=_f(),Ie.lanes|=n,sr|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,dt=!0),e.memoizedState=n)}function Yg(e,t){var n=ve;ve=n!==0&&4>n?n:4,e(!0);var r=so.transition;so.transition={};try{e(!1),t()}finally{ve=n,so.transition=r}}function km(){return Tt().memoizedState}function Xg(e,t,n){var r=Dn(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},Em(e))Mm(t,n);else if(n=am(e,t,n,r),n!==null){var i=st();Ut(n,e,r,i),Im(n,t,r)}}function qg(e,t,n){var r=Dn(e),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(Em(e))Mm(t,i);else{var s=e.alternate;if(e.lanes===0&&(s===null||s.lanes===0)&&(s=t.lastRenderedReducer,s!==null))try{var o=t.lastRenderedState,u=s(o,n);if(i.hasEagerState=!0,i.eagerState=u,Bt(u,o)){var a=t.interleaved;a===null?(i.next=i,dc(t)):(i.next=a.next,a.next=i),t.interleaved=i;return}}catch{}finally{}n=am(e,t,i,r),n!==null&&(i=st(),Ut(n,e,r,i),Im(n,t,r))}}function Em(e){var t=e.alternate;return e===Ie||t!==null&&t===Ie}function Mm(e,t){xi=Zs=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function Im(e,t,n){if(n&4194240){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,Xa(e,n)}}var el={readContext:_t,useCallback:Xe,useContext:Xe,useEffect:Xe,useImperativeHandle:Xe,useInsertionEffect:Xe,useLayoutEffect:Xe,useMemo:Xe,useReducer:Xe,useRef:Xe,useState:Xe,useDebugValue:Xe,useDeferredValue:Xe,useTransition:Xe,useMutableSource:Xe,useSyncExternalStore:Xe,useId:Xe,unstable_isNewReconciler:!1},Zg={readContext:_t,useCallback:function(e,t){return Gt().memoizedState=[e,t===void 0?null:t],e},useContext:_t,useEffect:Ou,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,Ts(4194308,4,wm.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Ts(4194308,4,e,t)},useInsertionEffect:function(e,t){return Ts(4,2,e,t)},useMemo:function(e,t){var n=Gt();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=Gt();return t=n!==void 0?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=Xg.bind(null,Ie,e),[r.memoizedState,e]},useRef:function(e){var t=Gt();return e={current:e},t.memoizedState=e},useState:Ru,useDebugValue:Sc,useDeferredValue:function(e){return Gt().memoizedState=e},useTransition:function(){var e=Ru(!1),t=e[0];return e=Yg.bind(null,e[1]),Gt().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=Ie,i=Gt();if(be){if(n===void 0)throw Error(G(407));n=n()}else{if(n=t(),Ge===null)throw Error(G(349));ir&30||mm(r,t,n)}i.memoizedState=n;var s={value:n,getSnapshot:t};return i.queue=s,Ou(pm.bind(null,r,s,e),[e]),r.flags|=2048,Fi(9,hm.bind(null,r,s,n,t),void 0,null),n},useId:function(){var e=Gt(),t=Ge.identifierPrefix;if(be){var n=sn,r=rn;n=(r&~(1<<32-zt(r)-1)).toString(32)+n,t=":"+t+"R"+n,n=Oi++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=Kg++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},ey={readContext:_t,useCallback:Cm,useContext:_t,useEffect:xc,useImperativeHandle:jm,useInsertionEffect:xm,useLayoutEffect:Sm,useMemo:Nm,useReducer:lo,useRef:vm,useState:function(){return lo(Ai)},useDebugValue:Sc,useDeferredValue:function(e){var t=Tt();return bm(t,Be.memoizedState,e)},useTransition:function(){var e=lo(Ai)[0],t=Tt().memoizedState;return[e,t]},useMutableSource:dm,useSyncExternalStore:fm,useId:km,unstable_isNewReconciler:!1},ty={readContext:_t,useCallback:Cm,useContext:_t,useEffect:xc,useImperativeHandle:jm,useInsertionEffect:xm,useLayoutEffect:Sm,useMemo:Nm,useReducer:oo,useRef:vm,useState:function(){return oo(Ai)},useDebugValue:Sc,useDeferredValue:function(e){var t=Tt();return Be===null?t.memoizedState=e:bm(t,Be.memoizedState,e)},useTransition:function(){var e=oo(Ai)[0],t=Tt().memoizedState;return[e,t]},useMutableSource:dm,useSyncExternalStore:fm,useId:km,unstable_isNewReconciler:!1};function Ot(e,t){if(e&&e.defaultProps){t=Te({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}function ia(e,t,n,r){t=e.memoizedState,n=n(r,t),n=n==null?t:Te({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var jl={isMounted:function(e){return(e=e._reactInternals)?cr(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=st(),i=Dn(e),s=ln(r,i);s.payload=t,n!=null&&(s.callback=n),t=Tn(e,s,i),t!==null&&(Ut(t,e,i,r),Is(t,e,i))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=st(),i=Dn(e),s=ln(r,i);s.tag=1,s.payload=t,n!=null&&(s.callback=n),t=Tn(e,s,i),t!==null&&(Ut(t,e,i,r),Is(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=st(),r=Dn(e),i=ln(n,r);i.tag=2,t!=null&&(i.callback=t),t=Tn(e,i,r),t!==null&&(Ut(t,e,r,n),Is(t,e,r))}};function Au(e,t,n,r,i,s,o){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,s,o):t.prototype&&t.prototype.isPureReactComponent?!_i(n,r)||!_i(i,s):!0}function _m(e,t,n){var r=!1,i=An,s=t.contextType;return typeof s=="object"&&s!==null?s=_t(s):(i=mt(t)?nr:tt.current,r=t.contextTypes,s=(r=r!=null)?Or(e,i):An),t=new t(n,s),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=jl,e.stateNode=t,t._reactInternals=e,r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=s),t}function Fu(e,t,n,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&jl.enqueueReplaceState(t,t.state,null)}function sa(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs={},fc(e);var s=t.contextType;typeof s=="object"&&s!==null?i.context=_t(s):(s=mt(t)?nr:tt.current,i.context=Or(e,s)),i.state=e.memoizedState,s=t.getDerivedStateFromProps,typeof s=="function"&&(ia(e,t,s,n),i.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(t=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),t!==i.state&&jl.enqueueReplaceState(i,i.state,null),Xs(e,n,i,r),i.state=e.memoizedState),typeof i.componentDidMount=="function"&&(e.flags|=4194308)}function Ur(e,t){try{var n="",r=t;do n+=Ip(r),r=r.return;while(r);var i=n}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:e,source:t,stack:i,digest:null}}function ao(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function la(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var ny=typeof WeakMap=="function"?WeakMap:Map;function Tm(e,t,n){n=ln(-1,n),n.tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){nl||(nl=!0,ga=r),la(e,t)},n}function Pm(e,t,n){n=ln(-1,n),n.tag=3;var r=e.type.getDerivedStateFromError;if(typeof r=="function"){var i=t.value;n.payload=function(){return r(i)},n.callback=function(){la(e,t)}}var s=e.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(n.callback=function(){la(e,t),typeof r!="function"&&(Pn===null?Pn=new Set([this]):Pn.add(this));var o=t.stack;this.componentDidCatch(t.value,{componentStack:o!==null?o:""})}),n}function zu(e,t,n){var r=e.pingCache;if(r===null){r=e.pingCache=new ny;var i=new Set;r.set(t,i)}else i=r.get(t),i===void 0&&(i=new Set,r.set(t,i));i.has(n)||(i.add(n),e=gy.bind(null,e,t,n),t.then(e,e))}function Uu(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function $u(e,t,n,r,i){return e.mode&1?(e.flags|=65536,e.lanes=i,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=ln(-1,1),t.tag=2,Tn(n,t,1))),n.lanes|=1),e)}var ry=mn.ReactCurrentOwner,dt=!1;function it(e,t,n,r){t.child=e===null?om(t,null,n,r):Fr(t,e.child,n,r)}function Bu(e,t,n,r,i){n=n.render;var s=t.ref;return Pr(t,i),r=yc(e,t,n,r,s,i),n=vc(),e!==null&&!dt?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,dn(e,t,i)):(be&&n&&sc(t),t.flags|=1,it(e,t,r,i),t.child)}function Vu(e,t,n,r,i){if(e===null){var s=n.type;return typeof s=="function"&&!Mc(s)&&s.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=s,Dm(e,t,s,r,i)):(e=Rs(n.type,null,r,t,t.mode,i),e.ref=t.ref,e.return=t,t.child=e)}if(s=e.child,!(e.lanes&i)){var o=s.memoizedProps;if(n=n.compare,n=n!==null?n:_i,n(o,r)&&e.ref===t.ref)return dn(e,t,i)}return t.flags|=1,e=Ln(s,r),e.ref=t.ref,e.return=t,t.child=e}function Dm(e,t,n,r,i){if(e!==null){var s=e.memoizedProps;if(_i(s,r)&&e.ref===t.ref)if(dt=!1,t.pendingProps=r=s,(e.lanes&i)!==0)e.flags&131072&&(dt=!0);else return t.lanes=e.lanes,dn(e,t,i)}return oa(e,t,n,r,i)}function Lm(e,t,n){var r=t.pendingProps,i=r.children,s=e!==null?e.memoizedState:null;if(r.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},je(kr,vt),vt|=n;else{if(!(n&1073741824))return e=s!==null?s.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,je(kr,vt),vt|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=s!==null?s.baseLanes:n,je(kr,vt),vt|=r}else s!==null?(r=s.baseLanes|n,t.memoizedState=null):r=n,je(kr,vt),vt|=r;return it(e,t,i,n),t.child}function Rm(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function oa(e,t,n,r,i){var s=mt(n)?nr:tt.current;return s=Or(t,s),Pr(t,i),n=yc(e,t,n,r,s,i),r=vc(),e!==null&&!dt?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,dn(e,t,i)):(be&&r&&sc(t),t.flags|=1,it(e,t,n,i),t.child)}function Wu(e,t,n,r,i){if(mt(n)){var s=!0;Gs(t)}else s=!1;if(Pr(t,i),t.stateNode===null)Ps(e,t),_m(t,n,r),sa(t,n,r,i),r=!0;else if(e===null){var o=t.stateNode,u=t.memoizedProps;o.props=u;var a=o.context,c=n.contextType;typeof c=="object"&&c!==null?c=_t(c):(c=mt(n)?nr:tt.current,c=Or(t,c));var d=n.getDerivedStateFromProps,f=typeof d=="function"||typeof o.getSnapshotBeforeUpdate=="function";f||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(u!==r||a!==c)&&Fu(t,o,r,c),xn=!1;var m=t.memoizedState;o.state=m,Xs(t,r,o,i),a=t.memoizedState,u!==r||m!==a||ft.current||xn?(typeof d=="function"&&(ia(t,n,d,r),a=t.memoizedState),(u=xn||Au(t,n,u,r,m,a,c))?(f||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(t.flags|=4194308)):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=a),o.props=r,o.state=a,o.context=c,r=u):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{o=t.stateNode,cm(e,t),u=t.memoizedProps,c=t.type===t.elementType?u:Ot(t.type,u),o.props=c,f=t.pendingProps,m=o.context,a=n.contextType,typeof a=="object"&&a!==null?a=_t(a):(a=mt(n)?nr:tt.current,a=Or(t,a));var w=n.getDerivedStateFromProps;(d=typeof w=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(u!==f||m!==a)&&Fu(t,o,r,a),xn=!1,m=t.memoizedState,o.state=m,Xs(t,r,o,i);var x=t.memoizedState;u!==f||m!==x||ft.current||xn?(typeof w=="function"&&(ia(t,n,w,r),x=t.memoizedState),(c=xn||Au(t,n,c,r,m,x,a)||!1)?(d||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,x,a),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,x,a)),typeof o.componentDidUpdate=="function"&&(t.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof o.componentDidUpdate!="function"||u===e.memoizedProps&&m===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||u===e.memoizedProps&&m===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=x),o.props=r,o.state=x,o.context=a,r=c):(typeof o.componentDidUpdate!="function"||u===e.memoizedProps&&m===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||u===e.memoizedProps&&m===e.memoizedState||(t.flags|=1024),r=!1)}return aa(e,t,n,r,s,i)}function aa(e,t,n,r,i,s){Rm(e,t);var o=(t.flags&128)!==0;if(!r&&!o)return i&&Iu(t,n,!1),dn(e,t,s);r=t.stateNode,ry.current=t;var u=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return t.flags|=1,e!==null&&o?(t.child=Fr(t,e.child,null,s),t.child=Fr(t,null,u,s)):it(e,t,u,s),t.memoizedState=r.state,i&&Iu(t,n,!0),t.child}function Om(e){var t=e.stateNode;t.pendingContext?Mu(e,t.pendingContext,t.pendingContext!==t.context):t.context&&Mu(e,t.context,!1),mc(e,t.containerInfo)}function Hu(e,t,n,r,i){return Ar(),oc(i),t.flags|=256,it(e,t,n,r),t.child}var ca={dehydrated:null,treeContext:null,retryLane:0};function ua(e){return{baseLanes:e,cachePool:null,transitions:null}}function Am(e,t,n){var r=t.pendingProps,i=Me.current,s=!1,o=(t.flags&128)!==0,u;if((u=o)||(u=e!==null&&e.memoizedState===null?!1:(i&2)!==0),u?(s=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(i|=1),je(Me,i&1),e===null)return na(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(o=r.children,e=r.fallback,s?(r=t.mode,s=t.child,o={mode:"hidden",children:o},!(r&1)&&s!==null?(s.childLanes=0,s.pendingProps=o):s=bl(o,r,0,null),e=er(e,r,n,null),s.return=t,e.return=t,s.sibling=e,t.child=s,t.child.memoizedState=ua(n),t.memoizedState=ca,e):wc(t,o));if(i=e.memoizedState,i!==null&&(u=i.dehydrated,u!==null))return iy(e,t,o,r,u,i,n);if(s){s=r.fallback,o=t.mode,i=e.child,u=i.sibling;var a={mode:"hidden",children:r.children};return!(o&1)&&t.child!==i?(r=t.child,r.childLanes=0,r.pendingProps=a,t.deletions=null):(r=Ln(i,a),r.subtreeFlags=i.subtreeFlags&14680064),u!==null?s=Ln(u,s):(s=er(s,o,n,null),s.flags|=2),s.return=t,r.return=t,r.sibling=s,t.child=r,r=s,s=t.child,o=e.child.memoizedState,o=o===null?ua(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},s.memoizedState=o,s.childLanes=e.childLanes&~n,t.memoizedState=ca,r}return s=e.child,e=s.sibling,r=Ln(s,{mode:"visible",children:r.children}),!(t.mode&1)&&(r.lanes=n),r.return=t,r.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=r,t.memoizedState=null,r}function wc(e,t){return t=bl({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function hs(e,t,n,r){return r!==null&&oc(r),Fr(t,e.child,null,n),e=wc(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function iy(e,t,n,r,i,s,o){if(n)return t.flags&256?(t.flags&=-257,r=ao(Error(G(422))),hs(e,t,o,r)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(s=r.fallback,i=t.mode,r=bl({mode:"visible",children:r.children},i,0,null),s=er(s,i,o,null),s.flags|=2,r.return=t,s.return=t,r.sibling=s,t.child=r,t.mode&1&&Fr(t,e.child,null,o),t.child.memoizedState=ua(o),t.memoizedState=ca,s);if(!(t.mode&1))return hs(e,t,o,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var u=r.dgst;return r=u,s=Error(G(419)),r=ao(s,r,void 0),hs(e,t,o,r)}if(u=(o&e.childLanes)!==0,dt||u){if(r=Ge,r!==null){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|o)?0:i,i!==0&&i!==s.retryLane&&(s.retryLane=i,un(e,i),Ut(r,e,i,-1))}return Ec(),r=ao(Error(G(421))),hs(e,t,o,r)}return i.data==="$?"?(t.flags|=128,t.child=e.child,t=yy.bind(null,e),i._reactRetry=t,null):(e=s.treeContext,xt=_n(i.nextSibling),St=t,be=!0,Ft=null,e!==null&&(kt[Et++]=rn,kt[Et++]=sn,kt[Et++]=rr,rn=e.id,sn=e.overflow,rr=t),t=wc(t,r.children),t.flags|=4096,t)}function Gu(e,t,n){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),ra(e.return,t,n)}function co(e,t,n,r,i){var s=e.memoizedState;s===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(s.isBackwards=t,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=i)}function Fm(e,t,n){var r=t.pendingProps,i=r.revealOrder,s=r.tail;if(it(e,t,r.children,n),r=Me.current,r&2)r=r&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Gu(e,n,t);else if(e.tag===19)Gu(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(je(Me,r),!(t.mode&1))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;n!==null;)e=n.alternate,e!==null&&qs(e)===null&&(i=n),n=n.sibling;n=i,n===null?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),co(t,!1,i,n,s);break;case"backwards":for(n=null,i=t.child,t.child=null;i!==null;){if(e=i.alternate,e!==null&&qs(e)===null){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}co(t,!0,n,null,s);break;case"together":co(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Ps(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function dn(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),sr|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(G(153));if(t.child!==null){for(e=t.child,n=Ln(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=Ln(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function sy(e,t,n){switch(t.tag){case 3:Om(t),Ar();break;case 5:um(t);break;case 1:mt(t.type)&&Gs(t);break;case 4:mc(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,i=t.memoizedProps.value;je(Ks,r._currentValue),r._currentValue=i;break;case 13:if(r=t.memoizedState,r!==null)return r.dehydrated!==null?(je(Me,Me.current&1),t.flags|=128,null):n&t.child.childLanes?Am(e,t,n):(je(Me,Me.current&1),e=dn(e,t,n),e!==null?e.sibling:null);je(Me,Me.current&1);break;case 19:if(r=(n&t.childLanes)!==0,e.flags&128){if(r)return Fm(e,t,n);t.flags|=128}if(i=t.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),je(Me,Me.current),r)break;return null;case 22:case 23:return t.lanes=0,Lm(e,t,n)}return dn(e,t,n)}var zm,da,Um,$m;zm=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};da=function(){};Um=function(e,t,n,r){var i=e.memoizedProps;if(i!==r){e=t.stateNode,qn(Yt.current);var s=null;switch(n){case"input":i=Do(e,i),r=Do(e,r),s=[];break;case"select":i=Te({},i,{value:void 0}),r=Te({},r,{value:void 0}),s=[];break;case"textarea":i=Oo(e,i),r=Oo(e,r),s=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(e.onclick=Ws)}Fo(n,r);var o;n=null;for(c in i)if(!r.hasOwnProperty(c)&&i.hasOwnProperty(c)&&i[c]!=null)if(c==="style"){var u=i[c];for(o in u)u.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(Ci.hasOwnProperty(c)?s||(s=[]):(s=s||[]).push(c,null));for(c in r){var a=r[c];if(u=i!=null?i[c]:void 0,r.hasOwnProperty(c)&&a!==u&&(a!=null||u!=null))if(c==="style")if(u){for(o in u)!u.hasOwnProperty(o)||a&&a.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in a)a.hasOwnProperty(o)&&u[o]!==a[o]&&(n||(n={}),n[o]=a[o])}else n||(s||(s=[]),s.push(c,n)),n=a;else c==="dangerouslySetInnerHTML"?(a=a?a.__html:void 0,u=u?u.__html:void 0,a!=null&&u!==a&&(s=s||[]).push(c,a)):c==="children"?typeof a!="string"&&typeof a!="number"||(s=s||[]).push(c,""+a):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(Ci.hasOwnProperty(c)?(a!=null&&c==="onScroll"&&Ce("scroll",e),s||u===a||(s=[])):(s=s||[]).push(c,a))}n&&(s=s||[]).push("style",n);var c=s;(t.updateQueue=c)&&(t.flags|=4)}};$m=function(e,t,n,r){n!==r&&(t.flags|=4)};function ni(e,t){if(!be)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function qe(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=e,i=i.sibling;else for(i=e.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function ly(e,t,n){var r=t.pendingProps;switch(lc(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return qe(t),null;case 1:return mt(t.type)&&Hs(),qe(t),null;case 3:return r=t.stateNode,zr(),Ne(ft),Ne(tt),pc(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(fs(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,Ft!==null&&(xa(Ft),Ft=null))),da(e,t),qe(t),null;case 5:hc(t);var i=qn(Ri.current);if(n=t.type,e!==null&&t.stateNode!=null)Um(e,t,n,r,i),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(t.stateNode===null)throw Error(G(166));return qe(t),null}if(e=qn(Yt.current),fs(t)){r=t.stateNode,n=t.type;var s=t.memoizedProps;switch(r[Qt]=t,r[Di]=s,e=(t.mode&1)!==0,n){case"dialog":Ce("cancel",r),Ce("close",r);break;case"iframe":case"object":case"embed":Ce("load",r);break;case"video":case"audio":for(i=0;i<di.length;i++)Ce(di[i],r);break;case"source":Ce("error",r);break;case"img":case"image":case"link":Ce("error",r),Ce("load",r);break;case"details":Ce("toggle",r);break;case"input":tu(r,s),Ce("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},Ce("invalid",r);break;case"textarea":ru(r,s),Ce("invalid",r)}Fo(n,s),i=null;for(var o in s)if(s.hasOwnProperty(o)){var u=s[o];o==="children"?typeof u=="string"?r.textContent!==u&&(s.suppressHydrationWarning!==!0&&ds(r.textContent,u,e),i=["children",u]):typeof u=="number"&&r.textContent!==""+u&&(s.suppressHydrationWarning!==!0&&ds(r.textContent,u,e),i=["children",""+u]):Ci.hasOwnProperty(o)&&u!=null&&o==="onScroll"&&Ce("scroll",r)}switch(n){case"input":rs(r),nu(r,s,!0);break;case"textarea":rs(r),iu(r);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(r.onclick=Ws)}r=i,t.updateQueue=r,r!==null&&(t.flags|=4)}else{o=i.nodeType===9?i:i.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=pf(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=o.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof r.is=="string"?e=o.createElement(n,{is:r.is}):(e=o.createElement(n),n==="select"&&(o=e,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):e=o.createElementNS(e,n),e[Qt]=t,e[Di]=r,zm(e,t,!1,!1),t.stateNode=e;e:{switch(o=zo(n,r),n){case"dialog":Ce("cancel",e),Ce("close",e),i=r;break;case"iframe":case"object":case"embed":Ce("load",e),i=r;break;case"video":case"audio":for(i=0;i<di.length;i++)Ce(di[i],e);i=r;break;case"source":Ce("error",e),i=r;break;case"img":case"image":case"link":Ce("error",e),Ce("load",e),i=r;break;case"details":Ce("toggle",e),i=r;break;case"input":tu(e,r),i=Do(e,r),Ce("invalid",e);break;case"option":i=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},i=Te({},r,{value:void 0}),Ce("invalid",e);break;case"textarea":ru(e,r),i=Oo(e,r),Ce("invalid",e);break;default:i=r}Fo(n,i),u=i;for(s in u)if(u.hasOwnProperty(s)){var a=u[s];s==="style"?vf(e,a):s==="dangerouslySetInnerHTML"?(a=a?a.__html:void 0,a!=null&&gf(e,a)):s==="children"?typeof a=="string"?(n!=="textarea"||a!=="")&&Ni(e,a):typeof a=="number"&&Ni(e,""+a):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(Ci.hasOwnProperty(s)?a!=null&&s==="onScroll"&&Ce("scroll",e):a!=null&&Ha(e,s,a,o))}switch(n){case"input":rs(e),nu(e,r,!1);break;case"textarea":rs(e),iu(e);break;case"option":r.value!=null&&e.setAttribute("value",""+On(r.value));break;case"select":e.multiple=!!r.multiple,s=r.value,s!=null?Mr(e,!!r.multiple,s,!1):r.defaultValue!=null&&Mr(e,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(e.onclick=Ws)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return qe(t),null;case 6:if(e&&t.stateNode!=null)$m(e,t,e.memoizedProps,r);else{if(typeof r!="string"&&t.stateNode===null)throw Error(G(166));if(n=qn(Ri.current),qn(Yt.current),fs(t)){if(r=t.stateNode,n=t.memoizedProps,r[Qt]=t,(s=r.nodeValue!==n)&&(e=St,e!==null))switch(e.tag){case 3:ds(r.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&ds(r.nodeValue,n,(e.mode&1)!==0)}s&&(t.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Qt]=t,t.stateNode=r}return qe(t),null;case 13:if(Ne(Me),r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(be&&xt!==null&&t.mode&1&&!(t.flags&128))sm(),Ar(),t.flags|=98560,s=!1;else if(s=fs(t),r!==null&&r.dehydrated!==null){if(e===null){if(!s)throw Error(G(318));if(s=t.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(G(317));s[Qt]=t}else Ar(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;qe(t),s=!1}else Ft!==null&&(xa(Ft),Ft=null),s=!0;if(!s)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(r=r!==null,r!==(e!==null&&e.memoizedState!==null)&&r&&(t.child.flags|=8192,t.mode&1&&(e===null||Me.current&1?Ve===0&&(Ve=3):Ec())),t.updateQueue!==null&&(t.flags|=4),qe(t),null);case 4:return zr(),da(e,t),e===null&&Ti(t.stateNode.containerInfo),qe(t),null;case 10:return uc(t.type._context),qe(t),null;case 17:return mt(t.type)&&Hs(),qe(t),null;case 19:if(Ne(Me),s=t.memoizedState,s===null)return qe(t),null;if(r=(t.flags&128)!==0,o=s.rendering,o===null)if(r)ni(s,!1);else{if(Ve!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(o=qs(e),o!==null){for(t.flags|=128,ni(s,!1),r=o.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;n!==null;)s=n,e=r,s.flags&=14680066,o=s.alternate,o===null?(s.childLanes=0,s.lanes=e,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=o.childLanes,s.lanes=o.lanes,s.child=o.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=o.memoizedProps,s.memoizedState=o.memoizedState,s.updateQueue=o.updateQueue,s.type=o.type,e=o.dependencies,s.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return je(Me,Me.current&1|2),t.child}e=e.sibling}s.tail!==null&&Oe()>$r&&(t.flags|=128,r=!0,ni(s,!1),t.lanes=4194304)}else{if(!r)if(e=qs(o),e!==null){if(t.flags|=128,r=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),ni(s,!0),s.tail===null&&s.tailMode==="hidden"&&!o.alternate&&!be)return qe(t),null}else 2*Oe()-s.renderingStartTime>$r&&n!==1073741824&&(t.flags|=128,r=!0,ni(s,!1),t.lanes=4194304);s.isBackwards?(o.sibling=t.child,t.child=o):(n=s.last,n!==null?n.sibling=o:t.child=o,s.last=o)}return s.tail!==null?(t=s.tail,s.rendering=t,s.tail=t.sibling,s.renderingStartTime=Oe(),t.sibling=null,n=Me.current,je(Me,r?n&1|2:n&1),t):(qe(t),null);case 22:case 23:return kc(),r=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==r&&(t.flags|=8192),r&&t.mode&1?vt&1073741824&&(qe(t),t.subtreeFlags&6&&(t.flags|=8192)):qe(t),null;case 24:return null;case 25:return null}throw Error(G(156,t.tag))}function oy(e,t){switch(lc(t),t.tag){case 1:return mt(t.type)&&Hs(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return zr(),Ne(ft),Ne(tt),pc(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return hc(t),null;case 13:if(Ne(Me),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(G(340));Ar()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return Ne(Me),null;case 4:return zr(),null;case 10:return uc(t.type._context),null;case 22:case 23:return kc(),null;case 24:return null;default:return null}}var ps=!1,Ze=!1,ay=typeof WeakSet=="function"?WeakSet:Set,Y=null;function br(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){Le(e,t,r)}else n.current=null}function fa(e,t,n){try{n()}catch(r){Le(e,t,r)}}var Qu=!1;function cy(e,t){if(Ko=$s,e=Gf(),ic(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{n.nodeType,s.nodeType}catch{n=null;break e}var o=0,u=-1,a=-1,c=0,d=0,f=e,m=null;t:for(;;){for(var w;f!==n||i!==0&&f.nodeType!==3||(u=o+i),f!==s||r!==0&&f.nodeType!==3||(a=o+r),f.nodeType===3&&(o+=f.nodeValue.length),(w=f.firstChild)!==null;)m=f,f=w;for(;;){if(f===e)break t;if(m===n&&++c===i&&(u=o),m===s&&++d===r&&(a=o),(w=f.nextSibling)!==null)break;f=m,m=f.parentNode}f=w}n=u===-1||a===-1?null:{start:u,end:a}}else n=null}n=n||{start:0,end:0}}else n=null;for(Yo={focusedElem:e,selectionRange:n},$s=!1,Y=t;Y!==null;)if(t=Y,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,Y=e;else for(;Y!==null;){t=Y;try{var x=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(x!==null){var y=x.memoizedProps,C=x.memoizedState,g=t.stateNode,p=g.getSnapshotBeforeUpdate(t.elementType===t.type?y:Ot(t.type,y),C);g.__reactInternalSnapshotBeforeUpdate=p}break;case 3:var h=t.stateNode.containerInfo;h.nodeType===1?h.textContent="":h.nodeType===9&&h.documentElement&&h.removeChild(h.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(G(163))}}catch(b){Le(t,t.return,b)}if(e=t.sibling,e!==null){e.return=t.return,Y=e;break}Y=t.return}return x=Qu,Qu=!1,x}function Si(e,t,n){var r=t.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&e)===e){var s=i.destroy;i.destroy=void 0,s!==void 0&&fa(t,n,s)}i=i.next}while(i!==r)}}function Cl(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function ma(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function Bm(e){var t=e.alternate;t!==null&&(e.alternate=null,Bm(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[Qt],delete t[Di],delete t[Zo],delete t[Hg],delete t[Gg])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function Vm(e){return e.tag===5||e.tag===3||e.tag===4}function Ju(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Vm(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function ha(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=Ws));else if(r!==4&&(e=e.child,e!==null))for(ha(e,t,n),e=e.sibling;e!==null;)ha(e,t,n),e=e.sibling}function pa(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(r!==4&&(e=e.child,e!==null))for(pa(e,t,n),e=e.sibling;e!==null;)pa(e,t,n),e=e.sibling}var Je=null,At=!1;function gn(e,t,n){for(n=n.child;n!==null;)Wm(e,t,n),n=n.sibling}function Wm(e,t,n){if(Kt&&typeof Kt.onCommitFiberUnmount=="function")try{Kt.onCommitFiberUnmount(pl,n)}catch{}switch(n.tag){case 5:Ze||br(n,t);case 6:var r=Je,i=At;Je=null,gn(e,t,n),Je=r,At=i,Je!==null&&(At?(e=Je,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):Je.removeChild(n.stateNode));break;case 18:Je!==null&&(At?(e=Je,n=n.stateNode,e.nodeType===8?no(e.parentNode,n):e.nodeType===1&&no(e,n),Mi(e)):no(Je,n.stateNode));break;case 4:r=Je,i=At,Je=n.stateNode.containerInfo,At=!0,gn(e,t,n),Je=r,At=i;break;case 0:case 11:case 14:case 15:if(!Ze&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var s=i,o=s.destroy;s=s.tag,o!==void 0&&(s&2||s&4)&&fa(n,t,o),i=i.next}while(i!==r)}gn(e,t,n);break;case 1:if(!Ze&&(br(n,t),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(u){Le(n,t,u)}gn(e,t,n);break;case 21:gn(e,t,n);break;case 22:n.mode&1?(Ze=(r=Ze)||n.memoizedState!==null,gn(e,t,n),Ze=r):gn(e,t,n);break;default:gn(e,t,n)}}function Ku(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new ay),t.forEach(function(r){var i=vy.bind(null,e,r);n.has(r)||(n.add(r),r.then(i,i))})}}function Rt(e,t){var n=t.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var s=e,o=t,u=o;e:for(;u!==null;){switch(u.tag){case 5:Je=u.stateNode,At=!1;break e;case 3:Je=u.stateNode.containerInfo,At=!0;break e;case 4:Je=u.stateNode.containerInfo,At=!0;break e}u=u.return}if(Je===null)throw Error(G(160));Wm(s,o,i),Je=null,At=!1;var a=i.alternate;a!==null&&(a.return=null),i.return=null}catch(c){Le(i,t,c)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)Hm(t,e),t=t.sibling}function Hm(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(Rt(t,e),Wt(e),r&4){try{Si(3,e,e.return),Cl(3,e)}catch(y){Le(e,e.return,y)}try{Si(5,e,e.return)}catch(y){Le(e,e.return,y)}}break;case 1:Rt(t,e),Wt(e),r&512&&n!==null&&br(n,n.return);break;case 5:if(Rt(t,e),Wt(e),r&512&&n!==null&&br(n,n.return),e.flags&32){var i=e.stateNode;try{Ni(i,"")}catch(y){Le(e,e.return,y)}}if(r&4&&(i=e.stateNode,i!=null)){var s=e.memoizedProps,o=n!==null?n.memoizedProps:s,u=e.type,a=e.updateQueue;if(e.updateQueue=null,a!==null)try{u==="input"&&s.type==="radio"&&s.name!=null&&mf(i,s),zo(u,o);var c=zo(u,s);for(o=0;o<a.length;o+=2){var d=a[o],f=a[o+1];d==="style"?vf(i,f):d==="dangerouslySetInnerHTML"?gf(i,f):d==="children"?Ni(i,f):Ha(i,d,f,c)}switch(u){case"input":Lo(i,s);break;case"textarea":hf(i,s);break;case"select":var m=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var w=s.value;w!=null?Mr(i,!!s.multiple,w,!1):m!==!!s.multiple&&(s.defaultValue!=null?Mr(i,!!s.multiple,s.defaultValue,!0):Mr(i,!!s.multiple,s.multiple?[]:"",!1))}i[Di]=s}catch(y){Le(e,e.return,y)}}break;case 6:if(Rt(t,e),Wt(e),r&4){if(e.stateNode===null)throw Error(G(162));i=e.stateNode,s=e.memoizedProps;try{i.nodeValue=s}catch(y){Le(e,e.return,y)}}break;case 3:if(Rt(t,e),Wt(e),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Mi(t.containerInfo)}catch(y){Le(e,e.return,y)}break;case 4:Rt(t,e),Wt(e);break;case 13:Rt(t,e),Wt(e),i=e.child,i.flags&8192&&(s=i.memoizedState!==null,i.stateNode.isHidden=s,!s||i.alternate!==null&&i.alternate.memoizedState!==null||(Nc=Oe())),r&4&&Ku(e);break;case 22:if(d=n!==null&&n.memoizedState!==null,e.mode&1?(Ze=(c=Ze)||d,Rt(t,e),Ze=c):Rt(t,e),Wt(e),r&8192){if(c=e.memoizedState!==null,(e.stateNode.isHidden=c)&&!d&&e.mode&1)for(Y=e,d=e.child;d!==null;){for(f=Y=d;Y!==null;){switch(m=Y,w=m.child,m.tag){case 0:case 11:case 14:case 15:Si(4,m,m.return);break;case 1:br(m,m.return);var x=m.stateNode;if(typeof x.componentWillUnmount=="function"){r=m,n=m.return;try{t=r,x.props=t.memoizedProps,x.state=t.memoizedState,x.componentWillUnmount()}catch(y){Le(r,n,y)}}break;case 5:br(m,m.return);break;case 22:if(m.memoizedState!==null){Xu(f);continue}}w!==null?(w.return=m,Y=w):Xu(f)}d=d.sibling}e:for(d=null,f=e;;){if(f.tag===5){if(d===null){d=f;try{i=f.stateNode,c?(s=i.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(u=f.stateNode,a=f.memoizedProps.style,o=a!=null&&a.hasOwnProperty("display")?a.display:null,u.style.display=yf("display",o))}catch(y){Le(e,e.return,y)}}}else if(f.tag===6){if(d===null)try{f.stateNode.nodeValue=c?"":f.memoizedProps}catch(y){Le(e,e.return,y)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===e)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===e)break e;for(;f.sibling===null;){if(f.return===null||f.return===e)break e;d===f&&(d=null),f=f.return}d===f&&(d=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:Rt(t,e),Wt(e),r&4&&Ku(e);break;case 21:break;default:Rt(t,e),Wt(e)}}function Wt(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(Vm(n)){var r=n;break e}n=n.return}throw Error(G(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(Ni(i,""),r.flags&=-33);var s=Ju(e);pa(e,s,i);break;case 3:case 4:var o=r.stateNode.containerInfo,u=Ju(e);ha(e,u,o);break;default:throw Error(G(161))}}catch(a){Le(e,e.return,a)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function uy(e,t,n){Y=e,Gm(e)}function Gm(e,t,n){for(var r=(e.mode&1)!==0;Y!==null;){var i=Y,s=i.child;if(i.tag===22&&r){var o=i.memoizedState!==null||ps;if(!o){var u=i.alternate,a=u!==null&&u.memoizedState!==null||Ze;u=ps;var c=Ze;if(ps=o,(Ze=a)&&!c)for(Y=i;Y!==null;)o=Y,a=o.child,o.tag===22&&o.memoizedState!==null?qu(i):a!==null?(a.return=o,Y=a):qu(i);for(;s!==null;)Y=s,Gm(s),s=s.sibling;Y=i,ps=u,Ze=c}Yu(e)}else i.subtreeFlags&8772&&s!==null?(s.return=i,Y=s):Yu(e)}}function Yu(e){for(;Y!==null;){var t=Y;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:Ze||Cl(5,t);break;case 1:var r=t.stateNode;if(t.flags&4&&!Ze)if(n===null)r.componentDidMount();else{var i=t.elementType===t.type?n.memoizedProps:Ot(t.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var s=t.updateQueue;s!==null&&Lu(t,s,r);break;case 3:var o=t.updateQueue;if(o!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}Lu(t,o,n)}break;case 5:var u=t.stateNode;if(n===null&&t.flags&4){n=u;var a=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":a.autoFocus&&n.focus();break;case"img":a.src&&(n.src=a.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var c=t.alternate;if(c!==null){var d=c.memoizedState;if(d!==null){var f=d.dehydrated;f!==null&&Mi(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(G(163))}Ze||t.flags&512&&ma(t)}catch(m){Le(t,t.return,m)}}if(t===e){Y=null;break}if(n=t.sibling,n!==null){n.return=t.return,Y=n;break}Y=t.return}}function Xu(e){for(;Y!==null;){var t=Y;if(t===e){Y=null;break}var n=t.sibling;if(n!==null){n.return=t.return,Y=n;break}Y=t.return}}function qu(e){for(;Y!==null;){var t=Y;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{Cl(4,t)}catch(a){Le(t,n,a)}break;case 1:var r=t.stateNode;if(typeof r.componentDidMount=="function"){var i=t.return;try{r.componentDidMount()}catch(a){Le(t,i,a)}}var s=t.return;try{ma(t)}catch(a){Le(t,s,a)}break;case 5:var o=t.return;try{ma(t)}catch(a){Le(t,o,a)}}}catch(a){Le(t,t.return,a)}if(t===e){Y=null;break}var u=t.sibling;if(u!==null){u.return=t.return,Y=u;break}Y=t.return}}var dy=Math.ceil,tl=mn.ReactCurrentDispatcher,jc=mn.ReactCurrentOwner,It=mn.ReactCurrentBatchConfig,he=0,Ge=null,Fe=null,Ke=0,vt=0,kr=$n(0),Ve=0,zi=null,sr=0,Nl=0,Cc=0,wi=null,ut=null,Nc=0,$r=1/0,Zt=null,nl=!1,ga=null,Pn=null,gs=!1,Cn=null,rl=0,ji=0,ya=null,Ds=-1,Ls=0;function st(){return he&6?Oe():Ds!==-1?Ds:Ds=Oe()}function Dn(e){return e.mode&1?he&2&&Ke!==0?Ke&-Ke:Jg.transition!==null?(Ls===0&&(Ls=_f()),Ls):(e=ve,e!==0||(e=window.event,e=e===void 0?16:Af(e.type)),e):1}function Ut(e,t,n,r){if(50<ji)throw ji=0,ya=null,Error(G(185));Qi(e,n,r),(!(he&2)||e!==Ge)&&(e===Ge&&(!(he&2)&&(Nl|=n),Ve===4&&wn(e,Ke)),ht(e,r),n===1&&he===0&&!(t.mode&1)&&($r=Oe()+500,Sl&&Bn()))}function ht(e,t){var n=e.callbackNode;Jp(e,t);var r=Us(e,e===Ge?Ke:0);if(r===0)n!==null&&ou(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(n!=null&&ou(n),t===1)e.tag===0?Qg(Zu.bind(null,e)):nm(Zu.bind(null,e)),Vg(function(){!(he&6)&&Bn()}),n=null;else{switch(Tf(r)){case 1:n=Ya;break;case 4:n=Mf;break;case 16:n=zs;break;case 536870912:n=If;break;default:n=zs}n=eh(n,Qm.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function Qm(e,t){if(Ds=-1,Ls=0,he&6)throw Error(G(327));var n=e.callbackNode;if(Dr()&&e.callbackNode!==n)return null;var r=Us(e,e===Ge?Ke:0);if(r===0)return null;if(r&30||r&e.expiredLanes||t)t=il(e,r);else{t=r;var i=he;he|=2;var s=Km();(Ge!==e||Ke!==t)&&(Zt=null,$r=Oe()+500,Zn(e,t));do try{hy();break}catch(u){Jm(e,u)}while(!0);cc(),tl.current=s,he=i,Fe!==null?t=0:(Ge=null,Ke=0,t=Ve)}if(t!==0){if(t===2&&(i=Wo(e),i!==0&&(r=i,t=va(e,i))),t===1)throw n=zi,Zn(e,0),wn(e,r),ht(e,Oe()),n;if(t===6)wn(e,r);else{if(i=e.current.alternate,!(r&30)&&!fy(i)&&(t=il(e,r),t===2&&(s=Wo(e),s!==0&&(r=s,t=va(e,s))),t===1))throw n=zi,Zn(e,0),wn(e,r),ht(e,Oe()),n;switch(e.finishedWork=i,e.finishedLanes=r,t){case 0:case 1:throw Error(G(345));case 2:Kn(e,ut,Zt);break;case 3:if(wn(e,r),(r&130023424)===r&&(t=Nc+500-Oe(),10<t)){if(Us(e,0)!==0)break;if(i=e.suspendedLanes,(i&r)!==r){st(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=qo(Kn.bind(null,e,ut,Zt),t);break}Kn(e,ut,Zt);break;case 4:if(wn(e,r),(r&4194240)===r)break;for(t=e.eventTimes,i=-1;0<r;){var o=31-zt(r);s=1<<o,o=t[o],o>i&&(i=o),r&=~s}if(r=i,r=Oe()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*dy(r/1960))-r,10<r){e.timeoutHandle=qo(Kn.bind(null,e,ut,Zt),r);break}Kn(e,ut,Zt);break;case 5:Kn(e,ut,Zt);break;default:throw Error(G(329))}}}return ht(e,Oe()),e.callbackNode===n?Qm.bind(null,e):null}function va(e,t){var n=wi;return e.current.memoizedState.isDehydrated&&(Zn(e,t).flags|=256),e=il(e,t),e!==2&&(t=ut,ut=n,t!==null&&xa(t)),e}function xa(e){ut===null?ut=e:ut.push.apply(ut,e)}function fy(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],s=i.getSnapshot;i=i.value;try{if(!Bt(s(),i))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function wn(e,t){for(t&=~Cc,t&=~Nl,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-zt(t),r=1<<n;e[n]=-1,t&=~r}}function Zu(e){if(he&6)throw Error(G(327));Dr();var t=Us(e,0);if(!(t&1))return ht(e,Oe()),null;var n=il(e,t);if(e.tag!==0&&n===2){var r=Wo(e);r!==0&&(t=r,n=va(e,r))}if(n===1)throw n=zi,Zn(e,0),wn(e,t),ht(e,Oe()),n;if(n===6)throw Error(G(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Kn(e,ut,Zt),ht(e,Oe()),null}function bc(e,t){var n=he;he|=1;try{return e(t)}finally{he=n,he===0&&($r=Oe()+500,Sl&&Bn())}}function lr(e){Cn!==null&&Cn.tag===0&&!(he&6)&&Dr();var t=he;he|=1;var n=It.transition,r=ve;try{if(It.transition=null,ve=1,e)return e()}finally{ve=r,It.transition=n,he=t,!(he&6)&&Bn()}}function kc(){vt=kr.current,Ne(kr)}function Zn(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,Bg(n)),Fe!==null)for(n=Fe.return;n!==null;){var r=n;switch(lc(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Hs();break;case 3:zr(),Ne(ft),Ne(tt),pc();break;case 5:hc(r);break;case 4:zr();break;case 13:Ne(Me);break;case 19:Ne(Me);break;case 10:uc(r.type._context);break;case 22:case 23:kc()}n=n.return}if(Ge=e,Fe=e=Ln(e.current,null),Ke=vt=t,Ve=0,zi=null,Cc=Nl=sr=0,ut=wi=null,Xn!==null){for(t=0;t<Xn.length;t++)if(n=Xn[t],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,s=n.pending;if(s!==null){var o=s.next;s.next=i,r.next=o}n.pending=r}Xn=null}return e}function Jm(e,t){do{var n=Fe;try{if(cc(),_s.current=el,Zs){for(var r=Ie.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}Zs=!1}if(ir=0,He=Be=Ie=null,xi=!1,Oi=0,jc.current=null,n===null||n.return===null){Ve=1,zi=t,Fe=null;break}e:{var s=e,o=n.return,u=n,a=t;if(t=Ke,u.flags|=32768,a!==null&&typeof a=="object"&&typeof a.then=="function"){var c=a,d=u,f=d.tag;if(!(d.mode&1)&&(f===0||f===11||f===15)){var m=d.alternate;m?(d.updateQueue=m.updateQueue,d.memoizedState=m.memoizedState,d.lanes=m.lanes):(d.updateQueue=null,d.memoizedState=null)}var w=Uu(o);if(w!==null){w.flags&=-257,$u(w,o,u,s,t),w.mode&1&&zu(s,c,t),t=w,a=c;var x=t.updateQueue;if(x===null){var y=new Set;y.add(a),t.updateQueue=y}else x.add(a);break e}else{if(!(t&1)){zu(s,c,t),Ec();break e}a=Error(G(426))}}else if(be&&u.mode&1){var C=Uu(o);if(C!==null){!(C.flags&65536)&&(C.flags|=256),$u(C,o,u,s,t),oc(Ur(a,u));break e}}s=a=Ur(a,u),Ve!==4&&(Ve=2),wi===null?wi=[s]:wi.push(s),s=o;do{switch(s.tag){case 3:s.flags|=65536,t&=-t,s.lanes|=t;var g=Tm(s,a,t);Du(s,g);break e;case 1:u=a;var p=s.type,h=s.stateNode;if(!(s.flags&128)&&(typeof p.getDerivedStateFromError=="function"||h!==null&&typeof h.componentDidCatch=="function"&&(Pn===null||!Pn.has(h)))){s.flags|=65536,t&=-t,s.lanes|=t;var b=Pm(s,u,t);Du(s,b);break e}}s=s.return}while(s!==null)}Xm(n)}catch(k){t=k,Fe===n&&n!==null&&(Fe=n=n.return);continue}break}while(!0)}function Km(){var e=tl.current;return tl.current=el,e===null?el:e}function Ec(){(Ve===0||Ve===3||Ve===2)&&(Ve=4),Ge===null||!(sr&268435455)&&!(Nl&268435455)||wn(Ge,Ke)}function il(e,t){var n=he;he|=2;var r=Km();(Ge!==e||Ke!==t)&&(Zt=null,Zn(e,t));do try{my();break}catch(i){Jm(e,i)}while(!0);if(cc(),he=n,tl.current=r,Fe!==null)throw Error(G(261));return Ge=null,Ke=0,Ve}function my(){for(;Fe!==null;)Ym(Fe)}function hy(){for(;Fe!==null&&!zp();)Ym(Fe)}function Ym(e){var t=Zm(e.alternate,e,vt);e.memoizedProps=e.pendingProps,t===null?Xm(e):Fe=t,jc.current=null}function Xm(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=oy(n,t),n!==null){n.flags&=32767,Fe=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{Ve=6,Fe=null;return}}else if(n=ly(n,t,vt),n!==null){Fe=n;return}if(t=t.sibling,t!==null){Fe=t;return}Fe=t=e}while(t!==null);Ve===0&&(Ve=5)}function Kn(e,t,n){var r=ve,i=It.transition;try{It.transition=null,ve=1,py(e,t,n,r)}finally{It.transition=i,ve=r}return null}function py(e,t,n,r){do Dr();while(Cn!==null);if(he&6)throw Error(G(327));n=e.finishedWork;var i=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(G(177));e.callbackNode=null,e.callbackPriority=0;var s=n.lanes|n.childLanes;if(Kp(e,s),e===Ge&&(Fe=Ge=null,Ke=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||gs||(gs=!0,eh(zs,function(){return Dr(),null})),s=(n.flags&15990)!==0,n.subtreeFlags&15990||s){s=It.transition,It.transition=null;var o=ve;ve=1;var u=he;he|=4,jc.current=null,cy(e,n),Hm(n,e),Rg(Yo),$s=!!Ko,Yo=Ko=null,e.current=n,uy(n),Up(),he=u,ve=o,It.transition=s}else e.current=n;if(gs&&(gs=!1,Cn=e,rl=i),s=e.pendingLanes,s===0&&(Pn=null),Vp(n.stateNode),ht(e,Oe()),t!==null)for(r=e.onRecoverableError,n=0;n<t.length;n++)i=t[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(nl)throw nl=!1,e=ga,ga=null,e;return rl&1&&e.tag!==0&&Dr(),s=e.pendingLanes,s&1?e===ya?ji++:(ji=0,ya=e):ji=0,Bn(),null}function Dr(){if(Cn!==null){var e=Tf(rl),t=It.transition,n=ve;try{if(It.transition=null,ve=16>e?16:e,Cn===null)var r=!1;else{if(e=Cn,Cn=null,rl=0,he&6)throw Error(G(331));var i=he;for(he|=4,Y=e.current;Y!==null;){var s=Y,o=s.child;if(Y.flags&16){var u=s.deletions;if(u!==null){for(var a=0;a<u.length;a++){var c=u[a];for(Y=c;Y!==null;){var d=Y;switch(d.tag){case 0:case 11:case 15:Si(8,d,s)}var f=d.child;if(f!==null)f.return=d,Y=f;else for(;Y!==null;){d=Y;var m=d.sibling,w=d.return;if(Bm(d),d===c){Y=null;break}if(m!==null){m.return=w,Y=m;break}Y=w}}}var x=s.alternate;if(x!==null){var y=x.child;if(y!==null){x.child=null;do{var C=y.sibling;y.sibling=null,y=C}while(y!==null)}}Y=s}}if(s.subtreeFlags&2064&&o!==null)o.return=s,Y=o;else e:for(;Y!==null;){if(s=Y,s.flags&2048)switch(s.tag){case 0:case 11:case 15:Si(9,s,s.return)}var g=s.sibling;if(g!==null){g.return=s.return,Y=g;break e}Y=s.return}}var p=e.current;for(Y=p;Y!==null;){o=Y;var h=o.child;if(o.subtreeFlags&2064&&h!==null)h.return=o,Y=h;else e:for(o=p;Y!==null;){if(u=Y,u.flags&2048)try{switch(u.tag){case 0:case 11:case 15:Cl(9,u)}}catch(k){Le(u,u.return,k)}if(u===o){Y=null;break e}var b=u.sibling;if(b!==null){b.return=u.return,Y=b;break e}Y=u.return}}if(he=i,Bn(),Kt&&typeof Kt.onPostCommitFiberRoot=="function")try{Kt.onPostCommitFiberRoot(pl,e)}catch{}r=!0}return r}finally{ve=n,It.transition=t}}return!1}function ed(e,t,n){t=Ur(n,t),t=Tm(e,t,1),e=Tn(e,t,1),t=st(),e!==null&&(Qi(e,1,t),ht(e,t))}function Le(e,t,n){if(e.tag===3)ed(e,e,n);else for(;t!==null;){if(t.tag===3){ed(t,e,n);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Pn===null||!Pn.has(r))){e=Ur(n,e),e=Pm(t,e,1),t=Tn(t,e,1),e=st(),t!==null&&(Qi(t,1,e),ht(t,e));break}}t=t.return}}function gy(e,t,n){var r=e.pingCache;r!==null&&r.delete(t),t=st(),e.pingedLanes|=e.suspendedLanes&n,Ge===e&&(Ke&n)===n&&(Ve===4||Ve===3&&(Ke&130023424)===Ke&&500>Oe()-Nc?Zn(e,0):Cc|=n),ht(e,t)}function qm(e,t){t===0&&(e.mode&1?(t=ls,ls<<=1,!(ls&130023424)&&(ls=4194304)):t=1);var n=st();e=un(e,t),e!==null&&(Qi(e,t,n),ht(e,n))}function yy(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),qm(e,n)}function vy(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,i=e.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(G(314))}r!==null&&r.delete(t),qm(e,n)}var Zm;Zm=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||ft.current)dt=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return dt=!1,sy(e,t,n);dt=!!(e.flags&131072)}else dt=!1,be&&t.flags&1048576&&rm(t,Js,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;Ps(e,t),e=t.pendingProps;var i=Or(t,tt.current);Pr(t,n),i=yc(null,t,r,e,i,n);var s=vc();return t.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,mt(r)?(s=!0,Gs(t)):s=!1,t.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,fc(t),i.updater=jl,t.stateNode=i,i._reactInternals=t,sa(t,r,e,n),t=aa(null,t,r,!0,s,n)):(t.tag=0,be&&s&&sc(t),it(null,t,i,n),t=t.child),t;case 16:r=t.elementType;e:{switch(Ps(e,t),e=t.pendingProps,i=r._init,r=i(r._payload),t.type=r,i=t.tag=Sy(r),e=Ot(r,e),i){case 0:t=oa(null,t,r,e,n);break e;case 1:t=Wu(null,t,r,e,n);break e;case 11:t=Bu(null,t,r,e,n);break e;case 14:t=Vu(null,t,r,Ot(r.type,e),n);break e}throw Error(G(306,r,""))}return t;case 0:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:Ot(r,i),oa(e,t,r,i,n);case 1:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:Ot(r,i),Wu(e,t,r,i,n);case 3:e:{if(Om(t),e===null)throw Error(G(387));r=t.pendingProps,s=t.memoizedState,i=s.element,cm(e,t),Xs(t,r,null,n);var o=t.memoizedState;if(r=o.element,s.isDehydrated)if(s={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},t.updateQueue.baseState=s,t.memoizedState=s,t.flags&256){i=Ur(Error(G(423)),t),t=Hu(e,t,r,n,i);break e}else if(r!==i){i=Ur(Error(G(424)),t),t=Hu(e,t,r,n,i);break e}else for(xt=_n(t.stateNode.containerInfo.firstChild),St=t,be=!0,Ft=null,n=om(t,null,r,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Ar(),r===i){t=dn(e,t,n);break e}it(e,t,r,n)}t=t.child}return t;case 5:return um(t),e===null&&na(t),r=t.type,i=t.pendingProps,s=e!==null?e.memoizedProps:null,o=i.children,Xo(r,i)?o=null:s!==null&&Xo(r,s)&&(t.flags|=32),Rm(e,t),it(e,t,o,n),t.child;case 6:return e===null&&na(t),null;case 13:return Am(e,t,n);case 4:return mc(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=Fr(t,null,r,n):it(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:Ot(r,i),Bu(e,t,r,i,n);case 7:return it(e,t,t.pendingProps,n),t.child;case 8:return it(e,t,t.pendingProps.children,n),t.child;case 12:return it(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,i=t.pendingProps,s=t.memoizedProps,o=i.value,je(Ks,r._currentValue),r._currentValue=o,s!==null)if(Bt(s.value,o)){if(s.children===i.children&&!ft.current){t=dn(e,t,n);break e}}else for(s=t.child,s!==null&&(s.return=t);s!==null;){var u=s.dependencies;if(u!==null){o=s.child;for(var a=u.firstContext;a!==null;){if(a.context===r){if(s.tag===1){a=ln(-1,n&-n),a.tag=2;var c=s.updateQueue;if(c!==null){c=c.shared;var d=c.pending;d===null?a.next=a:(a.next=d.next,d.next=a),c.pending=a}}s.lanes|=n,a=s.alternate,a!==null&&(a.lanes|=n),ra(s.return,n,t),u.lanes|=n;break}a=a.next}}else if(s.tag===10)o=s.type===t.type?null:s.child;else if(s.tag===18){if(o=s.return,o===null)throw Error(G(341));o.lanes|=n,u=o.alternate,u!==null&&(u.lanes|=n),ra(o,n,t),o=s.sibling}else o=s.child;if(o!==null)o.return=s;else for(o=s;o!==null;){if(o===t){o=null;break}if(s=o.sibling,s!==null){s.return=o.return,o=s;break}o=o.return}s=o}it(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=t.pendingProps.children,Pr(t,n),i=_t(i),r=r(i),t.flags|=1,it(e,t,r,n),t.child;case 14:return r=t.type,i=Ot(r,t.pendingProps),i=Ot(r.type,i),Vu(e,t,r,i,n);case 15:return Dm(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:Ot(r,i),Ps(e,t),t.tag=1,mt(r)?(e=!0,Gs(t)):e=!1,Pr(t,n),_m(t,r,i),sa(t,r,i,n),aa(null,t,r,!0,e,n);case 19:return Fm(e,t,n);case 22:return Lm(e,t,n)}throw Error(G(156,t.tag))};function eh(e,t){return Ef(e,t)}function xy(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Mt(e,t,n,r){return new xy(e,t,n,r)}function Mc(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Sy(e){if(typeof e=="function")return Mc(e)?1:0;if(e!=null){if(e=e.$$typeof,e===Qa)return 11;if(e===Ja)return 14}return 2}function Ln(e,t){var n=e.alternate;return n===null?(n=Mt(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Rs(e,t,n,r,i,s){var o=2;if(r=e,typeof e=="function")Mc(e)&&(o=1);else if(typeof e=="string")o=5;else e:switch(e){case gr:return er(n.children,i,s,t);case Ga:o=8,i|=8;break;case Io:return e=Mt(12,n,t,i|2),e.elementType=Io,e.lanes=s,e;case _o:return e=Mt(13,n,t,i),e.elementType=_o,e.lanes=s,e;case To:return e=Mt(19,n,t,i),e.elementType=To,e.lanes=s,e;case uf:return bl(n,i,s,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case af:o=10;break e;case cf:o=9;break e;case Qa:o=11;break e;case Ja:o=14;break e;case vn:o=16,r=null;break e}throw Error(G(130,e==null?e:typeof e,""))}return t=Mt(o,n,t,i),t.elementType=e,t.type=r,t.lanes=s,t}function er(e,t,n,r){return e=Mt(7,e,r,t),e.lanes=n,e}function bl(e,t,n,r){return e=Mt(22,e,r,t),e.elementType=uf,e.lanes=n,e.stateNode={isHidden:!1},e}function uo(e,t,n){return e=Mt(6,e,null,t),e.lanes=n,e}function fo(e,t,n){return t=Mt(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function wy(e,t,n,r,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Hl(0),this.expirationTimes=Hl(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Hl(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function Ic(e,t,n,r,i,s,o,u,a){return e=new wy(e,t,n,u,a),t===1?(t=1,s===!0&&(t|=8)):t=0,s=Mt(3,null,null,t),e.current=s,s.stateNode=e,s.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},fc(s),e}function jy(e,t,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:pr,key:r==null?null:""+r,children:e,containerInfo:t,implementation:n}}function th(e){if(!e)return An;e=e._reactInternals;e:{if(cr(e)!==e||e.tag!==1)throw Error(G(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(mt(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(G(171))}if(e.tag===1){var n=e.type;if(mt(n))return tm(e,n,t)}return t}function nh(e,t,n,r,i,s,o,u,a){return e=Ic(n,r,!0,e,i,s,o,u,a),e.context=th(null),n=e.current,r=st(),i=Dn(n),s=ln(r,i),s.callback=t??null,Tn(n,s,i),e.current.lanes=i,Qi(e,i,r),ht(e,r),e}function kl(e,t,n,r){var i=t.current,s=st(),o=Dn(i);return n=th(n),t.context===null?t.context=n:t.pendingContext=n,t=ln(s,o),t.payload={element:e},r=r===void 0?null:r,r!==null&&(t.callback=r),e=Tn(i,t,o),e!==null&&(Ut(e,i,o,s),Is(e,i,o)),o}function sl(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function td(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function _c(e,t){td(e,t),(e=e.alternate)&&td(e,t)}function Cy(){return null}var rh=typeof reportError=="function"?reportError:function(e){console.error(e)};function Tc(e){this._internalRoot=e}El.prototype.render=Tc.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(G(409));kl(e,t,null,null)};El.prototype.unmount=Tc.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;lr(function(){kl(null,e,null,null)}),t[cn]=null}};function El(e){this._internalRoot=e}El.prototype.unstable_scheduleHydration=function(e){if(e){var t=Lf();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Sn.length&&t!==0&&t<Sn[n].priority;n++);Sn.splice(n,0,e),n===0&&Of(e)}};function Pc(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Ml(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function nd(){}function Ny(e,t,n,r,i){if(i){if(typeof r=="function"){var s=r;r=function(){var c=sl(o);s.call(c)}}var o=nh(t,r,e,0,null,!1,!1,"",nd);return e._reactRootContainer=o,e[cn]=o.current,Ti(e.nodeType===8?e.parentNode:e),lr(),o}for(;i=e.lastChild;)e.removeChild(i);if(typeof r=="function"){var u=r;r=function(){var c=sl(a);u.call(c)}}var a=Ic(e,0,!1,null,null,!1,!1,"",nd);return e._reactRootContainer=a,e[cn]=a.current,Ti(e.nodeType===8?e.parentNode:e),lr(function(){kl(t,a,n,r)}),a}function Il(e,t,n,r,i){var s=n._reactRootContainer;if(s){var o=s;if(typeof i=="function"){var u=i;i=function(){var a=sl(o);u.call(a)}}kl(t,o,e,i)}else o=Ny(n,t,e,i,r);return sl(o)}Pf=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=ui(t.pendingLanes);n!==0&&(Xa(t,n|1),ht(t,Oe()),!(he&6)&&($r=Oe()+500,Bn()))}break;case 13:lr(function(){var r=un(e,1);if(r!==null){var i=st();Ut(r,e,1,i)}}),_c(e,1)}};qa=function(e){if(e.tag===13){var t=un(e,134217728);if(t!==null){var n=st();Ut(t,e,134217728,n)}_c(e,134217728)}};Df=function(e){if(e.tag===13){var t=Dn(e),n=un(e,t);if(n!==null){var r=st();Ut(n,e,t,r)}_c(e,t)}};Lf=function(){return ve};Rf=function(e,t){var n=ve;try{return ve=e,t()}finally{ve=n}};$o=function(e,t,n){switch(t){case"input":if(Lo(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=xl(r);if(!i)throw Error(G(90));ff(r),Lo(r,i)}}}break;case"textarea":hf(e,n);break;case"select":t=n.value,t!=null&&Mr(e,!!n.multiple,t,!1)}};wf=bc;jf=lr;var by={usingClientEntryPoint:!1,Events:[Ki,Sr,xl,xf,Sf,bc]},ri={findFiberByHostInstance:Yn,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},ky={bundleType:ri.bundleType,version:ri.version,rendererPackageName:ri.rendererPackageName,rendererConfig:ri.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:mn.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=bf(e),e===null?null:e.stateNode},findFiberByHostInstance:ri.findFiberByHostInstance||Cy,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var ys=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ys.isDisabled&&ys.supportsFiber)try{pl=ys.inject(ky),Kt=ys}catch{}}jt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=by;jt.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Pc(t))throw Error(G(200));return jy(e,t,null,n)};jt.createRoot=function(e,t){if(!Pc(e))throw Error(G(299));var n=!1,r="",i=rh;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onRecoverableError!==void 0&&(i=t.onRecoverableError)),t=Ic(e,1,!1,null,null,n,!1,r,i),e[cn]=t.current,Ti(e.nodeType===8?e.parentNode:e),new Tc(t)};jt.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(G(188)):(e=Object.keys(e).join(","),Error(G(268,e)));return e=bf(t),e=e===null?null:e.stateNode,e};jt.flushSync=function(e){return lr(e)};jt.hydrate=function(e,t,n){if(!Ml(t))throw Error(G(200));return Il(null,e,t,!0,n)};jt.hydrateRoot=function(e,t,n){if(!Pc(e))throw Error(G(405));var r=n!=null&&n.hydratedSources||null,i=!1,s="",o=rh;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(s=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),t=nh(t,null,e,1,n??null,i,!1,s,o),e[cn]=t.current,Ti(e),r)for(e=0;e<r.length;e++)n=r[e],i=n._getVersion,i=i(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,i]:t.mutableSourceEagerHydrationData.push(n,i);return new El(t)};jt.render=function(e,t,n){if(!Ml(t))throw Error(G(200));return Il(null,e,t,!1,n)};jt.unmountComponentAtNode=function(e){if(!Ml(e))throw Error(G(40));return e._reactRootContainer?(lr(function(){Il(null,null,e,!1,function(){e._reactRootContainer=null,e[cn]=null})}),!0):!1};jt.unstable_batchedUpdates=bc;jt.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!Ml(n))throw Error(G(200));if(e==null||e._reactInternals===void 0)throw Error(G(38));return Il(e,t,n,!1,r)};jt.version="18.3.1-next-f1338f8080-20240426";function ih(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(ih)}catch(e){console.error(e)}}ih(),rf.exports=jt;var Ey=rf.exports,rd=Ey;Eo.createRoot=rd.createRoot,Eo.hydrateRoot=rd.hydrateRoot;/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Ui(){return Ui=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Ui.apply(this,arguments)}var Nn;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(Nn||(Nn={}));const id="popstate";function My(e){e===void 0&&(e={});function t(i,s){let{pathname:o="/",search:u="",hash:a=""}=ur(i.location.hash.substr(1));return!o.startsWith("/")&&!o.startsWith(".")&&(o="/"+o),Sa("",{pathname:o,search:u,hash:a},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function n(i,s){let o=i.document.querySelector("base"),u="";if(o&&o.getAttribute("href")){let a=i.location.href,c=a.indexOf("#");u=c===-1?a:a.slice(0,c)}return u+"#"+(typeof s=="string"?s:ll(s))}function r(i,s){Dc(i.pathname.charAt(0)==="/","relative pathnames are not supported in hash history.push("+JSON.stringify(s)+")")}return _y(t,n,r,e)}function _e(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function Dc(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function Iy(){return Math.random().toString(36).substr(2,8)}function sd(e,t){return{usr:e.state,key:e.key,idx:t}}function Sa(e,t,n,r){return n===void 0&&(n=null),Ui({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?ur(t):t,{state:n,key:t&&t.key||r||Iy()})}function ll(e){let{pathname:t="/",search:n="",hash:r=""}=e;return n&&n!=="?"&&(t+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(t+=r.charAt(0)==="#"?r:"#"+r),t}function ur(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substr(r),e=e.substr(0,r)),e&&(t.pathname=e)}return t}function _y(e,t,n,r){r===void 0&&(r={});let{window:i=document.defaultView,v5Compat:s=!1}=r,o=i.history,u=Nn.Pop,a=null,c=d();c==null&&(c=0,o.replaceState(Ui({},o.state,{idx:c}),""));function d(){return(o.state||{idx:null}).idx}function f(){u=Nn.Pop;let C=d(),g=C==null?null:C-c;c=C,a&&a({action:u,location:y.location,delta:g})}function m(C,g){u=Nn.Push;let p=Sa(y.location,C,g);n&&n(p,C),c=d()+1;let h=sd(p,c),b=y.createHref(p);try{o.pushState(h,"",b)}catch(k){if(k instanceof DOMException&&k.name==="DataCloneError")throw k;i.location.assign(b)}s&&a&&a({action:u,location:y.location,delta:1})}function w(C,g){u=Nn.Replace;let p=Sa(y.location,C,g);n&&n(p,C),c=d();let h=sd(p,c),b=y.createHref(p);o.replaceState(h,"",b),s&&a&&a({action:u,location:y.location,delta:0})}function x(C){let g=i.location.origin!=="null"?i.location.origin:i.location.href,p=typeof C=="string"?C:ll(C);return p=p.replace(/ $/,"%20"),_e(g,"No window.location.(origin|href) available to create URL for href: "+p),new URL(p,g)}let y={get action(){return u},get location(){return e(i,o)},listen(C){if(a)throw new Error("A history only accepts one active listener");return i.addEventListener(id,f),a=C,()=>{i.removeEventListener(id,f),a=null}},createHref(C){return t(i,C)},createURL:x,encodeLocation(C){let g=x(C);return{pathname:g.pathname,search:g.search,hash:g.hash}},push:m,replace:w,go(C){return o.go(C)}};return y}var ld;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(ld||(ld={}));function Ty(e,t,n){return n===void 0&&(n="/"),Py(e,t,n)}function Py(e,t,n,r){let i=typeof t=="string"?ur(t):t,s=Br(i.pathname||"/",n);if(s==null)return null;let o=sh(e);Dy(o);let u=null;for(let a=0;u==null&&a<o.length;++a){let c=Wy(s);u=By(o[a],c)}return u}function sh(e,t,n,r){t===void 0&&(t=[]),n===void 0&&(n=[]),r===void 0&&(r="");let i=(s,o,u)=>{let a={relativePath:u===void 0?s.path||"":u,caseSensitive:s.caseSensitive===!0,childrenIndex:o,route:s};a.relativePath.startsWith("/")&&(_e(a.relativePath.startsWith(r),'Absolute route path "'+a.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),a.relativePath=a.relativePath.slice(r.length));let c=Rn([r,a.relativePath]),d=n.concat(a);s.children&&s.children.length>0&&(_e(s.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+c+'".')),sh(s.children,t,d,c)),!(s.path==null&&!s.index)&&t.push({path:c,score:Uy(c,s.index),routesMeta:d})};return e.forEach((s,o)=>{var u;if(s.path===""||!((u=s.path)!=null&&u.includes("?")))i(s,o);else for(let a of lh(s.path))i(s,o,a)}),t}function lh(e){let t=e.split("/");if(t.length===0)return[];let[n,...r]=t,i=n.endsWith("?"),s=n.replace(/\?$/,"");if(r.length===0)return i?[s,""]:[s];let o=lh(r.join("/")),u=[];return u.push(...o.map(a=>a===""?s:[s,a].join("/"))),i&&u.push(...o),u.map(a=>e.startsWith("/")&&a===""?"/":a)}function Dy(e){e.sort((t,n)=>t.score!==n.score?n.score-t.score:$y(t.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const Ly=/^:[\w-]+$/,Ry=3,Oy=2,Ay=1,Fy=10,zy=-2,od=e=>e==="*";function Uy(e,t){let n=e.split("/"),r=n.length;return n.some(od)&&(r+=zy),t&&(r+=Oy),n.filter(i=>!od(i)).reduce((i,s)=>i+(Ly.test(s)?Ry:s===""?Ay:Fy),r)}function $y(e,t){return e.length===t.length&&e.slice(0,-1).every((r,i)=>r===t[i])?e[e.length-1]-t[t.length-1]:0}function By(e,t,n){let{routesMeta:r}=e,i={},s="/",o=[];for(let u=0;u<r.length;++u){let a=r[u],c=u===r.length-1,d=s==="/"?t:t.slice(s.length)||"/",f=wa({path:a.relativePath,caseSensitive:a.caseSensitive,end:c},d),m=a.route;if(!f)return null;Object.assign(i,f.params),o.push({params:i,pathname:Rn([s,f.pathname]),pathnameBase:Jy(Rn([s,f.pathnameBase])),route:m}),f.pathnameBase!=="/"&&(s=Rn([s,f.pathnameBase]))}return o}function wa(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=Vy(e.path,e.caseSensitive,e.end),i=t.match(n);if(!i)return null;let s=i[0],o=s.replace(/(.)\/+$/,"$1"),u=i.slice(1);return{params:r.reduce((c,d,f)=>{let{paramName:m,isOptional:w}=d;if(m==="*"){let y=u[f]||"";o=s.slice(0,s.length-y.length).replace(/(.)\/+$/,"$1")}const x=u[f];return w&&!x?c[m]=void 0:c[m]=(x||"").replace(/%2F/g,"/"),c},{}),pathname:s,pathnameBase:o,pattern:e}}function Vy(e,t,n){t===void 0&&(t=!1),n===void 0&&(n=!0),Dc(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let r=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,u,a)=>(r.push({paramName:u,isOptional:a!=null}),a?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(r.push({paramName:"*"}),i+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":e!==""&&e!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,t?void 0:"i"),r]}function Wy(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return Dc(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function Br(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&r!=="/"?null:e.slice(n)||"/"}function Hy(e,t){t===void 0&&(t="/");let{pathname:n,search:r="",hash:i=""}=typeof e=="string"?ur(e):e;return{pathname:n?n.startsWith("/")?n:Gy(n,t):t,search:Ky(r),hash:Yy(i)}}function Gy(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function mo(e,t,n,r){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function Qy(e){return e.filter((t,n)=>n===0||t.route.path&&t.route.path.length>0)}function Lc(e,t){let n=Qy(e);return t?n.map((r,i)=>i===n.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function Rc(e,t,n,r){r===void 0&&(r=!1);let i;typeof e=="string"?i=ur(e):(i=Ui({},e),_e(!i.pathname||!i.pathname.includes("?"),mo("?","pathname","search",i)),_e(!i.pathname||!i.pathname.includes("#"),mo("#","pathname","hash",i)),_e(!i.search||!i.search.includes("#"),mo("#","search","hash",i)));let s=e===""||i.pathname==="",o=s?"/":i.pathname,u;if(o==null)u=n;else{let f=t.length-1;if(!r&&o.startsWith("..")){let m=o.split("/");for(;m[0]==="..";)m.shift(),f-=1;i.pathname=m.join("/")}u=f>=0?t[f]:"/"}let a=Hy(i,u),c=o&&o!=="/"&&o.endsWith("/"),d=(s||o===".")&&n.endsWith("/");return!a.pathname.endsWith("/")&&(c||d)&&(a.pathname+="/"),a}const Rn=e=>e.join("/").replace(/\/\/+/g,"/"),Jy=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),Ky=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,Yy=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function Xy(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const oh=["post","put","patch","delete"];new Set(oh);const qy=["get",...oh];new Set(qy);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function $i(){return $i=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},$i.apply(this,arguments)}const _l=S.createContext(null),ah=S.createContext(null),hn=S.createContext(null),Tl=S.createContext(null),pn=S.createContext({outlet:null,matches:[],isDataRoute:!1}),ch=S.createContext(null);function Zy(e,t){let{relative:n}=t===void 0?{}:t;Qr()||_e(!1);let{basename:r,navigator:i}=S.useContext(hn),{hash:s,pathname:o,search:u}=Pl(e,{relative:n}),a=o;return r!=="/"&&(a=o==="/"?r:Rn([r,o])),i.createHref({pathname:a,search:u,hash:s})}function Qr(){return S.useContext(Tl)!=null}function Vn(){return Qr()||_e(!1),S.useContext(Tl).location}function uh(e){S.useContext(hn).static||S.useLayoutEffect(e)}function Jr(){let{isDataRoute:e}=S.useContext(pn);return e?fv():ev()}function ev(){Qr()||_e(!1);let e=S.useContext(_l),{basename:t,future:n,navigator:r}=S.useContext(hn),{matches:i}=S.useContext(pn),{pathname:s}=Vn(),o=JSON.stringify(Lc(i,n.v7_relativeSplatPath)),u=S.useRef(!1);return uh(()=>{u.current=!0}),S.useCallback(function(c,d){if(d===void 0&&(d={}),!u.current)return;if(typeof c=="number"){r.go(c);return}let f=Rc(c,JSON.parse(o),s,d.relative==="path");e==null&&t!=="/"&&(f.pathname=f.pathname==="/"?t:Rn([t,f.pathname])),(d.replace?r.replace:r.push)(f,d.state,d)},[t,r,o,s,e])}function Oc(){let{matches:e}=S.useContext(pn),t=e[e.length-1];return t?t.params:{}}function Pl(e,t){let{relative:n}=t===void 0?{}:t,{future:r}=S.useContext(hn),{matches:i}=S.useContext(pn),{pathname:s}=Vn(),o=JSON.stringify(Lc(i,r.v7_relativeSplatPath));return S.useMemo(()=>Rc(e,JSON.parse(o),s,n==="path"),[e,o,s,n])}function tv(e,t){return nv(e,t)}function nv(e,t,n,r){Qr()||_e(!1);let{navigator:i}=S.useContext(hn),{matches:s}=S.useContext(pn),o=s[s.length-1],u=o?o.params:{};o&&o.pathname;let a=o?o.pathnameBase:"/";o&&o.route;let c=Vn(),d;if(t){var f;let C=typeof t=="string"?ur(t):t;a==="/"||(f=C.pathname)!=null&&f.startsWith(a)||_e(!1),d=C}else d=c;let m=d.pathname||"/",w=m;if(a!=="/"){let C=a.replace(/^\//,"").split("/");w="/"+m.replace(/^\//,"").split("/").slice(C.length).join("/")}let x=Ty(e,{pathname:w}),y=ov(x&&x.map(C=>Object.assign({},C,{params:Object.assign({},u,C.params),pathname:Rn([a,i.encodeLocation?i.encodeLocation(C.pathname).pathname:C.pathname]),pathnameBase:C.pathnameBase==="/"?a:Rn([a,i.encodeLocation?i.encodeLocation(C.pathnameBase).pathname:C.pathnameBase])})),s,n,r);return t&&y?S.createElement(Tl.Provider,{value:{location:$i({pathname:"/",search:"",hash:"",state:null,key:"default"},d),navigationType:Nn.Pop}},y):y}function rv(){let e=dv(),t=Xy(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return S.createElement(S.Fragment,null,S.createElement("h2",null,"Unexpected Application Error!"),S.createElement("h3",{style:{fontStyle:"italic"}},t),n?S.createElement("pre",{style:i},n):null,null)}const iv=S.createElement(rv,null);class sv extends S.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,n){return n.location!==t.location||n.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:n.error,location:n.location,revalidation:t.revalidation||n.revalidation}}componentDidCatch(t,n){console.error("React Router caught the following error during render",t,n)}render(){return this.state.error!==void 0?S.createElement(pn.Provider,{value:this.props.routeContext},S.createElement(ch.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function lv(e){let{routeContext:t,match:n,children:r}=e,i=S.useContext(_l);return i&&i.static&&i.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=n.route.id),S.createElement(pn.Provider,{value:t},r)}function ov(e,t,n,r){var i;if(t===void 0&&(t=[]),n===void 0&&(n=null),r===void 0&&(r=null),e==null){var s;if(!n)return null;if(n.errors)e=n.matches;else if((s=r)!=null&&s.v7_partialHydration&&t.length===0&&!n.initialized&&n.matches.length>0)e=n.matches;else return null}let o=e,u=(i=n)==null?void 0:i.errors;if(u!=null){let d=o.findIndex(f=>f.route.id&&(u==null?void 0:u[f.route.id])!==void 0);d>=0||_e(!1),o=o.slice(0,Math.min(o.length,d+1))}let a=!1,c=-1;if(n&&r&&r.v7_partialHydration)for(let d=0;d<o.length;d++){let f=o[d];if((f.route.HydrateFallback||f.route.hydrateFallbackElement)&&(c=d),f.route.id){let{loaderData:m,errors:w}=n,x=f.route.loader&&m[f.route.id]===void 0&&(!w||w[f.route.id]===void 0);if(f.route.lazy||x){a=!0,c>=0?o=o.slice(0,c+1):o=[o[0]];break}}}return o.reduceRight((d,f,m)=>{let w,x=!1,y=null,C=null;n&&(w=u&&f.route.id?u[f.route.id]:void 0,y=f.route.errorElement||iv,a&&(c<0&&m===0?(mv("route-fallback"),x=!0,C=null):c===m&&(x=!0,C=f.route.hydrateFallbackElement||null)));let g=t.concat(o.slice(0,m+1)),p=()=>{let h;return w?h=y:x?h=C:f.route.Component?h=S.createElement(f.route.Component,null):f.route.element?h=f.route.element:h=d,S.createElement(lv,{match:f,routeContext:{outlet:d,matches:g,isDataRoute:n!=null},children:h})};return n&&(f.route.ErrorBoundary||f.route.errorElement||m===0)?S.createElement(sv,{location:n.location,revalidation:n.revalidation,component:y,error:w,children:p(),routeContext:{outlet:null,matches:g,isDataRoute:!0}}):p()},null)}var dh=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(dh||{}),fh=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(fh||{});function av(e){let t=S.useContext(_l);return t||_e(!1),t}function cv(e){let t=S.useContext(ah);return t||_e(!1),t}function uv(e){let t=S.useContext(pn);return t||_e(!1),t}function mh(e){let t=uv(),n=t.matches[t.matches.length-1];return n.route.id||_e(!1),n.route.id}function dv(){var e;let t=S.useContext(ch),n=cv(),r=mh();return t!==void 0?t:(e=n.errors)==null?void 0:e[r]}function fv(){let{router:e}=av(dh.UseNavigateStable),t=mh(fh.UseNavigateStable),n=S.useRef(!1);return uh(()=>{n.current=!0}),S.useCallback(function(i,s){s===void 0&&(s={}),n.current&&(typeof i=="number"?e.navigate(i):e.navigate(i,$i({fromRouteId:t},s)))},[e,t])}const ad={};function mv(e,t,n){ad[e]||(ad[e]=!0)}function hv(e,t){e==null||e.v7_startTransition,e==null||e.v7_relativeSplatPath}function cd(e){let{to:t,replace:n,state:r,relative:i}=e;Qr()||_e(!1);let{future:s,static:o}=S.useContext(hn),{matches:u}=S.useContext(pn),{pathname:a}=Vn(),c=Jr(),d=Rc(t,Lc(u,s.v7_relativeSplatPath),a,i==="path"),f=JSON.stringify(d);return S.useEffect(()=>c(JSON.parse(f),{replace:n,state:r,relative:i}),[c,f,i,n,r]),null}function Nt(e){_e(!1)}function pv(e){let{basename:t="/",children:n=null,location:r,navigationType:i=Nn.Pop,navigator:s,static:o=!1,future:u}=e;Qr()&&_e(!1);let a=t.replace(/^\/*/,"/"),c=S.useMemo(()=>({basename:a,navigator:s,static:o,future:$i({v7_relativeSplatPath:!1},u)}),[a,u,s,o]);typeof r=="string"&&(r=ur(r));let{pathname:d="/",search:f="",hash:m="",state:w=null,key:x="default"}=r,y=S.useMemo(()=>{let C=Br(d,a);return C==null?null:{location:{pathname:C,search:f,hash:m,state:w,key:x},navigationType:i}},[a,d,f,m,w,x,i]);return y==null?null:S.createElement(hn.Provider,{value:c},S.createElement(Tl.Provider,{children:n,value:y}))}function gv(e){let{children:t,location:n}=e;return tv(ja(t),n)}new Promise(()=>{});function ja(e,t){t===void 0&&(t=[]);let n=[];return S.Children.forEach(e,(r,i)=>{if(!S.isValidElement(r))return;let s=[...t,i];if(r.type===S.Fragment){n.push.apply(n,ja(r.props.children,s));return}r.type!==Nt&&_e(!1),!r.props.index||!r.props.children||_e(!1);let o={id:r.props.id||s.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(o.children=ja(r.props.children,s)),n.push(o)}),n}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function ol(){return ol=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ol.apply(this,arguments)}function hh(e,t){if(e==null)return{};var n={},r=Object.keys(e),i,s;for(s=0;s<r.length;s++)i=r[s],!(t.indexOf(i)>=0)&&(n[i]=e[i]);return n}function yv(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function vv(e,t){return e.button===0&&(!t||t==="_self")&&!yv(e)}const xv=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],Sv=["aria-current","caseSensitive","className","end","style","to","viewTransition","children"],wv="6";try{window.__reactRouterVersion=wv}catch{}const jv=S.createContext({isTransitioning:!1}),Cv="startTransition",ud=gp[Cv];function Nv(e){let{basename:t,children:n,future:r,window:i}=e,s=S.useRef();s.current==null&&(s.current=My({window:i,v5Compat:!0}));let o=s.current,[u,a]=S.useState({action:o.action,location:o.location}),{v7_startTransition:c}=r||{},d=S.useCallback(f=>{c&&ud?ud(()=>a(f)):a(f)},[a,c]);return S.useLayoutEffect(()=>o.listen(d),[o,d]),S.useEffect(()=>hv(r),[r]),S.createElement(pv,{basename:t,children:n,location:u.location,navigationType:u.action,navigator:o,future:r})}const bv=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",kv=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Ev=S.forwardRef(function(t,n){let{onClick:r,relative:i,reloadDocument:s,replace:o,state:u,target:a,to:c,preventScrollReset:d,viewTransition:f}=t,m=hh(t,xv),{basename:w}=S.useContext(hn),x,y=!1;if(typeof c=="string"&&kv.test(c)&&(x=c,bv))try{let h=new URL(window.location.href),b=c.startsWith("//")?new URL(h.protocol+c):new URL(c),k=Br(b.pathname,w);b.origin===h.origin&&k!=null?c=k+b.search+b.hash:y=!0}catch{}let C=Zy(c,{relative:i}),g=Iv(c,{replace:o,state:u,target:a,preventScrollReset:d,relative:i,viewTransition:f});function p(h){r&&r(h),h.defaultPrevented||g(h)}return S.createElement("a",ol({},m,{href:x||C,onClick:y||s?r:p,ref:n,target:a}))}),vs=S.forwardRef(function(t,n){let{"aria-current":r="page",caseSensitive:i=!1,className:s="",end:o=!1,style:u,to:a,viewTransition:c,children:d}=t,f=hh(t,Sv),m=Pl(a,{relative:f.relative}),w=Vn(),x=S.useContext(ah),{navigator:y,basename:C}=S.useContext(hn),g=x!=null&&_v(m)&&c===!0,p=y.encodeLocation?y.encodeLocation(m).pathname:m.pathname,h=w.pathname,b=x&&x.navigation&&x.navigation.location?x.navigation.location.pathname:null;i||(h=h.toLowerCase(),b=b?b.toLowerCase():null,p=p.toLowerCase()),b&&C&&(b=Br(b,C)||b);const k=p!=="/"&&p.endsWith("/")?p.length-1:p.length;let v=h===p||!o&&h.startsWith(p)&&h.charAt(k)==="/",N=b!=null&&(b===p||!o&&b.startsWith(p)&&b.charAt(p.length)==="/"),j={isActive:v,isPending:N,isTransitioning:g},P=v?r:void 0,M;typeof s=="function"?M=s(j):M=[s,v?"active":null,N?"pending":null,g?"transitioning":null].filter(Boolean).join(" ");let D=typeof u=="function"?u(j):u;return S.createElement(Ev,ol({},f,{"aria-current":P,className:M,ref:n,style:D,to:a,viewTransition:c}),typeof d=="function"?d(j):d)});var Ca;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(Ca||(Ca={}));var dd;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(dd||(dd={}));function Mv(e){let t=S.useContext(_l);return t||_e(!1),t}function Iv(e,t){let{target:n,replace:r,state:i,preventScrollReset:s,relative:o,viewTransition:u}=t===void 0?{}:t,a=Jr(),c=Vn(),d=Pl(e,{relative:o});return S.useCallback(f=>{if(vv(f,n)){f.preventDefault();let m=r!==void 0?r:ll(c)===ll(d);a(e,{replace:m,state:i,preventScrollReset:s,relative:o,viewTransition:u})}},[c,a,d,r,i,n,e,s,o,u])}function _v(e,t){t===void 0&&(t={});let n=S.useContext(jv);n==null&&_e(!1);let{basename:r}=Mv(Ca.useViewTransitionState),i=Pl(e,{relative:t.relative});if(!n.isTransitioning)return!1;let s=Br(n.currentLocation.pathname,r)||n.currentLocation.pathname,o=Br(n.nextLocation.pathname,r)||n.nextLocation.pathname;return wa(i.pathname,o)!=null||wa(i.pathname,s)!=null}class Tv extends Se.Component{constructor(t){super(t),this.state={error:null,info:null}}componentDidCatch(t,n){this.setState({error:t,info:n})}render(){const{error:t,info:n}=this.state;return t?l.jsxs("div",{style:{padding:24,fontFamily:"sans-serif"},children:[l.jsx("h2",{style:{color:"#c92a2a"},children:"Application error"}),l.jsx("div",{style:{marginBottom:12,color:"#444"},children:"An uncaught error occurred while rendering the app."}),l.jsxs("details",{style:{whiteSpace:"pre-wrap",background:"#fff8f8",padding:12,borderRadius:6,border:"1px solid #ffd6d6"},children:[l.jsx("summary",{style:{cursor:"pointer",fontWeight:700},children:"Error details"}),l.jsx("div",{style:{marginTop:8},children:String(t&&t.toString())}),l.jsx("div",{style:{marginTop:8},children:n&&n.componentStack})]})]}):this.props.children}}function Pv(e={}){const{nonce:t,onScriptLoadSuccess:n,onScriptLoadError:r}=e,[i,s]=S.useState(!1),o=S.useRef(n);o.current=n;const u=S.useRef(r);return u.current=r,S.useEffect(()=>{const a=document.createElement("script");return a.src="https://accounts.google.com/gsi/client",a.async=!0,a.defer=!0,a.nonce=t,a.onload=()=>{var c;s(!0),(c=o.current)===null||c===void 0||c.call(o)},a.onerror=()=>{var c;s(!1),(c=u.current)===null||c===void 0||c.call(u)},document.body.appendChild(a),()=>{document.body.removeChild(a)}},[t]),i}const ph=S.createContext(null);function Dv({clientId:e,nonce:t,onScriptLoadSuccess:n,onScriptLoadError:r,children:i}){const s=Pv({nonce:t,onScriptLoadSuccess:n,onScriptLoadError:r}),o=S.useMemo(()=>({clientId:e,scriptLoadedSuccessfully:s}),[e,s]);return Se.createElement(ph.Provider,{value:o},i)}function Lv(){const e=S.useContext(ph);if(!e)throw new Error("Google OAuth components must be used within GoogleOAuthProvider");return e}function Rv(e){var t;return(t=e==null?void 0:e.clientId)!==null&&t!==void 0?t:e==null?void 0:e.client_id}const Ov={large:40,medium:32,small:20};function Av({onSuccess:e,onError:t,useOneTap:n,promptMomentNotification:r,type:i="standard",theme:s="outline",size:o="large",text:u,shape:a,logo_alignment:c,width:d,locale:f,click_listener:m,containerProps:w,...x}){const y=S.useRef(null),{clientId:C,scriptLoadedSuccessfully:g}=Lv(),p=S.useRef(e);p.current=e;const h=S.useRef(t);h.current=t;const b=S.useRef(r);return b.current=r,S.useEffect(()=>{var k,v,N,j,P,M,D,z,O;if(g)return(N=(v=(k=window==null?void 0:window.google)===null||k===void 0?void 0:k.accounts)===null||v===void 0?void 0:v.id)===null||N===void 0||N.initialize({client_id:C,callback:T=>{var R;if(!(T!=null&&T.credential))return(R=h.current)===null||R===void 0?void 0:R.call(h);const{credential:I,select_by:L}=T;p.current({credential:I,clientId:Rv(T),select_by:L})},...x}),(M=(P=(j=window==null?void 0:window.google)===null||j===void 0?void 0:j.accounts)===null||P===void 0?void 0:P.id)===null||M===void 0||M.renderButton(y.current,{type:i,theme:s,size:o,text:u,shape:a,logo_alignment:c,width:d,locale:f,click_listener:m}),n&&((O=(z=(D=window==null?void 0:window.google)===null||D===void 0?void 0:D.accounts)===null||z===void 0?void 0:z.id)===null||O===void 0||O.prompt(b.current)),()=>{var T,R,I;n&&((I=(R=(T=window==null?void 0:window.google)===null||T===void 0?void 0:T.accounts)===null||R===void 0?void 0:R.id)===null||I===void 0||I.cancel())}},[C,g,n,i,s,o,u,a,c,d,f]),Se.createElement("div",{...w,ref:y,style:{height:Ov[o],...w==null?void 0:w.style}})}function fd(){var s,o,u,a;const e=new Intl.DateTimeFormat("en-US",{timeZone:"Asia/Manila",weekday:"long",month:"short",day:"2-digit",year:"numeric"}).formatToParts(new Date),t=(((s=e.find(c=>c.type==="weekday"))==null?void 0:s.value)||"").toUpperCase(),n=((o=e.find(c=>c.type==="month"))==null?void 0:o.value)||"Jan",r=parseInt(((u=e.find(c=>c.type==="day"))==null?void 0:u.value)||"01",10),i=((a=e.find(c=>c.type==="year"))==null?void 0:a.value)||"0000";return{weekday:t,text:`${n}-${r}, ${i}`}}function Fv({onLogout:e=()=>{}}){const[t,n]=S.useState(fd());return S.useEffect(()=>{const r=()=>n(fd()),i=setInterval(r,6e4);return r(),()=>clearInterval(i)},[]),l.jsxs("aside",{className:"sidebar",children:[l.jsx("div",{className:"brand",children:l.jsx("img",{src:"/kusgan-frontend/kusgan-logo.png",alt:"Kusgan logo",className:"brand-logo",style:{width:350,height:"auto"}})}),l.jsx("div",{className:"sidebar-info",children:l.jsxs("div",{className:"date",children:[l.jsx("div",{style:{fontSize:"14px",fontStyle:"italic",color:"#e9e9ee",marginBottom:"5px"},children:"Today is"}),l.jsxs("div",{style:{fontWeight:"600",fontSize:"20px",color:"#e9e9ee",marginBottom:"25px"},children:[t.weekday," ",t.text]})]})}),l.jsxs("nav",{className:"nav",children:[l.jsx(vs,{to:"/",end:!0,children:" Dashboard"}),l.jsx(vs,{to:"/attendance",children:" Staff Attendance"}),l.jsx(vs,{to:"/members",children:" All Members"}),l.jsx(vs,{to:"/checkin",children:" Member Check-In"})]}),l.jsx("div",{className:"sidebar-footer",children:l.jsx("button",{className:"button logout-btn",onClick:e,children:"Logout"})})]})}var gh={exports:{}},yh={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Vr=S;function zv(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Uv=typeof Object.is=="function"?Object.is:zv,$v=Vr.useState,Bv=Vr.useEffect,Vv=Vr.useLayoutEffect,Wv=Vr.useDebugValue;function Hv(e,t){var n=t(),r=$v({inst:{value:n,getSnapshot:t}}),i=r[0].inst,s=r[1];return Vv(function(){i.value=n,i.getSnapshot=t,ho(i)&&s({inst:i})},[e,n,t]),Bv(function(){return ho(i)&&s({inst:i}),e(function(){ho(i)&&s({inst:i})})},[e]),Wv(n),n}function ho(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!Uv(e,n)}catch{return!0}}function Gv(e,t){return t()}var Qv=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?Gv:Hv;yh.useSyncExternalStore=Vr.useSyncExternalStore!==void 0?Vr.useSyncExternalStore:Qv;gh.exports=yh;var Jv=gh.exports;const vh=0,xh=1,Sh=2,md=3;var hd=Object.prototype.hasOwnProperty;function Na(e,t){var n,r;if(e===t)return!0;if(e&&t&&(n=e.constructor)===t.constructor){if(n===Date)return e.getTime()===t.getTime();if(n===RegExp)return e.toString()===t.toString();if(n===Array){if((r=e.length)===t.length)for(;r--&&Na(e[r],t[r]););return r===-1}if(!n||typeof e=="object"){r=0;for(n in e)if(hd.call(e,n)&&++r&&!hd.call(t,n)||!(n in t)||!Na(e[n],t[n]))return!1;return Object.keys(t).length===r}}return e!==e&&t!==t}const tn=new WeakMap,bn=()=>{},et=bn(),ba=Object,me=e=>e===et,Jt=e=>typeof e=="function",Fn=(e,t)=>({...e,...t}),wh=e=>Jt(e.then),po={},xs={},Ac="undefined",Xi=typeof window!=Ac,ka=typeof document!=Ac,Kv=Xi&&"Deno"in window,Yv=()=>Xi&&typeof window.requestAnimationFrame!=Ac,jh=(e,t)=>{const n=tn.get(e);return[()=>!me(t)&&e.get(t)||po,r=>{if(!me(t)){const i=e.get(t);t in xs||(xs[t]=i),n[5](t,Fn(i,r),i||po)}},n[6],()=>!me(t)&&t in xs?xs[t]:!me(t)&&e.get(t)||po]};let Ea=!0;const Xv=()=>Ea,[Ma,Ia]=Xi&&window.addEventListener?[window.addEventListener.bind(window),window.removeEventListener.bind(window)]:[bn,bn],qv=()=>{const e=ka&&document.visibilityState;return me(e)||e!=="hidden"},Zv=e=>(ka&&document.addEventListener("visibilitychange",e),Ma("focus",e),()=>{ka&&document.removeEventListener("visibilitychange",e),Ia("focus",e)}),e0=e=>{const t=()=>{Ea=!0,e()},n=()=>{Ea=!1};return Ma("online",t),Ma("offline",n),()=>{Ia("online",t),Ia("offline",n)}},t0={isOnline:Xv,isVisible:qv},n0={initFocus:Zv,initReconnect:e0},pd=!Se.useId,Bi=!Xi||Kv,r0=e=>Yv()?window.requestAnimationFrame(e):setTimeout(e,1),go=Bi?S.useEffect:S.useLayoutEffect,yo=typeof navigator<"u"&&navigator.connection,gd=!Bi&&yo&&(["slow-2g","2g"].includes(yo.effectiveType)||yo.saveData),Ss=new WeakMap,i0=e=>ba.prototype.toString.call(e),vo=(e,t)=>e===`[object ${t}]`;let s0=0;const _a=e=>{const t=typeof e,n=i0(e),r=vo(n,"Date"),i=vo(n,"RegExp"),s=vo(n,"Object");let o,u;if(ba(e)===e&&!r&&!i){if(o=Ss.get(e),o)return o;if(o=++s0+"~",Ss.set(e,o),Array.isArray(e)){for(o="@",u=0;u<e.length;u++)o+=_a(e[u])+",";Ss.set(e,o)}if(s){o="#";const a=ba.keys(e).sort();for(;!me(u=a.pop());)me(e[u])||(o+=u+":"+_a(e[u])+",");Ss.set(e,o)}}else o=r?e.toJSON():t=="symbol"?e.toString():t=="string"?JSON.stringify(e):""+e;return o},Fc=e=>{if(Jt(e))try{e=e()}catch{e=""}const t=e;return e=typeof e=="string"?e:(Array.isArray(e)?e.length:e)?_a(e):"",[e,t]};let l0=0;const Ta=()=>++l0;async function Ch(...e){const[t,n,r,i]=e,s=Fn({populateCache:!0,throwOnError:!0},typeof i=="boolean"?{revalidate:i}:i||{});let o=s.populateCache;const u=s.rollbackOnError;let a=s.optimisticData;const c=m=>typeof u=="function"?u(m):u!==!1,d=s.throwOnError;if(Jt(n)){const m=n,w=[],x=t.keys();for(const y of x)!/^\$(inf|sub)\$/.test(y)&&m(t.get(y)._k)&&w.push(y);return Promise.all(w.map(f))}return f(n);async function f(m){const[w]=Fc(m);if(!w)return;const[x,y]=jh(t,w),[C,g,p,h]=tn.get(t),b=()=>{const T=C[w];return(Jt(s.revalidate)?s.revalidate(x().data,m):s.revalidate!==!1)&&(delete p[w],delete h[w],T&&T[0])?T[0](Sh).then(()=>x().data):x().data};if(e.length<3)return b();let k=r,v,N=!1;const j=Ta();g[w]=[j,0];const P=!me(a),M=x(),D=M.data,z=M._c,O=me(z)?D:z;if(P&&(a=Jt(a)?a(O,D):a,y({data:a,_c:O})),Jt(k))try{k=k(O)}catch(T){v=T,N=!0}if(k&&wh(k))if(k=await k.catch(T=>{v=T,N=!0}),j!==g[w][0]){if(N)throw v;return k}else N&&P&&c(v)&&(o=!0,y({data:O,_c:et}));if(o&&!N)if(Jt(o)){const T=o(k,O);y({data:T,error:et,_c:et})}else y({data:k,error:et,_c:et});if(g[w][1]=Ta(),Promise.resolve(b()).then(()=>{y({_c:et})}),N){if(d)throw v;return}return k}}const yd=(e,t)=>{for(const n in e)e[n][0]&&e[n][0](t)},o0=(e,t)=>{if(!tn.has(e)){const n=Fn(n0,t),r=Object.create(null),i=Ch.bind(et,e);let s=bn;const o=Object.create(null),u=(d,f)=>{const m=o[d]||[];return o[d]=m,m.push(f),()=>m.splice(m.indexOf(f),1)},a=(d,f,m)=>{e.set(d,f);const w=o[d];if(w)for(const x of w)x(f,m)},c=()=>{if(!tn.has(e)&&(tn.set(e,[r,Object.create(null),Object.create(null),Object.create(null),i,a,u]),!Bi)){const d=n.initFocus(setTimeout.bind(et,yd.bind(et,r,vh))),f=n.initReconnect(setTimeout.bind(et,yd.bind(et,r,xh)));s=()=>{d&&d(),f&&f(),tn.delete(e)}}};return c(),[e,i,c,s]}return[e,tn.get(e)[4]]},a0=(e,t,n,r,i)=>{const s=n.errorRetryCount,o=i.retryCount,u=~~((Math.random()+.5)*(1<<(o<8?o:8)))*n.errorRetryInterval;!me(s)&&o>s||setTimeout(r,u,i)},c0=Na,[Nh,u0]=o0(new Map),d0=Fn({onLoadingSlow:bn,onSuccess:bn,onError:bn,onErrorRetry:a0,onDiscarded:bn,revalidateOnFocus:!0,revalidateOnReconnect:!0,revalidateIfStale:!0,shouldRetryOnError:!0,errorRetryInterval:gd?1e4:5e3,focusThrottleInterval:5*1e3,dedupingInterval:2*1e3,loadingTimeout:gd?5e3:3e3,compare:c0,isPaused:()=>!1,cache:Nh,mutate:u0,fallback:{}},t0),f0=(e,t)=>{const n=Fn(e,t);if(t){const{use:r,fallback:i}=e,{use:s,fallback:o}=t;r&&s&&(n.use=r.concat(s)),i&&o&&(n.fallback=Fn(i,o))}return n},m0=S.createContext({}),h0="$inf$",bh=Xi&&window.__SWR_DEVTOOLS_USE__,p0=bh?window.__SWR_DEVTOOLS_USE__:[],g0=()=>{bh&&(window.__SWR_DEVTOOLS_REACT__=Se)},y0=e=>Jt(e[1])?[e[0],e[1],e[2]||{}]:[e[0],null,(e[1]===null?e[2]:e[1])||{}],v0=()=>{const e=S.useContext(m0);return S.useMemo(()=>Fn(d0,e),[e])},x0=e=>(t,n,r)=>e(t,n&&((...s)=>{const[o]=Fc(t),[,,,u]=tn.get(Nh);if(o.startsWith(h0))return n(...s);const a=u[o];return me(a)?n(...s):(delete u[o],a)}),r),S0=p0.concat(x0),w0=e=>function(...n){const r=v0(),[i,s,o]=y0(n),u=f0(r,o);let a=e;const{use:c}=u,d=(c||[]).concat(S0);for(let f=d.length;f--;)a=d[f](a);return a(i,s||u.fetcher||null,u)},j0=(e,t,n)=>{const r=t[e]||(t[e]=[]);return r.push(n),()=>{const i=r.indexOf(n);i>=0&&(r[i]=r[r.length-1],r.pop())}};g0();const xo=Se.use||(e=>{switch(e.status){case"pending":throw e;case"fulfilled":return e.value;case"rejected":throw e.reason;default:throw e.status="pending",e.then(t=>{e.status="fulfilled",e.value=t},t=>{e.status="rejected",e.reason=t}),e}}),So={dedupe:!0},vd=Promise.resolve(et),C0=(e,t,n)=>{const{cache:r,compare:i,suspense:s,fallbackData:o,revalidateOnMount:u,revalidateIfStale:a,refreshInterval:c,refreshWhenHidden:d,refreshWhenOffline:f,keepPreviousData:m}=n,[w,x,y,C]=tn.get(r),[g,p]=Fc(e),h=S.useRef(!1),b=S.useRef(!1),k=S.useRef(g),v=S.useRef(t),N=S.useRef(n),j=()=>N.current,P=()=>j().isVisible()&&j().isOnline(),[M,D,z,O]=jh(r,g),T=S.useRef({}).current,R=me(o)?me(n.fallback)?et:n.fallback[g]:o,I=(X,le)=>{for(const oe in T){const B=oe;if(B==="data"){if(!i(X[B],le[B])&&(!me(X[B])||!i(W,le[B])))return!1}else if(le[B]!==X[B])return!1}return!0},L=S.useMemo(()=>{const X=!g||!t?!1:me(u)?j().isPaused()||s?!1:a!==!1:u,le=se=>{const we=Fn(se);return delete we._k,X?{isValidating:!0,isLoading:!0,...we}:we},oe=M(),B=O(),Q=le(oe),ie=oe===B?Q:le(B);let ne=Q;return[()=>{const se=le(M());return I(se,ne)?(ne.data=se.data,ne.isLoading=se.isLoading,ne.isValidating=se.isValidating,ne.error=se.error,ne):(ne=se,se)},()=>ie]},[r,g]),E=Jv.useSyncExternalStore(S.useCallback(X=>z(g,(le,oe)=>{I(oe,le)||X()}),[r,g]),L[0],L[1]),U=!h.current,F=w[g]&&w[g].length>0,_=E.data,H=me(_)?R&&wh(R)?xo(R):R:_,K=E.error,A=S.useRef(H),W=m?me(_)?me(A.current)?H:A.current:_:H,$=F&&!me(K)?!1:U&&!me(u)?u:j().isPaused()?!1:s?me(H)?!1:a:me(H)||a,V=!!(g&&t&&U&&$),J=me(E.isValidating)?V:E.isValidating,q=me(E.isLoading)?V:E.isLoading,te=S.useCallback(async X=>{const le=v.current;if(!g||!le||b.current||j().isPaused())return!1;let oe,B,Q=!0;const ie=X||{},ne=!y[g]||!ie.dedupe,se=()=>pd?!b.current&&g===k.current&&h.current:g===k.current,we={isValidating:!1,isLoading:!1},ae=()=>{D(we)},at=()=>{const ze=y[g];ze&&ze[1]===B&&delete y[g]},Dt={isValidating:!0};me(M().data)&&(Dt.isLoading=!0);try{if(ne&&(D(Dt),n.loadingTimeout&&me(M().data)&&setTimeout(()=>{Q&&se()&&j().onLoadingSlow(g,n)},n.loadingTimeout),y[g]=[le(p),Ta()]),[oe,B]=y[g],oe=await oe,ne&&setTimeout(at,n.dedupingInterval),!y[g]||y[g][1]!==B)return ne&&se()&&j().onDiscarded(g),!1;we.error=et;const ze=x[g];if(!me(ze)&&(B<=ze[0]||B<=ze[1]||ze[1]===0))return ae(),ne&&se()&&j().onDiscarded(g),!1;const Ae=M().data;we.data=i(Ae,oe)?Ae:oe,ne&&se()&&j().onSuccess(oe,g,n)}catch(ze){at();const Ae=j(),{shouldRetryOnError:Lt}=Ae;Ae.isPaused()||(we.error=ze,ne&&se()&&(Ae.onError(ze,g,Ae),(Lt===!0||Jt(Lt)&&Lt(ze))&&(!j().revalidateOnFocus||!j().revalidateOnReconnect||P())&&Ae.onErrorRetry(ze,g,Ae,ee=>{const ce=w[g];ce&&ce[0]&&ce[0](md,ee)},{retryCount:(ie.retryCount||0)+1,dedupe:!0})))}return Q=!1,ae(),!0},[g,r]),re=S.useCallback((...X)=>Ch(r,k.current,...X),[]);if(go(()=>{v.current=t,N.current=n,me(_)||(A.current=_)}),go(()=>{if(!g)return;const X=te.bind(et,So);let le=0;j().revalidateOnFocus&&(le=Date.now()+j().focusThrottleInterval);const B=j0(g,w,(Q,ie={})=>{if(Q==vh){const ne=Date.now();j().revalidateOnFocus&&ne>le&&P()&&(le=ne+j().focusThrottleInterval,X())}else if(Q==xh)j().revalidateOnReconnect&&P()&&X();else{if(Q==Sh)return te();if(Q==md)return te(ie)}});return b.current=!1,k.current=g,h.current=!0,D({_k:p}),$&&(y[g]||(me(H)||Bi?X():r0(X))),()=>{b.current=!0,B()}},[g]),go(()=>{let X;function le(){const B=Jt(c)?c(M().data):c;B&&X!==-1&&(X=setTimeout(oe,B))}function oe(){!M().error&&(d||j().isVisible())&&(f||j().isOnline())?te(So).then(le):le()}return le(),()=>{X&&(clearTimeout(X),X=-1)}},[c,d,f,g]),S.useDebugValue(W),s){const X=g&&me(H);if(!pd&&Bi&&X)throw new Error("Fallback data is required when using Suspense in SSR.");X&&(v.current=t,N.current=n,b.current=!1);const le=C[g],oe=!me(le)&&X?re(le):vd;if(xo(oe),!me(K)&&X)throw K;const B=X?te(So):vd;!me(W)&&X&&(B.status="fulfilled",B.value=!0),xo(B)}return{mutate:re,get data(){return T.data=!0,W},get error(){return T.error=!0,K},get isValidating(){return T.isValidating=!0,J},get isLoading(){return T.isLoading=!0,q}}},N0=w0(C0);var b0="Expected a function",xd=NaN,k0="[object Symbol]",E0=/^\s+|\s+$/g,M0=/^[-+]0x[0-9a-f]+$/i,I0=/^0b[01]+$/i,_0=/^0o[0-7]+$/i,T0=parseInt,P0=typeof es=="object"&&es&&es.Object===Object&&es,D0=typeof self=="object"&&self&&self.Object===Object&&self,L0=P0||D0||Function("return this")(),R0=Object.prototype,O0=R0.toString,A0=Math.max,F0=Math.min,wo=function(){return L0.Date.now()};function z0(e,t,n){var r,i,s,o,u,a,c=0,d=!1,f=!1,m=!0;if(typeof e!="function")throw new TypeError(b0);t=Sd(t)||0,Pa(n)&&(d=!!n.leading,f="maxWait"in n,s=f?A0(Sd(n.maxWait)||0,t):s,m="trailing"in n?!!n.trailing:m);function w(v){var N=r,j=i;return r=i=void 0,c=v,o=e.apply(j,N),o}function x(v){return c=v,u=setTimeout(g,t),d?w(v):o}function y(v){var N=v-a,j=v-c,P=t-N;return f?F0(P,s-j):P}function C(v){var N=v-a,j=v-c;return a===void 0||N>=t||N<0||f&&j>=s}function g(){var v=wo();if(C(v))return p(v);u=setTimeout(g,y(v))}function p(v){return u=void 0,m&&r?w(v):(r=i=void 0,o)}function h(){u!==void 0&&clearTimeout(u),c=0,r=a=i=u=void 0}function b(){return u===void 0?o:p(wo())}function k(){var v=wo(),N=C(v);if(r=arguments,i=this,a=v,N){if(u===void 0)return x(a);if(f)return u=setTimeout(g,t),w(a)}return u===void 0&&(u=setTimeout(g,t)),o}return k.cancel=h,k.flush=b,k}function Pa(e){var t=typeof e;return!!e&&(t=="object"||t=="function")}function U0(e){return!!e&&typeof e=="object"}function $0(e){return typeof e=="symbol"||U0(e)&&O0.call(e)==k0}function Sd(e){if(typeof e=="number")return e;if($0(e))return xd;if(Pa(e)){var t=typeof e.valueOf=="function"?e.valueOf():e;e=Pa(t)?t+"":t}if(typeof e!="string")return e===0?e:+e;e=e.replace(E0,"");var n=I0.test(e);return n||_0.test(e)?T0(e.slice(2),n?2:8):M0.test(e)?xd:+e}var B0=z0;const V0=Hd(B0),Lr=new Map;function W0(e,t){return Lr.has(e)||Lr.set(e,new Set),Lr.get(e).add(t),()=>kh(e,t)}function kh(e,t){const n=Lr.get(e);n&&(n.delete(t),n.size||Lr.delete(e))}function H0(e,t){const n=Lr.get(e);if(n)for(const r of Array.from(n))try{r(t)}catch(i){console.error("event handler error",i)}}const yt={on:W0,off:kh,emit:H0};V0(async e=>await on(e),300);function G0(e){const{data:t,error:n}=N0(e,on,{revalidateOnFocus:!1});return{data:t,error:n}}const kn="https://script.google.com/macros/s/AKfycbxQYykhjDNC1sJ-3no2LJcuc-LdzJ7d6WyBBAkr9jLR1RKFoqrDPRmjXSueiyrlRrQkxg/exec".trim(),pt="".trim().toLowerCase()==="true",Q0=!kn;!kn&&!pt&&console.info("VITE_APPS_SCRIPT_URL is not set  falling back to in-memory mock. Set VITE_APPS_SCRIPT_URL to point at your Apps Script or set VITE_USE_MOCK_SHEETS=false to disable auto-mock.");const gt=pt||Q0;gt&&console.info("sheets.js: running in MOCK mode (VITE_USE_MOCK_SHEETS=true or no BASE URL)");function Pt(e){if(!kn)throw new Error("VITE_APPS_SCRIPT_URL is missing");if(!e)return kn;const t=kn.includes("?")?"&":"?";return`${kn}${t}${e.replace(/^\?/,"")}`}const ye=function(){const t=new Date,n=[{MemberID:"1001",NickName:"JO",FirstName:"Joanna",LastName:"Lacup",member_since:t.toISOString().slice(0,10)},{MemberID:"1002",NickName:"SAM",FirstName:"Samuel",LastName:"Dela Cruz",member_since:t.toISOString().slice(0,10)}],r=[],i=[],s=[],o=[];function u(){return String(1e3+n.length+1)}const a=(c=0)=>new Promise(d=>setTimeout(d,c));return{async fetchSheet(c){await a(0);const d=String(c||"").toLowerCase();return d==="members"?{rows:JSON.parse(JSON.stringify(n))}:d==="gymentries"?{rows:JSON.parse(JSON.stringify(i))}:d==="progresstracker"?{rows:JSON.parse(JSON.stringify(s))}:d==="pricing"?{rows:JSON.parse(JSON.stringify(o))}:{rows:[]}},async fetchMembers(){return await a(0),{rows:JSON.parse(JSON.stringify(n))}},async fetchPayments(){return await a(0),{rows:JSON.parse(JSON.stringify(r))}},async fetchGymEntries(){return await a(0),{rows:JSON.parse(JSON.stringify(i))}},async fetchProgressTracker(){return await a(0),{rows:JSON.parse(JSON.stringify(s))}},async fetchPricing(){return await a(0),{rows:JSON.parse(JSON.stringify(o))}},async insertRow(c,d){await a(0);const f=String(c||"").toLowerCase(),m=Object.assign({},d||{});return f==="members"?(m.MemberID=m.MemberID||u(),n.push(m),{ok:!0,id:m.MemberID}):f==="gymentries"?(i.push(m),{ok:!0}):f==="progresstracker"?(s.push(m),{ok:!0}):f==="payments"||f==="payments"?(r.push(m),{ok:!0}):{ok:!0}},async upsertMember(c){await a(0);const d=String((c==null?void 0:c.MemberID)||(c==null?void 0:c.memberid)||(c==null?void 0:c.id)||"").trim();if(!d)return this.insertRow("Members",c);const f=n.findIndex(w=>String(w.MemberID)===d);if(f>=0)return n[f]={...n[f],...c},{ok:!0,id:d};const m={...c,MemberID:d};return n.push(m),{ok:!0,id:d}},async addPayment(c){return await a(0),r.push(c),{ok:!0}},async attendanceQuickAppend(c,d={}){await a(0);const f={Staff:c,Date:t.toISOString().slice(0,10),TimeIn:new Date().toLocaleTimeString("en-US",{hour12:!1}),...d};return i.push(f),{ok:!0,rec:f}},async clockIn(c){return await a(0),{ok:!0}},async clockOut(c){return await a(0),{ok:!0}},async fetchAttendance(c){return await a(0),{rows:JSON.parse(JSON.stringify(i))}},async uploadPhoto(c){return await a(0),{ok:!0,url:"data:mock/blank"}},async fetchMemberById(c){await a(0);const d=n.find(f=>String(f.MemberID||"")===String(c||""));return d?JSON.parse(JSON.stringify(d)):null},async fetchMemberBundle(c){await a(0);const d=await this.fetchMemberById(c),f=r.filter(x=>String(x.MemberID||x.memberid||x.member||"")===String(c||"")),m=i.filter(x=>String(x.MemberID||x.memberid||"")===String(c||"")),w=s.filter(x=>String(x.MemberID||x.memberid||"")===String(c||""));return{member:d,payments:f,gymEntries:m,progress:w}},async fetchDashboard(){await a(0);const c=n.length,d=i.filter(f=>String(f.Date||"").slice(0,10)===t.toISOString().slice(0,10)).length;return{ok:!0,totalMembers:c,activeGym:0,activeCoach:0,visitedToday:d,coachToday:0,checkedIn:0,cashToday:0,gcashToday:0,totalPaymentsToday:0}}}}();async function Eh(e,t){const n=await e.text();if(!e.ok)throw new Error(`HTTP ${e.status} ${e.statusText} from ${t}: ${n.slice(0,200)}`);const r=n.trim();if(!(r.startsWith("{")||r.startsWith("[")))throw new Error(`Expected JSON from ${t}. Got: ${r.slice(0,120)}`);return JSON.parse(r)}async function J0(e){if(console.debug("API GET ->",e),gt)try{const r=new URL(e).searchParams.get("sheet")||"";return ye.fetchSheet(r)}catch{return{rows:[]}}const t=await fetch(e,{cache:"no-store",mode:"cors"});return Eh(t,e)}const $t=new Map;function qt(e){try{for(const t of Array.from($t.keys()))t.includes(e)&&$t.delete(t)}catch{}}function K0(e){try{const t=Pt("action=members"),n=$t.get(t);if(!n)return;const r=JSON.parse(JSON.stringify(n.data));if(Array.isArray(r)){r.push(e),$t.set(t,{ts:Date.now(),data:r});return}if(r&&Array.isArray(r.rows)){r.rows.push(e),$t.set(t,{ts:Date.now(),data:r});return}}catch{}}function Y0(e){try{const t=Pt("action=members"),n=$t.get(t);if(!n)return;const r=JSON.parse(JSON.stringify(n.data)),i=Array.isArray(r)?r:r&&r.rows?r.rows:null;if(!i)return;const s=String(e.MemberID||e.memberid||e.id||"").trim(),o=i.findIndex(u=>String(u.MemberID||u.memberid||u.id||"")===s);if(o>=0){i[o]={...i[o],...e};const u=Array.isArray(r)?i:{...r,rows:i};$t.set(t,{ts:Date.now(),data:u})}}catch{}}function wd(e){try{const t=Pt("sheet=GymEntries"),n=Pt("action=attendance"),r=i=>{const s=$t.get(i);if(!s)return!1;const o=JSON.parse(JSON.stringify(s.data)),u=Array.isArray(o)?o:o&&o.rows?o.rows:null;if(!u)return!1;u.unshift(e);const a=Array.isArray(o)?u:{...o,rows:u};return $t.set(i,{ts:Date.now(),data:a}),!0};r(t),r(n)}catch{}}function Wn(e,t=3e4){const n=Date.now(),r=$t.get(e);return r&&n-r.ts<t?Promise.resolve(JSON.parse(JSON.stringify(r.data))):J0(e).then(i=>{try{$t.set(e,{ts:Date.now(),data:i})}catch{}return JSON.parse(JSON.stringify(i))})}async function Vt(e){if(gt){const r=e&&e.op;if(r==="insert"){const i=await ye.insertRow(e.sheet,JSON.parse(e.row||"{}"));try{const s=String(e.sheet||"").toLowerCase();s==="members"&&yt.emit("member:added",JSON.parse(e.row||"{}")),s==="gymentries"&&yt.emit("gymEntry:added",JSON.parse(e.row||"{}"))}catch{}return i}if(r==="updatemember"||r==="upsertmember"){const i=await ye.upsertMember(JSON.parse(e.row||"{}"));try{yt.emit("member:updated",JSON.parse(e.row||"{}"))}catch{}return i}if(r==="quick_attendance_append"){const i=await ye.attendanceQuickAppend(e.Staff||e.staff,e);try{yt.emit("gymEntry:added",i.rec||e)}catch{}return i}if(r==="quick_gym_append"){const i=await ye.insertRow("GymEntries",e);try{yt.emit("gymEntry:added",e)}catch{}return i}return r==="gymclockin"||r==="gymclockout"?{ok:!0}:r==="addpayment"?ye.addPayment(e):{ok:!0}}const t=await fetch(kn,{method:"POST",body:new URLSearchParams(e)}),n=await Eh(t,kn+" [POST form]");if(n&&n.ok===!1)throw new Error(n.error||JSON.stringify(n));try{const r=e&&e.op;if(r==="insert"){const i=String(e.sheet||"").toLowerCase();if(i==="members"){try{const s=JSON.parse(e.row||"{}");K0(s)}catch{}try{const s=JSON.parse(e.row||"{}");yt.emit("member:added",s)}catch{}}else if(i==="gymentries"){try{const s=JSON.parse(e.row||"{}");wd(s)}catch{qt("sheet=GymEntries"),qt("action=attendance")}try{const s=JSON.parse(e.row||"{}");yt.emit("gymEntry:added",s)}catch{}}else qt(`sheet=${i}`)}else if(r==="updatemember"||r==="upsertmember"){try{const i=JSON.parse(e.row||"{}");Y0(i)}catch{}try{const i=JSON.parse(e.row||"{}");yt.emit("member:updated",i)}catch{}}else if(r==="quick_attendance_append"||r==="quick_gym_append"||r==="gymclockin"||r==="gymclockout"){try{const i={};e.MemberID&&(i.MemberID=e.MemberID),e.Staff&&(i.Staff=e.Staff),e.TimeIn&&(i.TimeIn=e.TimeIn),e.Date&&(i.Date=e.Date),Object.keys(i).length?wd(i):(qt("action=attendance"),qt("sheet=GymEntries"))}catch{qt("action=attendance"),qt("sheet=GymEntries")}try{const i={};e.MemberID&&(i.MemberID=e.MemberID),e.Staff&&(i.Staff=e.Staff),e.TimeIn&&(i.TimeIn=e.TimeIn),e.Date&&(i.Date=e.Date),Object.keys(i).length&&yt.emit("gymEntry:added",i)}catch{}}else r==="addpayment"&&(qt("action=payments"),qt("action=dashboard"))}catch{}return n}async function on(e){if(gt)return ye.fetchSheet(e);const t=Pt(`sheet=${encodeURIComponent(e)}`);return Wn(t,3e4)}async function qi(e,t){return gt?ye.insertRow(e,t):Vt({op:"insert",sheet:e,row:JSON.stringify(t)})}async function Xt(){return gt?ye.fetchMembers():Wn(Pt("action=members"),3e4)}async function zc(){return Xt()}async function Uc(e){return qi("Members",e)}async function $c(e){return Uc(e)}async function Dl(e){return gt?ye.upsertMember(e):Vt({op:"updatemember",row:JSON.stringify(e)})}async function al({memberId:e,filename:t,mime:n,data:r}){return gt?ye.uploadPhoto({memberId:e,filename:t,mime:n,data:r}):Vt({op:"uploadphoto",memberId:e,filename:t,mime:n,data:r})}async function X0(e){return new Promise((t,n)=>{const r=new FileReader;r.onerror=()=>n(new Error("Failed to read file")),r.onload=()=>{const i=String(r.result||""),s=i.indexOf(","),o=s>=0?i.slice(s+1):i;t(o)},r.readAsDataURL(e)})}async function Zi(e,t){if(e instanceof Blob){const n=e,r=n&&n.name||`photo-${Date.now()}.jpg`,i=n&&n.type||"image/jpeg",s=await X0(n);return al({memberId:t||"",filename:r,mime:i,data:s})}return gt?ye.uploadPhoto(e||{}):al(e||{})}async function Ll(e){if(gt)return ye.fetchMemberById(e);const t=await on("Members");return((t==null?void 0:t.rows)||(t==null?void 0:t.data)||[]).find(r=>String(r.MemberID||"").trim()===String(e).trim())||null}async function Vi(e){if(!e)throw new Error("memberId is required");if(gt)return ye.fetchMemberBundle(e);const[t,n,r,i]=await Promise.all([on("Members"),zn(),on("GymEntries"),on("ProgressTracker")]),s=((t==null?void 0:t.rows)||(t==null?void 0:t.data)||[]).find(d=>String(d.MemberID||"").trim()===String(e).trim())||null,o=String(e).trim(),u=((n==null?void 0:n.rows)||(n==null?void 0:n.data)||[]).filter(d=>String(d.MemberID||"").trim()===o),a=((r==null?void 0:r.rows)||(r==null?void 0:r.data)||[]).filter(d=>String(d.MemberID||"").trim()===o),c=((i==null?void 0:i.rows)||(i==null?void 0:i.data)||[]).filter(d=>String(d.MemberID||"").trim()===o);return{member:s,payments:u,gymEntries:a,progress:c}}async function Bc(e){const t=e?`action=attendance&date=${encodeURIComponent(e)}`:"action=attendance";return gt?ye.fetchAttendance(e):Wn(Pt(t),5e3)}async function Vc(e){const t=typeof e=="string"?e:(e==null?void 0:e.staff)||(e==null?void 0:e.Staff)||"";if(!t)throw new Error("staff is required");try{return await Wi(t)}catch(n){return console.warn("attendanceQuickAppend failed, falling back to clockin",n),gt?ye.clockIn(t):Vt({op:"clockin",staff:t})}}async function Wc(e){const t=typeof e=="string"?e:(e==null?void 0:e.staff)||(e==null?void 0:e.Staff)||"";if(!t)throw new Error("staff is required");try{return await Wi(t,{wantsOut:!0})}catch(n){return console.warn("attendanceQuickAppend failed, falling back to clockout",n),gt?ye.clockOut(t):Vt({op:"clockout",staff:t})}}async function Mh(e){const t=e&&e.TimeOut,n=(e==null?void 0:e.Staff)||(e==null?void 0:e.staff)||"";return t?Wc(n):Vc(n)}async function Wi(e,t={}){if(!e)throw new Error("staff is required");return pt?ye.attendanceQuickAppend(e,t):Vt({op:"quick_attendance_append",Staff:e,...t})}async function tr(){return pt?ye.fetchGymEntries():Wn(Pt("sheet=GymEntries"),3e4)}async function Ih(e){return pt?ye.insertRow("GymEntries",e):qi("GymEntries",e)}async function _h(e,t={}){if(!e)throw new Error("memberId is required");return pt?(await ye.insertRow("GymEntries",{MemberID:e,...t}),{ok:!0}):Vt({op:"gymclockin",MemberID:e,...t})}async function Th(e){if(!e)throw new Error("memberId is required");return pt?(await ye.insertRow("GymEntries",{MemberID:e,TimeOut:new Date().toISOString()}),{ok:!0}):Vt({op:"gymclockout",MemberID:e})}async function q0({memberId:e,coach:t,focus:n,timeOut:r}){const i={op:"upsertgymentry",MemberID:e};return r&&(i.TimeOut=r),t&&(i.Coach=t),n&&(i.Focus=n),Vt(i)}async function cl(e,t={}){if(!e)throw new Error("memberId is required");return pt?(await ye.insertRow("GymEntries",{MemberID:e,...t}),{ok:!0}):Vt({op:"quick_gym_append",MemberID:e,...t})}async function Hc(){return pt?ye.fetchProgressTracker():Wn(Pt("sheet=ProgressTracker"),3e4)}async function Gc(e){return pt?ye.insertRow("ProgressTracker",e):qi("ProgressTracker",e)}async function fn(){return pt?ye.fetchPricing():Wn(Pt("action=pricing"),3e4)}async function zn(){return pt?ye.fetchPayments():Wn(Pt("action=payments"),3e4)}async function Rl(e){return pt?ye.addPayment(e):Vt({op:"addpayment",...e})}async function Qc(){return pt?ye.fetchDashboard():Wn(Pt("action=dashboard"),1e4)}const Z0={fetchSheet:on,insertRow:qi,fetchMembers:Xt,fetchMembersFresh:zc,addMember:Uc,saveMember:$c,uploadPhoto:al,uploadMemberPhoto:Zi,fetchMemberById:Ll,fetchMemberBundle:Vi,updateMember:Dl,fetchAttendance:Bc,clockIn:Vc,clockOut:Wc,upsertAttendance:Mh,fetchGymEntries:tr,addGymEntry:Ih,gymQuickAppend:cl,fetchProgressTracker:Hc,addProgressRow:Gc,fetchPricing:fn,fetchPayments:zn,addPayment:Rl,fetchDashboard:Qc};function jd(e){const n=String(e||"").trim().match(/^(\d{1,2}):(\d{2})\s*([AP]M)?$/i);if(!n)return 1/0;let r=parseInt(n[1],10),i=parseInt(n[2],10);const s=(n[3]||"").toUpperCase();return s==="PM"&&r!==12&&(r+=12),s==="AM"&&r===12&&(r=0),r*60+i}function ex(e=[]){const t=e.filter(r=>{const i=String((r==null?void 0:r.TimeOut)??"").trim();return i===""||i==="-"||i===""});if(!t.length)return null;t.sort((r,i)=>jd((r==null?void 0:r.TimeIn)||(r==null?void 0:r.SignIn)||(r==null?void 0:r.timeIn))-jd((i==null?void 0:i.TimeIn)||(i==null?void 0:i.SignIn)||(i==null?void 0:i.timeIn)));const n=t[0];return(n==null?void 0:n.Staff)||(n==null?void 0:n.staff)||(n==null?void 0:n.StaffName)||null}const Cd=Object.freeze(Object.defineProperty({__proto__:null,addGymEntry:Ih,addMember:Uc,addPayment:Rl,addProgressRow:Gc,attendanceQuickAppend:Wi,clockIn:Vc,clockOut:Wc,default:Z0,derivePrimaryFromAttendance:ex,fetchAttendance:Bc,fetchDashboard:Qc,fetchGymEntries:tr,fetchMemberBundle:Vi,fetchMemberById:Ll,fetchMembers:Xt,fetchMembersFresh:zc,fetchPayments:zn,fetchPricing:fn,fetchProgressTracker:Hc,fetchSheet:on,gymClockIn:_h,gymClockOut:Th,gymQuickAppend:cl,insertRow:qi,saveMember:$c,updateMember:Dl,uploadMemberPhoto:Zi,uploadPhoto:al,upsertAttendance:Mh,upsertGymEntry:q0,useSheetData:G0},Symbol.toStringTag,{value:"Module"})),Ol="Asia/Manila",ii=()=>new Intl.DateTimeFormat("en-CA",{timeZone:Ol,year:"numeric",month:"2-digit",day:"2-digit"}).format(new Date),mr=e=>{if(!e)return"";const t=e instanceof Date?e:new Date(e);return isNaN(t)?"":new Intl.DateTimeFormat("en-CA",{timeZone:Ol,year:"numeric",month:"2-digit",day:"2-digit"}).format(t)},ws=e=>{var o,u,a;if(!e)return"-";let t;if(typeof e=="string"&&/^\d{4}-\d{2}-\d{2}$/.test(e)){const[c,d,f]=e.split("-").map(Number);t=new Date(Date.UTC(c,d-1,f))}else t=e instanceof Date?e:new Date(e);if(isNaN(t))return"-";const n=new Intl.DateTimeFormat("en-US",{timeZone:Ol,month:"short",day:"numeric",year:"numeric"}).formatToParts(t),r=((o=n.find(c=>c.type==="month"))==null?void 0:o.value)||"",i=((u=n.find(c=>c.type==="day"))==null?void 0:u.value)||"",s=((a=n.find(c=>c.type==="year"))==null?void 0:a.value)||"";return`${r}-${i}, ${s}`},si=(e,t)=>{if(!e||!t)return"";const[n,r,i]=e.split("-").map(Number),s=new Date(Date.UTC(n,r-1,i));return s.setUTCDate(s.getUTCDate()+Math.max(0,Number(t)-1)),new Intl.DateTimeFormat("en-CA",{timeZone:"UTC",year:"numeric",month:"2-digit",day:"2-digit"}).format(s)},js=(e,t)=>{if(!e)return"";const[n,r,i]=e.split("-").map(Number),s=new Date(Date.UTC(n,r-1,i));return s.setUTCDate(s.getUTCDate()+Number(t)),new Intl.DateTimeFormat("en-CA",{timeZone:"UTC",year:"numeric",month:"2-digit",day:"2-digit"}).format(s)};function tx({open:e,onClose:t,memberId:n,onSaved:r,membershipEnd:i,coachEnd:s,isStudent:o,birthDate:u}){const[a,c]=S.useState([]),[d,f]=S.useState(!1),[m,w]=S.useState(""),[x,y]=S.useState({Particulars:"",StartDate:ii(),EndDate:"",Mode:"",Cost:""});S.useEffect(()=>{e&&(w(""),y({Particulars:"",StartDate:ii(),EndDate:"",Mode:"",Cost:""}),(async()=>{try{const N=await fn();c((N==null?void 0:N.rows)||(N==null?void 0:N.data)||N||[])}catch(N){w(N.message||"Failed to load pricing")}})())},[e]);const C=S.useMemo(()=>{if(!u)return!1;const N=u instanceof Date?u:new Date(u);if(isNaN(N))return!1;const j=new Date;let P=j.getFullYear()-N.getFullYear();const M=j.getMonth()-N.getMonth();return(M<0||M===0&&j.getDate()<N.getDate())&&P--,P>=60},[u]),g=S.useMemo(()=>{var P;const N=new Intl.DateTimeFormat("en-US",{timeZone:Ol,hour12:!1,hour:"2-digit",minute:"2-digit"}).formatToParts(new Date);return Number(((P=N.find(M=>M.type==="hour"))==null?void 0:P.value)||"0")<15},[]),p=S.useMemo(()=>{const N=!!(o||C);return(a||[]).filter(j=>{const P=String(j.Particulars||""),M=/(student|senior|discount|disc)/i.test(P);return!(/off\s*-?\s*peak/i.test(P)&&!g||M&&!N)})},[a,o,C,g]);S.useEffect(()=>{if(!x.Particulars)return;p.some(j=>String(j.Particulars)===String(x.Particulars))||y(j=>({...j,Particulars:"",Cost:"",EndDate:""}))},[p]);const h=N=>{const j=String(N??"").trim().toLowerCase();return j==="yes"||j==="y"||j==="true"||j==="1"},b=N=>{if(!N)return{gym:!1,coach:!1};const j=Object.entries(N||{}),P=z=>{for(const[O,T]of j){const R=O.toLowerCase().replace(/\s+/g,"");if(z.some(I=>R===I.toLowerCase().replace(/\s+/g,"")))return T}},M=h(P(["Gym membership","Gym Membership","GymMembership","Membership"])),D=h(P(["Coach subscription","Coach Subscription","CoachSubscription","Coach"]));return{gym:M,coach:D}},k=N=>{const j=(p||[]).find(L=>String(L.Particulars)===String(N)),P=j?(parseFloat(j.Cost)||0).toFixed(2):"",M=j?Number(j.Validity||0):0,D=b(j),z=ii(),O=L=>js(mr(L),1);let T=z;const R=D.gym&&i&&new Date(i)>=new Date(z)?O(i):z,I=D.coach&&s&&new Date(s)>=new Date(z)?O(s):z;T=[R,I,z].sort()[[R,I,z].length-1],y(L=>{const E=T||L.StartDate||z;return{...L,Particulars:N,Cost:P,StartDate:E,EndDate:M?si(E,M):""}})},v=async N=>{if(N.preventDefault(),!n)return w("Missing MemberID");if(!x.Particulars)return w("Select Particulars.");if(!x.Mode)return w("Select a payment mode.");if(!x.Cost)return w("Cost is missing for this item.");f(!0),w("");try{const j=(p||[]).find(U=>String(U.Particulars)===String(x.Particulars)),P=j?Number(j.Validity||0):0,M=b(j),D=ii(),z=i?mr(i):"",O=s?mr(s):"",T=U=>js(mr(U),1),R=M.gym?z&&z>=D?T(z):x.StartDate||D:null,I=M.coach?O&&O>=D?T(O):x.StartDate||D:null,L=R&&P?si(R,P):"",E=I&&P?si(I,P):"";await Rl({MemberID:n,Particulars:x.Particulars,StartDate:x.StartDate||"",EndDate:x.EndDate||"",GymValidUntil:L,CoachValidUntil:E,Mode:x.Mode,Cost:String(x.Cost).trim()}),r&&r(),t&&t()}catch(j){w(j.message||"Failed to add payment")}finally{f(!1)}};return e?l.jsx("div",{style:{position:"fixed",inset:0,background:"rgba(0,0,0,.45)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:9999},children:l.jsxs("form",{onSubmit:v,style:{width:"min(560px, 96vw)",background:"#fff",borderRadius:14,padding:16,border:"1px solid var(--light-border)",boxShadow:"0 20px 60px rgba(0,0,0,.2)"},children:[l.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",marginBottom:10},children:[l.jsx("div",{style:{fontWeight:800,fontSize:18},children:"Add Payment"}),l.jsx("button",{type:"button",className:"button",onClick:t,style:{background:"#eee",color:"#333"},children:""})]}),m&&l.jsx("div",{className:"small-error",style:{marginBottom:8},children:m}),l.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:10,marginBottom:10},children:[l.jsxs("div",{style:{background:"#f9fafb",border:"1px solid #e5e7eb",borderRadius:10,padding:10},children:[l.jsx("div",{style:{fontSize:12,color:"#6b7280",marginBottom:4},children:"Gym Membership - Valid until"}),l.jsx("div",{style:{fontWeight:700},children:i?ws(i):"-"})]}),l.jsxs("div",{style:{background:"#f9fafb",border:"1px solid #e5e7eb",borderRadius:10,padding:10},children:[l.jsx("div",{style:{fontSize:12,color:"#6b7280",marginBottom:4},children:"Coach Subscription - Valid until"}),l.jsx("div",{style:{fontWeight:700},children:s?ws(s):"-"})]})]}),l.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:12},children:[l.jsxs("label",{className:"field",style:{gridColumn:"1 / span 2"},children:[l.jsx("span",{className:"label",children:"Particulars"}),l.jsxs("select",{value:x.Particulars,onChange:N=>k(N.target.value),required:!0,children:[l.jsx("option",{value:"",children:"Choose product/service"}),p.map((N,j)=>l.jsx("option",{value:N.Particulars,children:N.Particulars},`${N.Particulars}-${j}`))]}),x.Particulars&&(()=>{const N=(p||[]).find(L=>String(L.Particulars)===String(x.Particulars)),j=b(N),P=N?Number(N.Validity||0):0;if(!P)return null;const M=ii(),D=i?mr(i):"",z=s?mr(s):"",O=j.gym?D&&D>=M?js(D,1):x.StartDate||M:null,T=j.coach?z&&z>=M?js(z,1):x.StartDate||M:null,R=O?si(O,P):null,I=T?si(T,P):null;return!R&&!I?null:l.jsxs("div",{style:{background:"#fde8ef",border:"1px solid #ffd7e3",color:"#8b1a3b",marginTop:8,padding:8,borderRadius:8,fontSize:13,lineHeight:1.35},children:[R&&l.jsxs("div",{children:["New Gym valid until: ",l.jsx("b",{children:ws(R)})]}),I&&l.jsxs("div",{children:["New Coach valid until: ",l.jsx("b",{children:ws(I)})]})]})})()]}),l.jsxs("label",{className:"field",children:[l.jsx("span",{className:"label",children:"Mode"}),l.jsxs("select",{value:x.Mode,onChange:N=>y(j=>({...j,Mode:N.target.value})),required:!0,children:[l.jsx("option",{value:"",children:"Select mode"}),l.jsx("option",{value:"Cash",children:"Cash"}),l.jsx("option",{value:"GCash",children:"GCash"})]})]}),l.jsxs("label",{className:"field",children:[l.jsx("span",{className:"label",children:"Cost"}),l.jsx("input",{type:"number",step:"0.01",min:"0",value:x.Cost,readOnly:!0,disabled:!0})]})]}),l.jsx("div",{style:{marginTop:8,color:"var(--muted)",fontSize:12},children:"Validity is applied inclusive of the Start Date."}),l.jsxs("div",{style:{marginTop:12,display:"flex",gap:10,justifyContent:"flex-end"},children:[l.jsx("button",{type:"button",className:"back-btn",onClick:t,style:{background:"#e5e7eb",color:"#111",fontWeight:700},children:"Cancel"}),l.jsx("button",{type:"submit",className:"primary-btn",disabled:d,children:"+ Add Payment"})]})]})}):null}function Ph({open:e,onClose:t,onCapture:n}){const r=S.useRef(null),i=S.useRef(null),s=S.useRef(!1),[o,u]=S.useState([]),[a,c]=S.useState(""),[d,f]=S.useState(""),[m,w]=S.useState(!1),x=()=>{i.current&&(i.current.getTracks().forEach(p=>p.stop()),i.current=null)},y=async(p="")=>{if(!s.current){s.current=!0,w(!0),f(""),x();try{const h=p?{video:{deviceId:{exact:p},width:{ideal:1280},height:{ideal:720}},audio:!1}:{video:{facingMode:{ideal:"environment"},width:{ideal:1280},height:{ideal:720}},audio:!1};let b;try{b=await navigator.mediaDevices.getUserMedia(h)}catch(k){try{const v=p?{video:{deviceId:{ideal:p}},audio:!1}:{video:!0,audio:!1};b=await navigator.mediaDevices.getUserMedia(v)}catch(v){const N=v||k,j=N&&N.name?String(N.name):"";f(j==="NotAllowedError"?"Camera permission denied. Please allow camera access in the browser site settings and macOS Privacy > Camera.":j==="NotReadableError"?"Camera is busy or not readable. Close other apps using the camera (e.g., Zoom/Meet/FaceTime) and try again.":j==="OverconstrainedError"||j==="ConstraintNotSatisfiedError"?"Selected camera doesn't meet constraints. Try choosing a different camera.":j==="NotFoundError"?"No camera found. Plug in a camera or check system permissions.":"Cannot access camera. Check site permissions and OS privacy settings.");return}}if(i.current=b,r.current){r.current.srcObject=b;try{await r.current.play()}catch{}}try{await C()}catch{}}catch{f("Cannot access camera. Check site permissions and OS privacy settings.")}finally{s.current=!1,w(!1)}}},C=async()=>{try{const h=(await navigator.mediaDevices.enumerateDevices()).filter(b=>b.kind==="videoinput");u(h),!a&&h[0]&&c(h[0].deviceId)}catch{}};S.useEffect(()=>{var p,h;if(!e){x();return}return(async()=>(f(""),await y(a||"")))(),(h=(p=navigator.mediaDevices)==null?void 0:p.addEventListener)==null||h.call(p,"devicechange",C),()=>{var b,k;(k=(b=navigator.mediaDevices)==null?void 0:b.removeEventListener)==null||k.call(b,"devicechange",C),x()}},[e]),S.useEffect(()=>{var p,h,b,k;if(!(!e||!a)){try{const v=((k=(b=(h=(p=i.current)==null?void 0:p.getVideoTracks)==null?void 0:h.call(p)[0])==null?void 0:b.getSettings)==null?void 0:k.call(b).deviceId)||"";if(v&&v===a)return}catch{}y(a)}},[a]);const g=()=>{if(!r.current)return;const p=r.current,h=document.createElement("canvas"),b=p.videoWidth||1280,k=p.videoHeight||720;h.width=b,h.height=k,h.getContext("2d").drawImage(p,0,0,b,k);const N=h.toDataURL("image/jpeg",.9);n==null||n(N),t==null||t()};return e?l.jsx("div",{style:Nd.overlay,children:l.jsxs("div",{style:Nd.modal,children:[l.jsx("div",{style:{display:"flex",justifyContent:"flex-end",alignItems:"center",marginBottom:8},children:l.jsx("button",{type:"button","aria-label":"Close",className:"button",onClick:t,style:{background:"#eee",color:"#333"},children:""})}),l.jsxs("div",{style:{display:"flex",gap:8,alignItems:"center",marginBottom:8},children:[l.jsx("label",{style:{fontWeight:600,fontSize:14},children:"Camera:"}),l.jsxs("select",{value:a,onChange:p=>c(p.target.value),style:{flex:1,padding:"8px 10px",borderRadius:8,border:"1px solid #e7e8ef"},children:[o.length===0&&l.jsx("option",{value:"",children:"(No camera found)"}),o.map(p=>l.jsx("option",{value:p.deviceId,children:p.label||"Camera"},p.deviceId))]})]}),!d&&!i.current&&l.jsx("div",{style:{color:"#666",marginBottom:8},children:"Initializing camera please allow the browser prompt."}),d?l.jsx("div",{style:{color:"#d33",marginBottom:12},children:d}):l.jsx("video",{ref:r,playsInline:!0,muted:!0,style:{width:"100%",borderRadius:10,background:"#000"}}),l.jsx("div",{style:{display:"flex",gap:10,marginTop:12,justifyContent:"flex-end"},children:l.jsx("button",{className:"button btn-lg",onClick:g,disabled:!!d||!i.current,children:"Capture"})})]})}):null}const Nd={overlay:{position:"fixed",inset:0,background:"rgba(0,0,0,.6)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:1e3},modal:{width:"min(720px, 92vw)",background:"#fff",borderRadius:12,padding:16,border:"1px solid #e7e8ef",boxShadow:"0 6px 24px rgba(0,0,0,.2)"}},nx=["Isabel","Merida","Palompon","Ormoc","Matag-ob"],rx={Isabel:["Anislag","Antipolo","Apale","Bantigue","Binog","Bilwang","Can-andan","Cangag","Consolacion","Honan","Libertad","Mahayag","Marvel (Poblacion)","Matlang","Monte Alegre","Puting Bato","San Francisco","San Roque","Santa Cruz Relocation","Santo Nio (Poblacion)","Santo Rosario","Tabunok","Tolingon","Tubod"],Merida:["Benabaye","Cabaliwan","Calunangan","Calunasan","Cambalong","Can-unzo","Canbantug","Casilda","Lamanoc","Libas","Libjo","Lundag","Macario","Mahalit","Mahayag","Masumbang","Mat-e","Poblacion","Puerto Bello","San Isidro","San Jose","Tubod"],Palompon:["Baguinbin","Belen","Buenavista","Caduhaan","Cambakbak","Cambinoy","Cangcosme","Cangmuya","Canipaan","Cantandoy","Cantuhaon","Catigahan","Central 1 (Poblacion)","Central 2 (Poblacion)","Cruz","Duljugan","Guiwan 1 (Poblacion)","Guiwan 2 (Poblacion)","Himarco","Hinablayan (Poblacion)","Hinagbuan","Lat-osan","Liberty","Lomonon","Mabini","Magsaysay","Masaba","Mazawalo (Poblacion)","Parilla","Pinagdait (Poblacion Ypil I)","Pinaghi-usa (Poblacion Ypil II)","Plaridel","Rizal","Sabang","San Guillermo","San Isidro","San Joaquin","San Juan","San Miguel","San Pablo","San Pedro","San Roque","Santiago","Taberna","Tabunok","Tambis","Tinabilan","Tinago","Tinubdan","Bitaog (Poblacion Ypil III)"],Ormoc:["Airport","Alegria","Alta Vista","Bagongbong","Bagong Buhay","Bantigue","Batuan","Bayog","Biliboy","Borok","Cabaon-an","Cabintan","Cabulihan","Cagbuhangin","Camp Downes","Can-adieng","Can-untog","Catmon","Cogon Combado","Concepcion","Curva","Danhug","Dayhagan","Dolores","Domonar","Don Felipe Larrazabal","Don Potenciano Larrazabal","Doa Feliza Z. Mejia","Donghol","Esperanza","Gaas","Green Valley","Guintigui-an","Hibunawon","Hugpa","Ipil","Juaton","Kadaohan","Labrador (Balion)","Lao","Leondoni","Libertad","Liberty","Licuma","Liloan","Linao","Luna","Mabato","Mabini","Macabug","Magaswi","Mahayag","Mahayahay","Manlilinao","Margen","Mas-in","Matica-a","Milagro","Monterico","Nasunogan","Naungan","Nueva Sociedad","Nueva Vista","Patag","Punta","Quezon Jr.","Rufina M. Tan (Rawis)","Sabang Bao","Salvacion","San Antonio","San Isidro","San Jose","San Juan","San Pablo (Simangan)","San Vicente","Santo Nio","Sumangga","Tambulilid","Tongonan","Valencia","East (Poblacion)","West (Poblacion)","North (Poblacion)","South (Poblacion)"],"Matag-ob":["Balagtas","Bonoy","Bulak","Cambadbad","Candelaria","Cansoso","Imelda","Malazarte","Mansaha-on","Mansalip","Masaba","Naulayan","Riverside (Poblacion)","San Dionesio","San Guillermo (Poblacion)","San Marcelino","San Sebastian","San Vicente","Santa Rosa","Santo Rosario","Talisay (Poblacion)"]};function ix(e){return rx[e]||[]}const sx=e=>{const t={};return Object.entries(e||{}).forEach(([n,r])=>t[String(n).toLowerCase()]=r),t},rt=(e,...t)=>{if(!e)return"";for(const n of t){if(e[n]!==void 0&&e[n]!==null&&e[n]!=="")return e[n];const r=String(n).toLowerCase(),i=sx(e);if(i[r]!==void 0&&i[r]!=="")return i[r];const s=r.replace(/\s+/g,"");if(i[s]!==void 0&&i[s]!=="")return i[s];const o=r.replace(/\s+/g,"_");if(i[o]!==void 0&&i[o]!=="")return i[o]}return""};function lx(e,t=`photo-${Date.now()}.jpg`){const n=e.split(","),r=n[0].match(/:(.*?);/)[1]||"image/jpeg",i=atob(n[1]);let s=i.length;const o=new Uint8Array(s);for(;s--;)o[s]=i.charCodeAt(s);return new File([o],t,{type:r})}function ox({open:e,onClose:t,member:n,onSaved:r}){const[i,s]=S.useState({lastName:"",firstName:"",middleName:"",nickName:"",gender:"",birthday:"",street:"",brgy:"",municipality:"",email:"",mobile:"",validId:"",student:!1}),[o,u]=S.useState(""),[a,c]=S.useState(""),[d,f]=S.useState(""),[m,w]=S.useState(null),x=S.useRef(null),[y,C]=S.useState(!1),[g,p]=S.useState(""),[h,b]=S.useState(!1),[k,v]=S.useState(""),N=S.useRef(!1),j=ix(i.municipality),P=I=>{const E=String(I||"").match(/(?:\/file\/d\/|[?&]id=|\/uc\?[^#]*id=)([^/&?#]+)/);return E&&E[1]?E[1]:""},M=I=>{const L=String(I||"");if(!L)return"";const E=L.match(/https?:\/\/[^\s}]+/);if(E){const F=E[0];if(/googleusercontent\.com\//.test(F))return F;const _=F.match(/(?:\/file\/d\/|[?&]id=|\/uc\?[^#]*id=)([^/&?#]+)/);return _&&_[1]?`https://drive.google.com/uc?export=view&id=${_[1]}`:F}if(/googleusercontent\.com\//.test(L))return L;const U=P(L);return U?`https://drive.google.com/uc?export=view&id=${U}`:L},D=I=>{const L=String(I||"");if(/googleusercontent\.com\//.test(L))return L;const E=P(L);return E?`https://drive.google.com/thumbnail?id=${E}&sz=w1000`:L};S.useEffect(()=>{if(!e){N.current=!1;return}if(N.current)return;const I=n||{},L=String(rt(I,"MemberID","memberId","member_id","id")||"").trim();u(L);const E=rt(I,"LastName","lastName","last_name","Last"),U=rt(I,"FirstName","firstName","first_name","First"),F=rt(I,"MiddleName","middleName","middle_name"),_=rt(I,"NickName","nickname","nick_name","Nick Name"),H=rt(I,"Gender","gender"),K=rt(I,"Birthday","birth_date","dob","Birth Date"),A=rt(I,"Street","street"),W=rt(I,"Brgy","Barangay","brgy","barangay"),$=rt(I,"Municipality","City","municipality","city"),V=rt(I,"Email","email"),J=rt(I,"Mobile","Phone","mobile","phone"),q=rt(I,"ValidID","Valid Id","Valid ID","validId","valid_id"),te=String(rt(I,"Student","student")||"").toLowerCase().startsWith("y"),re=rt(I,"PhotoURL","photoUrl","photo_url","photo"),pe=re?D(M(re)):"";c(re||""),f(pe),w(null),p("");const X=String(W||"");s({lastName:String(E||""),firstName:String(U||""),middleName:String(F||""),nickName:String(_||""),gender:String(H||""),birthday:K?new Date(K).toISOString().slice(0,10):"",street:String(A||""),brgy:X,municipality:String($||""),email:String(V||""),mobile:String(J||""),validId:String(q||""),student:te}),N.current=!0},[e,n]);const z=I=>{const{name:L,value:E,type:U,checked:F}=I.target;if(L==="student-select"){s(_=>({..._,student:String(E)==="Yes"}));return}if(L==="municipality"){s(_=>({..._,municipality:E,brgy:""}));return}s(_=>({..._,[L]:U==="checkbox"?F:E}))},O=I=>{try{const L=lx(I);x.current&&(URL.revokeObjectURL(x.current),x.current=null);const E=URL.createObjectURL(L);x.current=E,w(L),f(E)}catch{}};S.useEffect(()=>()=>{x.current&&(URL.revokeObjectURL(x.current),x.current=null)},[]);const T=(I,L)=>{if(!I||!L)return!1;const E=U=>String(U??"").trim();return E(I.LastName)===E(L.LastName)&&E(I.FirstName)===E(L.FirstName)&&E(I.MiddleName)===E(L.MiddleName)&&E(I.Gender)===E(L.Gender)&&E(I.Birthday)===E(L.Birthday)&&E(I.Street)===E(L.Street)&&E(I.Brgy)===E(L.Brgy)&&E(I.Municipality)===E(L.Municipality)&&E(I.Email)===E(L.Email)&&E(I.Mobile)===E(L.Mobile)&&E(I.ValidID)===E(L.ValidID)&&E(I.Student)===E(L.Student)},R=async I=>{var L;if((L=I==null?void 0:I.preventDefault)==null||L.call(I),!o){p("Missing MemberID");return}C(!0),p("");try{let E=a||"";if(m){const _=await Zi(m,String(o).toLowerCase());E=typeof _=="string"?_:(_==null?void 0:_.url)||E}const U={MemberID:o,LastName:i.lastName.trim(),FirstName:i.firstName.trim(),MiddleName:i.middleName.trim(),NickName:String(i.nickName||"").trim().toUpperCase(),Gender:i.gender,Birthday:i.birthday||"",Street:i.street.trim(),Brgy:i.brgy.trim(),Municipality:i.municipality.trim(),Email:i.email.trim(),Mobile:i.mobile.trim(),ValidID:i.validId.trim(),Student:i.student?"Yes":"No",PhotoURL:E},F=await Dl(U);if(!(F!=null&&F.ok)){try{const _=await Ll(String(o).trim());if(_&&T(U,_)){v("Member updated successfully"),setTimeout(()=>{r==null||r(),t==null||t(),v("")},800);return}}catch{}throw new Error((F==null?void 0:F.error)||"Update failed")}v("Member updated successfully"),setTimeout(()=>{r==null||r(),t==null||t(),v("")},800)}catch(E){p(E.message||"Failed to update member")}finally{C(!1)}};return e?l.jsx("div",{style:{position:"fixed",inset:0,background:"rgba(0,0,0,.45)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:9999},children:l.jsxs("form",{onSubmit:R,style:{width:"min(1000px, 96vw)",maxHeight:"90vh",overflow:"auto",background:"#fff",borderRadius:14,padding:16,border:"1px solid var(--light-border)",boxShadow:"0 20px 60px rgba(0,0,0,.2)"},children:[l.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",marginBottom:10},children:[l.jsx("div",{style:{fontWeight:800,fontSize:18},children:i.nickName||"Edit Member"}),l.jsx("button",{type:"button",className:"button",onClick:t,style:{background:"#eee",color:"#333"},children:""})]}),g&&l.jsx("div",{className:"small-error",style:{marginBottom:8},children:g}),k&&l.jsx("div",{style:{position:"fixed",top:20,right:20,background:"#16a34a",color:"#fff",padding:"8px 12px",borderRadius:10,boxShadow:"0 6px 16px rgba(0,0,0,.15)",zIndex:1e4},children:k}),l.jsxs("div",{style:{display:"grid",gridTemplateColumns:"240px 1fr",gap:16},children:[l.jsxs("div",{children:[l.jsx("div",{style:{width:240,height:240,border:"1px solid var(--light-border)",borderRadius:12,background:"#fafbff",overflow:"hidden",display:"flex",alignItems:"center",justifyContent:"center"},children:d?l.jsx("img",{src:d,alt:"preview",style:{width:"100%",height:"100%",objectFit:"cover"}}):l.jsx("div",{style:{color:"var(--muted)"},children:"No photo"})}),l.jsx("div",{style:{display:"flex",gap:8,marginTop:10},children:l.jsx("button",{type:"button",className:"button",onClick:()=>b(!0),disabled:y,style:{flex:"1 1 auto"},children:" Change Photo"})})]}),l.jsxs("div",{style:{display:"grid",gap:12},children:[l.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 160px",gap:12,alignItems:"end"},children:[l.jsxs("label",{className:"field",style:{margin:0},children:[l.jsx("span",{className:"label",children:"Valid ID *"}),l.jsx("input",{name:"validId",value:i.validId,onChange:z,required:!0})]}),l.jsxs("label",{className:"field",style:{margin:0},children:[l.jsx("span",{className:"label",children:"Student"}),l.jsxs("select",{name:"student-select",value:i.student?"Yes":"No",onChange:z,children:[l.jsx("option",{children:"Yes"}),l.jsx("option",{children:"No"})]})]})]}),l.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr 1fr",gap:12},children:[l.jsxs("label",{className:"field",children:[l.jsx("span",{className:"label",children:"Last Name *"}),l.jsx("input",{name:"lastName",value:i.lastName,onChange:z,required:!0})]}),l.jsxs("label",{className:"field",children:[l.jsx("span",{className:"label",children:"First Name *"}),l.jsx("input",{name:"firstName",value:i.firstName,onChange:z,required:!0})]}),l.jsxs("label",{className:"field",children:[l.jsx("span",{className:"label",children:"Middle Name"}),l.jsx("input",{name:"middleName",value:i.middleName,onChange:z})]})]}),l.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:12},children:[l.jsxs("label",{className:"field",children:[l.jsx("span",{className:"label",children:"Birthday *"}),l.jsx("input",{type:"date",name:"birthday",value:i.birthday,onChange:z,required:!0})]}),l.jsxs("label",{className:"field",children:[l.jsx("span",{className:"label",children:"Gender *"}),l.jsxs("select",{name:"gender",value:i.gender,onChange:z,required:!0,children:[l.jsx("option",{value:"",children:" Select "}),l.jsx("option",{children:"Male"}),l.jsx("option",{children:"Female"})]})]})]}),l.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:12},children:[l.jsxs("label",{className:"field",children:[l.jsx("span",{className:"label",children:"Mobile No. *"}),l.jsx("input",{name:"mobile",value:i.mobile,onChange:z,placeholder:"09XXXXXXXXX",required:!0})]}),l.jsxs("label",{className:"field",children:[l.jsx("span",{className:"label",children:"Email Address"}),l.jsx("input",{name:"email",value:i.email,onChange:z,placeholder:"name@example.com"})]})]}),l.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr 2fr",gap:12},children:[l.jsxs("label",{className:"field",children:[l.jsx("span",{className:"label",children:"Municipality / City"}),l.jsxs("select",{name:"municipality",value:i.municipality,onChange:z,children:[l.jsx("option",{value:""}),nx.map(I=>l.jsx("option",{value:I,children:I},I))]})]}),l.jsxs("label",{className:"field",children:[l.jsx("span",{className:"label",children:"Brgy."}),l.jsxs("select",{name:"brgy",value:i.brgy,onChange:z,disabled:!i.municipality,children:[l.jsx("option",{value:""}),j.map(I=>l.jsx("option",{value:I,children:I},I))]})]}),l.jsxs("label",{className:"field",children:[l.jsx("span",{className:"label",children:"House No. / Street Name / Sitio"}),l.jsx("input",{name:"street",value:i.street,onChange:z})]})]})]})]}),l.jsxs("div",{style:{marginTop:12,display:"flex",gap:10,justifyContent:"flex-end"},children:[l.jsx("button",{type:"button",className:"back-btn",onClick:t,style:{background:"#e5e7eb",color:"#111",fontWeight:700},children:"Cancel"}),l.jsx("button",{type:"submit",className:"primary-btn",disabled:y,children:" Save Changes"})]}),l.jsx(Ph,{open:h,onClose:()=>b(!1),onCapture:O})]})}):null}var ax=Object.defineProperty,ul=Object.getOwnPropertySymbols,Dh=Object.prototype.hasOwnProperty,Lh=Object.prototype.propertyIsEnumerable,bd=(e,t,n)=>t in e?ax(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Da=(e,t)=>{for(var n in t||(t={}))Dh.call(t,n)&&bd(e,n,t[n]);if(ul)for(var n of ul(t))Lh.call(t,n)&&bd(e,n,t[n]);return e},La=(e,t)=>{var n={};for(var r in e)Dh.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&ul)for(var r of ul(e))t.indexOf(r)<0&&Lh.call(e,r)&&(n[r]=e[r]);return n};/**
 * @license QR Code generator library (TypeScript)
 * Copyright (c) Project Nayuki.
 * SPDX-License-Identifier: MIT
 */var or;(e=>{const t=class de{constructor(a,c,d,f){if(this.version=a,this.errorCorrectionLevel=c,this.modules=[],this.isFunction=[],a<de.MIN_VERSION||a>de.MAX_VERSION)throw new RangeError("Version value out of range");if(f<-1||f>7)throw new RangeError("Mask value out of range");this.size=a*4+17;let m=[];for(let x=0;x<this.size;x++)m.push(!1);for(let x=0;x<this.size;x++)this.modules.push(m.slice()),this.isFunction.push(m.slice());this.drawFunctionPatterns();const w=this.addEccAndInterleave(d);if(this.drawCodewords(w),f==-1){let x=1e9;for(let y=0;y<8;y++){this.applyMask(y),this.drawFormatBits(y);const C=this.getPenaltyScore();C<x&&(f=y,x=C),this.applyMask(y)}}i(0<=f&&f<=7),this.mask=f,this.applyMask(f),this.drawFormatBits(f),this.isFunction=[]}static encodeText(a,c){const d=e.QrSegment.makeSegments(a);return de.encodeSegments(d,c)}static encodeBinary(a,c){const d=e.QrSegment.makeBytes(a);return de.encodeSegments([d],c)}static encodeSegments(a,c,d=1,f=40,m=-1,w=!0){if(!(de.MIN_VERSION<=d&&d<=f&&f<=de.MAX_VERSION)||m<-1||m>7)throw new RangeError("Invalid value");let x,y;for(x=d;;x++){const h=de.getNumDataCodewords(x,c)*8,b=o.getTotalBits(a,x);if(b<=h){y=b;break}if(x>=f)throw new RangeError("Data too long")}for(const h of[de.Ecc.MEDIUM,de.Ecc.QUARTILE,de.Ecc.HIGH])w&&y<=de.getNumDataCodewords(x,h)*8&&(c=h);let C=[];for(const h of a){n(h.mode.modeBits,4,C),n(h.numChars,h.mode.numCharCountBits(x),C);for(const b of h.getData())C.push(b)}i(C.length==y);const g=de.getNumDataCodewords(x,c)*8;i(C.length<=g),n(0,Math.min(4,g-C.length),C),n(0,(8-C.length%8)%8,C),i(C.length%8==0);for(let h=236;C.length<g;h^=253)n(h,8,C);let p=[];for(;p.length*8<C.length;)p.push(0);return C.forEach((h,b)=>p[b>>>3]|=h<<7-(b&7)),new de(x,c,p,m)}getModule(a,c){return 0<=a&&a<this.size&&0<=c&&c<this.size&&this.modules[c][a]}getModules(){return this.modules}drawFunctionPatterns(){for(let d=0;d<this.size;d++)this.setFunctionModule(6,d,d%2==0),this.setFunctionModule(d,6,d%2==0);this.drawFinderPattern(3,3),this.drawFinderPattern(this.size-4,3),this.drawFinderPattern(3,this.size-4);const a=this.getAlignmentPatternPositions(),c=a.length;for(let d=0;d<c;d++)for(let f=0;f<c;f++)d==0&&f==0||d==0&&f==c-1||d==c-1&&f==0||this.drawAlignmentPattern(a[d],a[f]);this.drawFormatBits(0),this.drawVersion()}drawFormatBits(a){const c=this.errorCorrectionLevel.formatBits<<3|a;let d=c;for(let m=0;m<10;m++)d=d<<1^(d>>>9)*1335;const f=(c<<10|d)^21522;i(f>>>15==0);for(let m=0;m<=5;m++)this.setFunctionModule(8,m,r(f,m));this.setFunctionModule(8,7,r(f,6)),this.setFunctionModule(8,8,r(f,7)),this.setFunctionModule(7,8,r(f,8));for(let m=9;m<15;m++)this.setFunctionModule(14-m,8,r(f,m));for(let m=0;m<8;m++)this.setFunctionModule(this.size-1-m,8,r(f,m));for(let m=8;m<15;m++)this.setFunctionModule(8,this.size-15+m,r(f,m));this.setFunctionModule(8,this.size-8,!0)}drawVersion(){if(this.version<7)return;let a=this.version;for(let d=0;d<12;d++)a=a<<1^(a>>>11)*7973;const c=this.version<<12|a;i(c>>>18==0);for(let d=0;d<18;d++){const f=r(c,d),m=this.size-11+d%3,w=Math.floor(d/3);this.setFunctionModule(m,w,f),this.setFunctionModule(w,m,f)}}drawFinderPattern(a,c){for(let d=-4;d<=4;d++)for(let f=-4;f<=4;f++){const m=Math.max(Math.abs(f),Math.abs(d)),w=a+f,x=c+d;0<=w&&w<this.size&&0<=x&&x<this.size&&this.setFunctionModule(w,x,m!=2&&m!=4)}}drawAlignmentPattern(a,c){for(let d=-2;d<=2;d++)for(let f=-2;f<=2;f++)this.setFunctionModule(a+f,c+d,Math.max(Math.abs(f),Math.abs(d))!=1)}setFunctionModule(a,c,d){this.modules[c][a]=d,this.isFunction[c][a]=!0}addEccAndInterleave(a){const c=this.version,d=this.errorCorrectionLevel;if(a.length!=de.getNumDataCodewords(c,d))throw new RangeError("Invalid argument");const f=de.NUM_ERROR_CORRECTION_BLOCKS[d.ordinal][c],m=de.ECC_CODEWORDS_PER_BLOCK[d.ordinal][c],w=Math.floor(de.getNumRawDataModules(c)/8),x=f-w%f,y=Math.floor(w/f);let C=[];const g=de.reedSolomonComputeDivisor(m);for(let h=0,b=0;h<f;h++){let k=a.slice(b,b+y-m+(h<x?0:1));b+=k.length;const v=de.reedSolomonComputeRemainder(k,g);h<x&&k.push(0),C.push(k.concat(v))}let p=[];for(let h=0;h<C[0].length;h++)C.forEach((b,k)=>{(h!=y-m||k>=x)&&p.push(b[h])});return i(p.length==w),p}drawCodewords(a){if(a.length!=Math.floor(de.getNumRawDataModules(this.version)/8))throw new RangeError("Invalid argument");let c=0;for(let d=this.size-1;d>=1;d-=2){d==6&&(d=5);for(let f=0;f<this.size;f++)for(let m=0;m<2;m++){const w=d-m,y=(d+1&2)==0?this.size-1-f:f;!this.isFunction[y][w]&&c<a.length*8&&(this.modules[y][w]=r(a[c>>>3],7-(c&7)),c++)}}i(c==a.length*8)}applyMask(a){if(a<0||a>7)throw new RangeError("Mask value out of range");for(let c=0;c<this.size;c++)for(let d=0;d<this.size;d++){let f;switch(a){case 0:f=(d+c)%2==0;break;case 1:f=c%2==0;break;case 2:f=d%3==0;break;case 3:f=(d+c)%3==0;break;case 4:f=(Math.floor(d/3)+Math.floor(c/2))%2==0;break;case 5:f=d*c%2+d*c%3==0;break;case 6:f=(d*c%2+d*c%3)%2==0;break;case 7:f=((d+c)%2+d*c%3)%2==0;break;default:throw new Error("Unreachable")}!this.isFunction[c][d]&&f&&(this.modules[c][d]=!this.modules[c][d])}}getPenaltyScore(){let a=0;for(let m=0;m<this.size;m++){let w=!1,x=0,y=[0,0,0,0,0,0,0];for(let C=0;C<this.size;C++)this.modules[m][C]==w?(x++,x==5?a+=de.PENALTY_N1:x>5&&a++):(this.finderPenaltyAddHistory(x,y),w||(a+=this.finderPenaltyCountPatterns(y)*de.PENALTY_N3),w=this.modules[m][C],x=1);a+=this.finderPenaltyTerminateAndCount(w,x,y)*de.PENALTY_N3}for(let m=0;m<this.size;m++){let w=!1,x=0,y=[0,0,0,0,0,0,0];for(let C=0;C<this.size;C++)this.modules[C][m]==w?(x++,x==5?a+=de.PENALTY_N1:x>5&&a++):(this.finderPenaltyAddHistory(x,y),w||(a+=this.finderPenaltyCountPatterns(y)*de.PENALTY_N3),w=this.modules[C][m],x=1);a+=this.finderPenaltyTerminateAndCount(w,x,y)*de.PENALTY_N3}for(let m=0;m<this.size-1;m++)for(let w=0;w<this.size-1;w++){const x=this.modules[m][w];x==this.modules[m][w+1]&&x==this.modules[m+1][w]&&x==this.modules[m+1][w+1]&&(a+=de.PENALTY_N2)}let c=0;for(const m of this.modules)c=m.reduce((w,x)=>w+(x?1:0),c);const d=this.size*this.size,f=Math.ceil(Math.abs(c*20-d*10)/d)-1;return i(0<=f&&f<=9),a+=f*de.PENALTY_N4,i(0<=a&&a<=2568888),a}getAlignmentPatternPositions(){if(this.version==1)return[];{const a=Math.floor(this.version/7)+2,c=this.version==32?26:Math.ceil((this.version*4+4)/(a*2-2))*2;let d=[6];for(let f=this.size-7;d.length<a;f-=c)d.splice(1,0,f);return d}}static getNumRawDataModules(a){if(a<de.MIN_VERSION||a>de.MAX_VERSION)throw new RangeError("Version number out of range");let c=(16*a+128)*a+64;if(a>=2){const d=Math.floor(a/7)+2;c-=(25*d-10)*d-55,a>=7&&(c-=36)}return i(208<=c&&c<=29648),c}static getNumDataCodewords(a,c){return Math.floor(de.getNumRawDataModules(a)/8)-de.ECC_CODEWORDS_PER_BLOCK[c.ordinal][a]*de.NUM_ERROR_CORRECTION_BLOCKS[c.ordinal][a]}static reedSolomonComputeDivisor(a){if(a<1||a>255)throw new RangeError("Degree out of range");let c=[];for(let f=0;f<a-1;f++)c.push(0);c.push(1);let d=1;for(let f=0;f<a;f++){for(let m=0;m<c.length;m++)c[m]=de.reedSolomonMultiply(c[m],d),m+1<c.length&&(c[m]^=c[m+1]);d=de.reedSolomonMultiply(d,2)}return c}static reedSolomonComputeRemainder(a,c){let d=c.map(f=>0);for(const f of a){const m=f^d.shift();d.push(0),c.forEach((w,x)=>d[x]^=de.reedSolomonMultiply(w,m))}return d}static reedSolomonMultiply(a,c){if(a>>>8||c>>>8)throw new RangeError("Byte out of range");let d=0;for(let f=7;f>=0;f--)d=d<<1^(d>>>7)*285,d^=(c>>>f&1)*a;return i(d>>>8==0),d}finderPenaltyCountPatterns(a){const c=a[1];i(c<=this.size*3);const d=c>0&&a[2]==c&&a[3]==c*3&&a[4]==c&&a[5]==c;return(d&&a[0]>=c*4&&a[6]>=c?1:0)+(d&&a[6]>=c*4&&a[0]>=c?1:0)}finderPenaltyTerminateAndCount(a,c,d){return a&&(this.finderPenaltyAddHistory(c,d),c=0),c+=this.size,this.finderPenaltyAddHistory(c,d),this.finderPenaltyCountPatterns(d)}finderPenaltyAddHistory(a,c){c[0]==0&&(a+=this.size),c.pop(),c.unshift(a)}};t.MIN_VERSION=1,t.MAX_VERSION=40,t.PENALTY_N1=3,t.PENALTY_N2=3,t.PENALTY_N3=40,t.PENALTY_N4=10,t.ECC_CODEWORDS_PER_BLOCK=[[-1,7,10,15,20,26,18,20,24,30,18,20,24,26,30,22,24,28,30,28,28,28,28,30,30,26,28,30,30,30,30,30,30,30,30,30,30,30,30,30,30],[-1,10,16,26,18,24,16,18,22,22,26,30,22,22,24,24,28,28,26,26,26,26,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28],[-1,13,22,18,26,18,24,18,22,20,24,28,26,24,20,30,24,28,28,26,30,28,30,30,30,30,28,30,30,30,30,30,30,30,30,30,30,30,30,30,30],[-1,17,28,22,16,22,28,26,26,24,28,24,28,22,24,24,30,28,28,26,28,30,24,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30]],t.NUM_ERROR_CORRECTION_BLOCKS=[[-1,1,1,1,1,1,2,2,2,2,4,4,4,4,4,6,6,6,6,7,8,8,9,9,10,12,12,12,13,14,15,16,17,18,19,19,20,21,22,24,25],[-1,1,1,1,2,2,4,4,4,5,5,5,8,9,9,10,10,11,13,14,16,17,17,18,20,21,23,25,26,28,29,31,33,35,37,38,40,43,45,47,49],[-1,1,1,2,2,4,4,6,6,8,8,8,10,12,16,12,17,16,18,21,20,23,23,25,27,29,34,34,35,38,40,43,45,48,51,53,56,59,62,65,68],[-1,1,1,2,4,4,4,5,6,8,8,11,11,16,16,18,16,19,21,25,25,25,34,30,32,35,37,40,42,45,48,51,54,57,60,63,66,70,74,77,81]],e.QrCode=t;function n(u,a,c){if(a<0||a>31||u>>>a)throw new RangeError("Value out of range");for(let d=a-1;d>=0;d--)c.push(u>>>d&1)}function r(u,a){return(u>>>a&1)!=0}function i(u){if(!u)throw new Error("Assertion error")}const s=class De{constructor(a,c,d){if(this.mode=a,this.numChars=c,this.bitData=d,c<0)throw new RangeError("Invalid argument");this.bitData=d.slice()}static makeBytes(a){let c=[];for(const d of a)n(d,8,c);return new De(De.Mode.BYTE,a.length,c)}static makeNumeric(a){if(!De.isNumeric(a))throw new RangeError("String contains non-numeric characters");let c=[];for(let d=0;d<a.length;){const f=Math.min(a.length-d,3);n(parseInt(a.substring(d,d+f),10),f*3+1,c),d+=f}return new De(De.Mode.NUMERIC,a.length,c)}static makeAlphanumeric(a){if(!De.isAlphanumeric(a))throw new RangeError("String contains unencodable characters in alphanumeric mode");let c=[],d;for(d=0;d+2<=a.length;d+=2){let f=De.ALPHANUMERIC_CHARSET.indexOf(a.charAt(d))*45;f+=De.ALPHANUMERIC_CHARSET.indexOf(a.charAt(d+1)),n(f,11,c)}return d<a.length&&n(De.ALPHANUMERIC_CHARSET.indexOf(a.charAt(d)),6,c),new De(De.Mode.ALPHANUMERIC,a.length,c)}static makeSegments(a){return a==""?[]:De.isNumeric(a)?[De.makeNumeric(a)]:De.isAlphanumeric(a)?[De.makeAlphanumeric(a)]:[De.makeBytes(De.toUtf8ByteArray(a))]}static makeEci(a){let c=[];if(a<0)throw new RangeError("ECI assignment value out of range");if(a<128)n(a,8,c);else if(a<16384)n(2,2,c),n(a,14,c);else if(a<1e6)n(6,3,c),n(a,21,c);else throw new RangeError("ECI assignment value out of range");return new De(De.Mode.ECI,0,c)}static isNumeric(a){return De.NUMERIC_REGEX.test(a)}static isAlphanumeric(a){return De.ALPHANUMERIC_REGEX.test(a)}getData(){return this.bitData.slice()}static getTotalBits(a,c){let d=0;for(const f of a){const m=f.mode.numCharCountBits(c);if(f.numChars>=1<<m)return 1/0;d+=4+m+f.bitData.length}return d}static toUtf8ByteArray(a){a=encodeURI(a);let c=[];for(let d=0;d<a.length;d++)a.charAt(d)!="%"?c.push(a.charCodeAt(d)):(c.push(parseInt(a.substring(d+1,d+3),16)),d+=2);return c}};s.NUMERIC_REGEX=/^[0-9]*$/,s.ALPHANUMERIC_REGEX=/^[A-Z0-9 $%*+.\/:-]*$/,s.ALPHANUMERIC_CHARSET="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ $%*+-./:";let o=s;e.QrSegment=s})(or||(or={}));(e=>{(t=>{const n=class{constructor(i,s){this.ordinal=i,this.formatBits=s}};n.LOW=new n(0,1),n.MEDIUM=new n(1,0),n.QUARTILE=new n(2,3),n.HIGH=new n(3,2),t.Ecc=n})(e.QrCode||(e.QrCode={}))})(or||(or={}));(e=>{(t=>{const n=class{constructor(i,s){this.modeBits=i,this.numBitsCharCount=s}numCharCountBits(i){return this.numBitsCharCount[Math.floor((i+7)/17)]}};n.NUMERIC=new n(1,[10,12,14]),n.ALPHANUMERIC=new n(2,[9,11,13]),n.BYTE=new n(4,[8,16,16]),n.KANJI=new n(8,[8,10,12]),n.ECI=new n(7,[0,0,0]),t.Mode=n})(e.QrSegment||(e.QrSegment={}))})(or||(or={}));var Er=or;/**
 * @license qrcode.react
 * Copyright (c) Paul O'Shannessy
 * SPDX-License-Identifier: ISC
 */var cx={L:Er.QrCode.Ecc.LOW,M:Er.QrCode.Ecc.MEDIUM,Q:Er.QrCode.Ecc.QUARTILE,H:Er.QrCode.Ecc.HIGH},Rh=128,Oh="L",Ah="#FFFFFF",Fh="#000000",zh=!1,Uh=1,ux=4,dx=0,fx=.1;function $h(e,t=0){const n=[];return e.forEach(function(r,i){let s=null;r.forEach(function(o,u){if(!o&&s!==null){n.push(`M${s+t} ${i+t}h${u-s}v1H${s+t}z`),s=null;return}if(u===r.length-1){if(!o)return;s===null?n.push(`M${u+t},${i+t} h1v1H${u+t}z`):n.push(`M${s+t},${i+t} h${u+1-s}v1H${s+t}z`);return}o&&s===null&&(s=u)})}),n.join("")}function Bh(e,t){return e.slice().map((n,r)=>r<t.y||r>=t.y+t.h?n:n.map((i,s)=>s<t.x||s>=t.x+t.w?i:!1))}function mx(e,t,n,r){if(r==null)return null;const i=e.length+n*2,s=Math.floor(t*fx),o=i/t,u=(r.width||s)*o,a=(r.height||s)*o,c=r.x==null?e.length/2-u/2:r.x*o,d=r.y==null?e.length/2-a/2:r.y*o,f=r.opacity==null?1:r.opacity;let m=null;if(r.excavate){let x=Math.floor(c),y=Math.floor(d),C=Math.ceil(u+c-x),g=Math.ceil(a+d-y);m={x,y,w:C,h:g}}const w=r.crossOrigin;return{x:c,y:d,h:a,w:u,excavation:m,opacity:f,crossOrigin:w}}function hx(e,t){return t!=null?Math.max(Math.floor(t),0):e?ux:dx}function Vh({value:e,level:t,minVersion:n,includeMargin:r,marginSize:i,imageSettings:s,size:o,boostLevel:u}){let a=Se.useMemo(()=>{const x=(Array.isArray(e)?e:[e]).reduce((y,C)=>(y.push(...Er.QrSegment.makeSegments(C)),y),[]);return Er.QrCode.encodeSegments(x,cx[t],n,void 0,void 0,u)},[e,t,n,u]);const{cells:c,margin:d,numCells:f,calculatedImageSettings:m}=Se.useMemo(()=>{let w=a.getModules();const x=hx(r,i),y=w.length+x*2,C=mx(w,o,x,s);return{cells:w,margin:x,numCells:y,calculatedImageSettings:C}},[a,o,s,r,i]);return{qrcode:a,margin:d,cells:c,numCells:f,calculatedImageSettings:m}}var px=function(){try{new Path2D().addPath(new Path2D)}catch{return!1}return!0}(),gx=Se.forwardRef(function(t,n){const r=t,{value:i,size:s=Rh,level:o=Oh,bgColor:u=Ah,fgColor:a=Fh,includeMargin:c=zh,minVersion:d=Uh,boostLevel:f,marginSize:m,imageSettings:w}=r,y=La(r,["value","size","level","bgColor","fgColor","includeMargin","minVersion","boostLevel","marginSize","imageSettings"]),{style:C}=y,g=La(y,["style"]),p=w==null?void 0:w.src,h=Se.useRef(null),b=Se.useRef(null),k=Se.useCallback(T=>{h.current=T,typeof n=="function"?n(T):n&&(n.current=T)},[n]),[v,N]=Se.useState(!1),{margin:j,cells:P,numCells:M,calculatedImageSettings:D}=Vh({value:i,level:o,minVersion:d,boostLevel:f,includeMargin:c,marginSize:m,imageSettings:w,size:s});Se.useEffect(()=>{if(h.current!=null){const T=h.current,R=T.getContext("2d");if(!R)return;let I=P;const L=b.current,E=D!=null&&L!==null&&L.complete&&L.naturalHeight!==0&&L.naturalWidth!==0;E&&D.excavation!=null&&(I=Bh(P,D.excavation));const U=window.devicePixelRatio||1;T.height=T.width=s*U;const F=s/M*U;R.scale(F,F),R.fillStyle=u,R.fillRect(0,0,M,M),R.fillStyle=a,px?R.fill(new Path2D($h(I,j))):P.forEach(function(_,H){_.forEach(function(K,A){K&&R.fillRect(A+j,H+j,1,1)})}),D&&(R.globalAlpha=D.opacity),E&&R.drawImage(L,D.x+j,D.y+j,D.w,D.h)}}),Se.useEffect(()=>{N(!1)},[p]);const z=Da({height:s,width:s},C);let O=null;return p!=null&&(O=Se.createElement("img",{src:p,key:p,style:{display:"none"},onLoad:()=>{N(!0)},ref:b,crossOrigin:D==null?void 0:D.crossOrigin})),Se.createElement(Se.Fragment,null,Se.createElement("canvas",Da({style:z,height:s,width:s,ref:k,role:"img"},g)),O)});gx.displayName="QRCodeCanvas";var Wh=Se.forwardRef(function(t,n){const r=t,{value:i,size:s=Rh,level:o=Oh,bgColor:u=Ah,fgColor:a=Fh,includeMargin:c=zh,minVersion:d=Uh,boostLevel:f,title:m,marginSize:w,imageSettings:x}=r,y=La(r,["value","size","level","bgColor","fgColor","includeMargin","minVersion","boostLevel","title","marginSize","imageSettings"]),{margin:C,cells:g,numCells:p,calculatedImageSettings:h}=Vh({value:i,level:o,minVersion:d,boostLevel:f,includeMargin:c,marginSize:w,imageSettings:x,size:s});let b=g,k=null;x!=null&&h!=null&&(h.excavation!=null&&(b=Bh(g,h.excavation)),k=Se.createElement("image",{href:x.src,height:h.h,width:h.w,x:h.x+C,y:h.y+C,preserveAspectRatio:"none",opacity:h.opacity,crossOrigin:h.crossOrigin}));const v=$h(b,C);return Se.createElement("svg",Da({height:s,width:s,viewBox:`0 0 ${p} ${p}`,ref:n,role:"img"},y),!!m&&Se.createElement("title",null,m),Se.createElement("path",{fill:u,d:`M0,0 h${p}v${p}H0z`,shapeRendering:"crispEdges"}),Se.createElement("path",{fill:a,d:v,shapeRendering:"crispEdges"}),k)});Wh.displayName="QRCodeSVG";function yx({open:e,onClose:t,memberId:n="",nickname:r="",firstName:i="",lastName:s=""}){if(S.useEffect(()=>{if(!e)return;function a(c){c.key==="Escape"&&t&&t()}return window.addEventListener("keydown",a),()=>window.removeEventListener("keydown",a)},[e,t]),!e)return null;const o=r||i||s||"Member",u=String(n||o);return l.jsx("div",{style:{position:"fixed",inset:0,background:"rgba(0,0,0,.45)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:9999},onClick:()=>t&&t(),children:l.jsxs("div",{onClick:a=>a.stopPropagation(),style:{width:"min(420px, 92vw)",background:"#fff",borderRadius:14,padding:16,border:"1px solid var(--light-border)",boxShadow:"0 20px 60px rgba(0,0,0,.2)"},children:[l.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:12},children:[l.jsx("div",{style:{fontWeight:800,fontSize:16}}),l.jsx("button",{type:"button",className:"button",onClick:t,style:{background:"#eee",color:"#333"},children:""})]}),l.jsx("div",{style:{display:"flex",justifyContent:"center"},children:l.jsx("div",{style:{width:300,maxWidth:"78vw",aspectRatio:"1 / 1",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center"},children:l.jsxs("div",{style:{width:"100%",height:"100%",borderRadius:10,border:"6px solid var(--kusgan-magenta, #c51c8a)",boxSizing:"border-box",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",position:"relative",background:"#fff"},children:[l.jsx("div",{style:{position:"absolute",top:10,left:"50%",transform:"translateX(-50%)",fontSize:16,color:"var(--kusgan-magenta, #c51c8a)",fontWeight:700},children:"kusgan"}),l.jsx("div",{style:{width:"72%",height:"72%",display:"flex",alignItems:"center",justifyContent:"center"},children:l.jsx(Wh,{value:u,size:Math.min(500,Math.floor(window.innerWidth*1))})}),l.jsx("div",{style:{position:"absolute",bottom:10,left:"50%",transform:"translateX(-50%)",fontSize:16,color:"#333",fontWeight:600},children:o})]})})})]})})}const Hh="Asia/Manila",vx=()=>new Intl.DateTimeFormat("en-CA",{timeZone:Hh,year:"numeric",month:"2-digit",day:"2-digit"}).format(new Date),xx=e=>{var o,u,a;if(!e)return"-";let t;if(typeof e=="string"&&/^\d{4}-\d{2}-\d{2}$/.test(e)){const[c,d,f]=e.split("-").map(Number);t=new Date(Date.UTC(c,d-1,f))}else t=e instanceof Date?e:new Date(e);if(isNaN(t))return"-";const n=new Intl.DateTimeFormat("en-US",{timeZone:Hh,month:"short",day:"numeric",year:"numeric"}).formatToParts(t),r=((o=n.find(c=>c.type==="month"))==null?void 0:o.value)||"",i=((u=n.find(c=>c.type==="day"))==null?void 0:u.value)||"",s=((a=n.find(c=>c.type==="year"))==null?void 0:a.value)||"";return`${r}-${i}, ${s}`};function Sx(e,t){if(!e||!t)return 1;const[n,r,i]=e.split("-").map(Number),[s,o,u]=t.split("-").map(Number),a=Date.UTC(n,r-1,i),c=Date.UTC(s,o-1,u),d=Math.floor((c-a)/864e5);return Math.max(1,d+1)}function wx(e,t=`photo-${Date.now()}.jpg`){var n;try{const r=e.split(","),i=((n=r[0].match(/:(.*?);/))==null?void 0:n[1])||"image/jpeg",s=atob(r[1]);let o=s.length;const u=new Uint8Array(o);for(;o--;)u[o]=s.charCodeAt(o);return new File([u],t,{type:i})}catch{return null}}function jx({open:e,onClose:t,memberId:n,memberSinceYMD:r,onSaved:i}){const s=vx(),o=S.useMemo(()=>Sx(r,s),[r,s]),[u,a]=S.useState(""),[c,d]=S.useState(""),[f,m]=S.useState(""),[w,x]=S.useState(""),[y,C]=S.useState(""),[g,p]=S.useState(""),[h,b]=S.useState(""),[k,v]=S.useState(""),[N,j]=S.useState(""),[P,M]=S.useState(""),[D,z]=S.useState(""),[O,T]=S.useState(""),[R,I]=S.useState(""),[L,E]=S.useState(""),[U,F]=S.useState(""),[_,H]=S.useState(""),[K,A]=S.useState([]),[W,$]=S.useState(!1),[V,J]=S.useState(-1),q=S.useMemo(()=>{const B=Number(u)||0,Q=(Number(c)||0)/100;return!B||!Q?0:Math.round(B/(Q*Q)*10)/10},[u,c]),te=S.useMemo(()=>Math.round((Number(u)||0)*2.20462262185*10)/10,[u]),re=S.useMemo(()=>Math.round((Number(c)||0)/2.54*10)/10,[c]);S.useEffect(()=>{e&&(a(""),d(""),m(""),x(""),C(""),p(""),b(""),v(""),j(""),M(""),z(""),T(""),I(""),E(""),F(""),H(""),A([]),J(-1))},[e]);const pe=async B=>{try{const Q=wx(B,`progress-${Date.now()}.jpg`);if(!Q)return;const ie=String(n||"").toLowerCase(),ne=await Zi(Q,ie),se=typeof ne=="string"?ne:(ne==null?void 0:ne.url)||"";A(we=>{const ae=Array.isArray(we)?[...we]:[];for(;ae.length<3;)ae.push("");const at=V>=0&&V<3?V:ae.findIndex(Dt=>!Dt);return at===-1||(ae[at]=se),ae})}finally{$(!1),J(-1)}},X=B=>{A(Q=>{const ie=Array.isArray(Q)?[...Q]:[];if(B<0||B>=3)return ie;if(ie.length<3)for(;ie.length<3;)ie.push("");return ie[B]="",ie})},le=B=>{J(B),$(!0)},oe=async B=>{var ie;if((ie=B==null?void 0:B.preventDefault)==null||ie.call(B),!n)return;const Q={MemberID:n,Date:s,No:`Day ${o}`,"Weight (lbs)":te?String(te):"","Weight(lbs)":te?String(te):"",Weight:te?String(te):"",Weight_lbs:te?String(te):"",BMI:q?String(q):"",MuscleMass:f?String(f):"",BodyFat:w?String(w):"",VisceralFat:y?String(y):"",Photo1URL:K[0]||"",Photo2URL:K[1]||"",Photo3URL:K[2]||"","Height (inches)":re?String(re):"","Height(inches)":re?String(re):"",Height_in:re?String(re):"",Chest:g?String(g):"",Waist:h?String(h):"",Hips:k?String(k):"",Shoulders:N?String(N):"",Arms:P?String(P):"",Forearms:D?String(D):"",Thighs:O?String(O):"",Calves:R?String(R):"",BloodPressure:L,"RestingHeart Rate":U,Comments:_};await Gc(Q),i==null||i(),t==null||t()};return e?l.jsx("div",{style:{position:"fixed",inset:0,background:"rgba(0,0,0,.45)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:9999},children:l.jsxs("form",{onSubmit:oe,style:{width:"min(900px, 96vw)",maxHeight:"92vh",overflow:"auto",background:"#fff",borderRadius:14,padding:16,border:"1px solid var(--light-border)",boxShadow:"0 20px 60px rgba(0,0,0,.2)"},children:[l.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",marginBottom:10},children:[l.jsx("div",{style:{fontWeight:800,fontSize:18},children:"Progress Entry"}),l.jsx("button",{type:"button",className:"button",onClick:t,style:{background:"#eee",color:"#333"},children:""})]}),l.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr 1fr",gap:12,marginBottom:12},children:[l.jsxs("div",{style:{background:"#f9fafb",border:"1px solid #e5e7eb",borderRadius:10,padding:10},children:[l.jsx("div",{style:{fontSize:12,color:"#6b7280",marginBottom:4},children:"Member ID"}),l.jsx("div",{style:{fontWeight:700},children:n})]}),l.jsxs("div",{style:{background:"#f9fafb",border:"1px solid #e5e7eb",borderRadius:10,padding:10},children:[l.jsx("div",{style:{fontSize:12,color:"#6b7280",marginBottom:4},children:"Date"}),l.jsx("div",{style:{fontWeight:700},children:xx(s)})]}),l.jsxs("div",{style:{background:"#f9fafb",border:"1px solid #e5e7eb",borderRadius:10,padding:10},children:[l.jsx("div",{style:{fontSize:12,color:"#6b7280",marginBottom:4},children:"No."}),l.jsx("div",{style:{fontWeight:700},children:`Day ${o}`})]})]}),l.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(3, 1fr)",gap:12},children:[l.jsxs("label",{className:"field",children:[l.jsx("span",{className:"label",children:"Weight (kg)"}),l.jsx("input",{type:"number",step:"0.1",min:"0",value:u,onChange:B=>a(B.target.value)})]}),l.jsxs("label",{className:"field",children:[l.jsx("span",{className:"label",children:"Height (cm)"}),l.jsx("input",{type:"number",step:"0.1",min:"0",value:c,onChange:B=>d(B.target.value)})]}),l.jsxs("div",{className:"field",children:[l.jsx("span",{className:"label",children:"BMI"}),l.jsx("div",{style:{background:"#f9fafb",border:"1px solid #e5e7eb",borderRadius:10,padding:10,fontWeight:700},children:q||"-"})]}),l.jsxs("label",{className:"field",children:[l.jsx("span",{className:"label",children:"Muscle Mass"}),l.jsx("input",{type:"number",step:"0.1",min:"0",value:f,onChange:B=>m(B.target.value)})]}),l.jsxs("label",{className:"field",children:[l.jsx("span",{className:"label",children:"Body Fat (%)"}),l.jsx("input",{type:"number",step:"0.1",min:"0",value:w,onChange:B=>x(B.target.value)})]}),l.jsxs("label",{className:"field",children:[l.jsx("span",{className:"label",children:"Visceral Fat"}),l.jsx("input",{type:"number",step:"0.1",min:"0",value:y,onChange:B=>C(B.target.value)})]}),l.jsxs("label",{className:"field",children:[l.jsx("span",{className:"label",children:"Chest (cm)"}),l.jsx("input",{type:"number",step:"0.1",min:"0",value:g,onChange:B=>p(B.target.value)})]}),l.jsxs("label",{className:"field",children:[l.jsx("span",{className:"label",children:"Waist (cm)"}),l.jsx("input",{type:"number",step:"0.1",min:"0",value:h,onChange:B=>b(B.target.value)})]}),l.jsxs("label",{className:"field",children:[l.jsx("span",{className:"label",children:"Hips (cm)"}),l.jsx("input",{type:"number",step:"0.1",min:"0",value:k,onChange:B=>v(B.target.value)})]}),l.jsxs("label",{className:"field",children:[l.jsx("span",{className:"label",children:"Shoulders (cm)"}),l.jsx("input",{type:"number",step:"0.1",min:"0",value:N,onChange:B=>j(B.target.value)})]}),l.jsxs("label",{className:"field",children:[l.jsx("span",{className:"label",children:"Arms (cm)"}),l.jsx("input",{type:"number",step:"0.1",min:"0",value:P,onChange:B=>M(B.target.value)})]}),l.jsxs("label",{className:"field",children:[l.jsx("span",{className:"label",children:"Forearms (cm)"}),l.jsx("input",{type:"number",step:"0.1",min:"0",value:D,onChange:B=>z(B.target.value)})]}),l.jsxs("label",{className:"field",children:[l.jsx("span",{className:"label",children:"Thighs (cm)"}),l.jsx("input",{type:"number",step:"0.1",min:"0",value:O,onChange:B=>T(B.target.value)})]}),l.jsxs("label",{className:"field",children:[l.jsx("span",{className:"label",children:"Calves (cm)"}),l.jsx("input",{type:"number",step:"0.1",min:"0",value:R,onChange:B=>I(B.target.value)})]}),l.jsxs("label",{className:"field",children:[l.jsx("span",{className:"label",children:"Blood Pressure"}),l.jsx("input",{placeholder:"120/80",value:L,onChange:B=>E(B.target.value)})]}),l.jsxs("label",{className:"field",children:[l.jsx("span",{className:"label",children:"Resting Heart Rate"}),l.jsx("input",{type:"number",step:"1",min:"0",value:U,onChange:B=>F(B.target.value)})]}),l.jsx("div",{})]}),l.jsxs("div",{style:{marginTop:12},children:[l.jsx("div",{className:"label",style:{marginBottom:6},children:"Photos (max 3)"}),l.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(3, 1fr)",gap:12},children:[0,1,2].map(B=>{const Q=K[B]||"";return l.jsxs("div",{style:{position:"relative"},children:[l.jsx("div",{onClick:()=>le(B),style:{position:"relative",width:"100%",height:0,paddingTop:"133.333%",borderRadius:8,border:Q?"1px solid #e5e7eb":"1px dashed #e5e7eb",cursor:"pointer",overflow:"hidden",background:Q?"#fff":"#fafafa"},children:Q?l.jsx("img",{src:Q,alt:`Photo ${B+1}`,style:{position:"absolute",inset:0,width:"100%",height:"100%",objectFit:"cover"}}):l.jsx("div",{style:{position:"absolute",inset:0,display:"flex",alignItems:"center",justifyContent:"center",color:"#999"},children:"Click to add"})}),Q&&l.jsx("button",{type:"button","aria-label":"Remove",onClick:()=>X(B),style:{position:"absolute",top:6,right:6,background:"rgba(0,0,0,.55)",color:"#fff",borderRadius:6,padding:"4px 6px",border:0},children:""})]},B)})})]}),l.jsxs("div",{className:"field",style:{marginTop:12},children:[l.jsx("span",{className:"label",children:"Comments"}),l.jsx("textarea",{rows:4,value:_,onChange:B=>H(B.target.value),style:{width:"100%",borderRadius:8,border:"1px solid #e5e7eb",padding:12,fontFamily:"inherit",resize:"vertical",fontSize:16}})]}),l.jsxs("div",{style:{marginTop:12,display:"flex",gap:10,justifyContent:"flex-end"},children:[l.jsx("button",{type:"button",className:"back-btn",onClick:t,style:{background:"#e5e7eb",color:"#111",fontWeight:700},children:"Cancel"}),l.jsx("button",{type:"submit",className:"primary-btn",children:" Save Progress"})]}),l.jsx(Ph,{open:W,onClose:()=>$(!1),onCapture:pe})]})}):null}const Cx=(e="")=>{const t=String(e||"").match(/(?:\/file\/d\/|[?&]id=|\/uc\?[^#]*id=)([^\/&#?]+)/);return t&&t[1]?t[1]:""},Nx=(e="")=>{const t=String(e||"");if(/googleusercontent\.com\//.test(t))return t;const n=Cx(t);return n?`https://drive.google.com/thumbnail?id=${n}&sz=w1000`:t},Ee=(e,t=[])=>{if(!e)return"";for(const n of t){if(Object.prototype.hasOwnProperty.call(e,n))return e[n];const r=Object.keys(e).find(i=>i.toLowerCase().replace(/\s+/g,"")===n.toLowerCase().replace(/\s+/g,""));if(r)return e[r]}return""};function bx({open:e,onClose:t,row:n}){if(!e)return null;const r=n||{},i=Ee(r,["MemberID","memberid","member_id","id"]),s=Ee(r,["Date","date","recorded","log_date","timestamp"]),o=Ee(r,["No","no","entry_no","seq","number"]),u=Ee(r,["Weight (lbs)","Weight(lbs)","Weight","Weight_lbs","weight","weight_lbs","weight_(lbs)"]),a=Ee(r,["BMI","bmi"]),c=Ee(r,["Height (inches)","Height(inches)","Height_in","height_in","height_inches"]),d=Ee(r,["MuscleMass","muscle_mass","muscle","Muscle"]),f=Ee(r,["BodyFat","body_fat","bf"]),m=Ee(r,["VisceralFat","visceral_fat"]),w=Ee(r,["Chest"]),x=Ee(r,["Waist"]),y=Ee(r,["Hips"]),C=Ee(r,["Shoulders"]),g=Ee(r,["Arms"]),p=Ee(r,["Forearms"]),h=Ee(r,["Thighs"]),b=Ee(r,["Calves"]),k=Ee(r,["BloodPressure","blood_pressure"]),v=Ee(r,["RestingHeart Rate","RestingHeartRate","resting_heart_rate"]),N=Ee(r,["Comments","comments","notes"]),j=Ee(r,["Photo1URL","Photo1","photo1","photo_url","photo"]),P=Ee(r,["Photo2URL","Photo2","photo2"]),M=Ee(r,["Photo3URL","Photo3","photo3"]);return l.jsx("div",{style:{position:"fixed",inset:0,background:"rgba(0,0,0,.45)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:9999},children:l.jsxs("div",{style:{width:"min(900px, 96vw)",maxHeight:"92vh",overflow:"auto",background:"#fff",borderRadius:14,padding:16,border:"1px solid var(--light-border)",boxShadow:"0 20px 60px rgba(0,0,0,.2)"},children:[l.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",marginBottom:10},children:[l.jsx("div",{style:{fontWeight:800,fontSize:18},children:"Progress Details"}),l.jsx("button",{type:"button",className:"button",onClick:t,style:{background:"#eee",color:"#333"},children:""})]}),l.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr 1fr",gap:12,marginBottom:12},children:[l.jsxs("div",{style:{background:"#f9fafb",border:"1px solid #e5e7eb",borderRadius:10,padding:10},children:[l.jsx("span",{style:{fontSize:14,fontStyle:"italic",color:"var(--muted)",display:"block",marginBottom:4},children:"Member ID"}),l.jsx("div",{style:{fontWeight:700,fontSize:20},children:i||"-"})]}),l.jsxs("div",{style:{background:"#f9fafb",border:"1px solid #e5e7eb",borderRadius:10,padding:10},children:[l.jsx("span",{style:{fontSize:14,fontStyle:"italic",color:"var(--muted)",display:"block",marginBottom:4},children:"Date"}),l.jsx("div",{style:{fontWeight:700,fontSize:20},children:Ex(s)||"-"})]}),l.jsxs("div",{style:{background:"#f9fafb",border:"1px solid #e5e7eb",borderRadius:10,padding:10},children:[l.jsx("span",{style:{fontSize:14,fontStyle:"italic",color:"var(--muted)",display:"block",marginBottom:4},children:"No."}),l.jsx("div",{style:{fontWeight:700,fontSize:20},children:o||"-"})]})]}),l.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(3, 1fr)",gap:12},children:[["Weight",u],["Height (in)",c],["BMI",a],["Muscle Mass",d],["Body Fat",f],["Visceral Fat",m],["Chest",w],["Waist",x],["Hips",y],["Shoulders",C],["Arms",g],["Forearms",p],["Thighs",h],["Calves",b],["Blood Pressure",k],["Resting Heart Rate",v]].map(([D,z])=>l.jsxs("div",{className:"field",children:[l.jsx("span",{className:"label",style:{display:"block",marginBottom:6},children:D}),l.jsx("div",{style:{background:"#f9fafb",border:"1px solid #e5e7eb",borderRadius:10,padding:10,fontWeight:700,fontSize:20},children:!z||String(z).trim()==="0"?"-":String(z)})]},D))}),l.jsxs("div",{className:"field",style:{marginTop:12},children:[l.jsx("span",{className:"label",children:"Comments"}),l.jsx("div",{style:{background:"#f9fafb",border:"1px solid #e5e7eb",borderRadius:10,padding:12,fontSize:16,minHeight:72},children:N?String(N):"-"})]}),l.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(3, 1fr)",gap:12,marginTop:12},children:[j,P,M].map((D,z)=>l.jsx("div",{style:{position:"relative"},children:l.jsx("div",{style:{position:"relative",width:"100%",height:0,paddingTop:"133.333%",borderRadius:8,border:D?"1px solid #e5e7eb":"1px dashed #e5e7eb",overflow:"hidden"},children:D?l.jsx("img",{src:Nx(D),alt:`Photo ${z+1}`,style:{position:"absolute",inset:0,width:"100%",height:"100%",objectFit:"cover"}}):l.jsx("div",{style:{position:"absolute",inset:0,display:"flex",alignItems:"center",justifyContent:"center",color:"#999"},children:"No photo"})})},z))})]})})}const kx="Asia/Manila";function Ex(e){var o,u,a;if(!e)return"";let t;if(typeof e=="string")if(/^\d{4}-\d{2}-\d{2}$/.test(e)){const[c,d,f]=e.split("-").map(Number);t=new Date(Date.UTC(c,d-1,f))}else{const c=new Date(e);isNaN(c)||(t=c)}else e instanceof Date&&(t=e);if(!t||isNaN(t))return String(e);const n=new Intl.DateTimeFormat("en-US",{timeZone:kx,month:"short",day:"numeric",year:"numeric"}).formatToParts(t),r=((o=n.find(c=>c.type==="month"))==null?void 0:o.value)||"",i=((u=n.find(c=>c.type==="day"))==null?void 0:u.value)||"",s=((a=n.find(c=>c.type==="year"))==null?void 0:a.value)||"";return`${r}-${i}, ${s}`}function dl({width:e="100%",height:t=200}){return l.jsxs("div",{style:{display:"flex",gap:12,alignItems:"flex-start"},children:[l.jsx("div",{style:{width:150,height:200,borderRadius:12,background:"#f3f4f6",boxShadow:"inset 0 0 0 1px rgba(0,0,0,0.02)"}}),l.jsxs("div",{style:{flex:1},children:[l.jsx("div",{style:{height:22,width:"60%",background:"#f3f4f6",borderRadius:6,marginBottom:8}}),l.jsx("div",{style:{height:18,width:"40%",background:"#f3f4f6",borderRadius:6,marginBottom:14}}),l.jsx("div",{style:{height:12,width:"80%",background:"#f3f4f6",borderRadius:6,marginBottom:6}}),l.jsx("div",{style:{height:12,width:"70%",background:"#f3f4f6",borderRadius:6,marginBottom:6}}),l.jsx("div",{style:{height:12,width:"50%",background:"#f3f4f6",borderRadius:6,marginTop:10}})]})]})}const Ht=(e,t=[])=>{if(!e)return"";for(const n of t){if(Object.prototype.hasOwnProperty.call(e,n))return e[n];const r=Object.keys(e).find(i=>i.toLowerCase().replace(/\s+/g,"")===n.toLowerCase().replace(/\s+/g,""));if(r)return e[r]}return""},Mx=(e="")=>{const t=String(e||"").match(/(?:\/file\/d\/|[?&]id=|\/uc\?[^#]*id=)([^\/#?]+)/);return t&&t[1]?t[1]:""},Ix=(e="")=>{const t=String(e||"");if(/googleusercontent\.com\//.test(t))return t;const n=Mx(t);return n?`https://drive.google.com/thumbnail?id=${n}&sz=w1000`:t};function Gh({open:e,onClose:t,row:n}){if(!e)return null;const r=n||{},i=Ht(r,["MemberID","memberid","member_id","id"]),s=Ht(r,["Date","date","visit_date","timestamp"]),o=Ht(r,["TimeIn","timein","time_in"]),u=Ht(r,["TimeOut","timeout","time_out"]),a=Ht(r,["TotalHours","totalhours","hours"]),c=Ht(r,["Coach","coach"]),d=Ht(r,["Focus","focus"]),f=Ht(r,["Workouts","workouts","done","workouts_done"]),m=Ht(r,["Comments","comments","notes"]),w=Ht(r,["Photo","photo","photo_url","PhotoURL"]);return l.jsx("div",{style:{position:"fixed",inset:0,background:"rgba(0,0,0,.45)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:9999},children:l.jsxs("div",{style:{width:"min(720px, 96vw)",maxHeight:"92vh",overflow:"auto",background:"#fff",borderRadius:14,padding:16,border:"1px solid var(--light-border)",boxShadow:"0 20px 60px rgba(0,0,0,.2)"},children:[l.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",marginBottom:10},children:[l.jsx("div",{style:{fontWeight:800,fontSize:18},children:"Visit Details"}),l.jsx("button",{type:"button",className:"button",onClick:t,style:{background:"#eee",color:"#333"},children:""})]}),l.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:12,marginBottom:12},children:[l.jsxs("div",{style:{background:"#f9fafb",border:"1px solid #e5e7eb",borderRadius:10,padding:10},children:[l.jsx("span",{style:{fontSize:14,fontStyle:"italic",color:"var(--muted)",display:"block",marginBottom:4},children:"Member ID"}),l.jsx("div",{style:{fontWeight:700,fontSize:18},children:i||"-"})]}),l.jsxs("div",{style:{background:"#f9fafb",border:"1px solid #e5e7eb",borderRadius:10,padding:10},children:[l.jsx("span",{style:{fontSize:14,fontStyle:"italic",color:"var(--muted)",display:"block",marginBottom:4},children:"Date"}),l.jsx("div",{style:{fontWeight:700,fontSize:18},children:bt(s)||"-"})]})]}),l.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(3, 1fr)",gap:12},children:[["Time In",o],["Time Out",u],["Total Hours",a]].map(([x,y])=>l.jsxs("div",{className:"field",children:[l.jsx("span",{className:"label",style:{display:"block",marginBottom:6},children:x}),l.jsx("div",{style:{background:"#f9fafb",border:"1px solid #e5e7eb",borderRadius:10,padding:10,fontWeight:700,fontSize:18},children:x==="Time In"||x==="Time Out"?y?Hi(y):"-":y?String(y):"-"})]},x))}),l.jsxs("div",{className:"field",style:{marginTop:12},children:[l.jsx("span",{className:"label",children:"Coach"}),l.jsx("div",{style:{background:"#f9fafb",border:"1px solid #e5e7eb",borderRadius:10,padding:12,fontSize:16,minHeight:44},children:c||"-"})]}),l.jsxs("div",{className:"field",style:{marginTop:12},children:[l.jsx("span",{className:"label",children:"Focus"}),l.jsx("div",{style:{background:"#f9fafb",border:"1px solid #e5e7eb",borderRadius:10,padding:12,fontSize:16,minHeight:44},children:d||"-"})]}),l.jsxs("div",{className:"field",style:{marginTop:12},children:[l.jsx("span",{className:"label",children:"Workouts Done"}),l.jsx("div",{style:{background:"#f9fafb",border:"1px solid #e5e7eb",borderRadius:10,padding:12,fontSize:16,minHeight:72},children:f||"-"})]}),l.jsxs("div",{className:"field",style:{marginTop:12},children:[l.jsx("span",{className:"label",children:"Comments"}),l.jsx("div",{style:{background:"#f9fafb",border:"1px solid #e5e7eb",borderRadius:10,padding:12,fontSize:16,minHeight:72},children:m||"-"})]}),w?l.jsx("div",{style:{marginTop:12},children:l.jsx("div",{style:{position:"relative",width:"100%",height:0,paddingTop:"56.25%",borderRadius:8,border:"1px solid #e5e7eb",overflow:"hidden"},children:l.jsx("img",{src:Ix(w),alt:"Photo",style:{position:"absolute",inset:0,width:"100%",height:"100%",objectFit:"cover"}})})}):null,l.jsx("div",{style:{textAlign:"right",marginTop:14},children:l.jsx("button",{className:"primary-btn",onClick:t,children:"Close"})})]})})}const _x=e=>String(e||"").trim().toLowerCase().replace(/\s+/g,"_"),Qe=e=>Object.fromEntries(Object.entries(e||{}).map(([t,n])=>[_x(t),n])),Z=(e,t)=>t.map(n=>e[n]).find(n=>n!==void 0&&n!==""),$e=e=>{if(e instanceof Date)return e;const t=new Date(e);return isNaN(t)?null:t},Qh="Asia/Manila",Hi=e=>{if(!e)return"-";if(/^\d{1,2}:\d{2}\s?(AM|PM)$/i.test(e))return e;const t=new Date(e);if(!isNaN(t))return new Intl.DateTimeFormat("en-US",{timeZone:Qh,hour:"2-digit",minute:"2-digit",hour12:!0}).format(t);const n=String(e).match(/(\d{2}):(\d{2})/);if(n){let r=parseInt(n[1],10),i=n[2],s=r>=12?"PM":"AM";return r=r%12||12,`${r}:${i} ${s}`}return"-"},bt=e=>{var o,u,a;if(!e)return"-";const t=e instanceof Date?e:new Date(e);if(isNaN(t))return"-";const n=new Intl.DateTimeFormat("en-US",{timeZone:Qh,month:"short",day:"numeric",year:"numeric"}).formatToParts(t),r=((o=n.find(c=>c.type==="month"))==null?void 0:o.value)||"",i=((u=n.find(c=>c.type==="day"))==null?void 0:u.value)||"",s=((a=n.find(c=>c.type==="year"))==null?void 0:a.value)||"";return`${r}-${i}, ${s}`},ge=e=>e==null||String(e).trim()===""?"-":String(e),Tx=e=>{const t=String(e||"");if(!t)return"";const n=t.match(/https?:\/\/[^\s}]+/);if(n){const s=n[0];if(/googleusercontent\.com\//.test(s))return s;const o=s.match(/(?:\/file\/d\/|[?&]id=|\/uc\?[^#]*id=)([^/&?#]+)/);return o&&o[1]?`https://drive.google.com/uc?export=view&id=${o[1]}`:s}if(/googleusercontent\.com\//.test(t))return t;const r=t.match(/\/file\/d\/([^/]+)/)||t.match(/[?&]id=([^&]+)/)||t.match(/\/uc\?[^#]*id=([^&]+)/),i=r?r[1]:"";return i?`https://drive.google.com/uc?export=view&id=${i}`:t},fi=e=>{const n=String(e||"").match(/(?:\/file\/d\/|[?&]id=|\/uc\?[^#]*id=)([^/&?#]+)/);return n&&n[1]?n[1]:""},kd=e=>{const t=String(e||"");if(/googleusercontent\.com\//.test(t))return t;const n=fi(t);return n?`https://drive.google.com/thumbnail?id=${n}&sz=w1000`:t};function Ed(e,t,n){const r=new Date;let i=null,s=null;const o=new Map,u=Array.isArray(n)?n:[],a=d=>{const f=String(d??"").trim().toLowerCase();return f==="yes"||f==="y"||f==="true"||f==="1"},c=(d,f)=>{for(const m of f){if(d&&Object.prototype.hasOwnProperty.call(d,m))return d[m];const w=Object.keys(d||{}).find(x=>x.toLowerCase().replace(/\s+/g,"")===m.toLowerCase().replace(/\s+/g,""));if(w)return d[w]}};u.forEach(d=>{const f=String(c(d,["Particulars"])||"").trim();if(!f)return;const m=a(c(d,["Gym membership","Gym Membership","GymMembership","Membership"])),w=a(c(d,["Coach subscription","Coach Subscription","CoachSubscription","Coach"]));o.set(f.toLowerCase(),{gym:m,coach:w})});for(const d of e){const f=Qe(d),m=String(Z(f,["memberid","member_id","member_id_","id"])||"").trim().toLowerCase();if(!m||m!==t.toLowerCase())continue;const w=String(Z(f,["particulars","type","item","category","product","paymentfor","plan","description"])||"").trim(),x=$e(Z(f,["gymvaliduntil","gym_valid_until","gym_until"])),y=$e(Z(f,["coachvaliduntil","coach_valid_until","coach_until"])),C=$e(Z(f,["enddate","end_date","valid_until","expiry","expires","until","end"]));if(!x&&!y&&!C)continue;const g=o.get(w.toLowerCase())||{gym:null,coach:null},p=g.coach===!0||g.coach===null&&/coach|trainer|pt/i.test(w),h=g.gym===!0||g.gym===null&&/member|gym/i.test(w);x?i=!i||x>i?x:i:h&&C&&(i=!i||C>i?C:i),y?s=!s||y>s?y:s:p&&C&&(s=!s||C>s?C:s)}return{membershipEnd:i,membershipState:i==null?null:i>=r?"active":"expired",coachEnd:s,coachActive:!!(s&&s>=r)}}function Px(){var Lt;const[e,t]=S.useState(null),{id:n,memberId:r}=Oc(),i=Jr(),s=Vn(),o=(Lt=s.state)!=null&&Lt.row?Qe(s.state.row):null,[u,a]=S.useState(o||null),[c,d]=S.useState(!o),[f,m]=S.useState(""),[w,x]=S.useState({membershipState:null,coachActive:!1,membershipEnd:null,coachEnd:null}),[y,C]=S.useState([]),[g,p]=S.useState([]),[h,b]=S.useState([]);if(S.useEffect(()=>{let ee=!0;(async()=>{const Ue=decodeURIComponent(r||n||"").trim(),ct=String(Z(o||{},["memberid","member_id","id"])||"").trim(),nt=Ue||ct;if(!nt){d(!1);return}async function Hn(){const[ue,xe]=await Promise.all([Vi(nt),fn()]),Pe=ue.member?Qe(ue.member):null,ke=(ue.payments||[]).map(Qe),dr=(ue.gymEntries||[]).map(Qe),Kr=(ue.progress||[]).map(Qe),Fl=((xe==null?void 0:xe.rows)||(xe==null?void 0:xe.data)||[]).map(zl=>zl);return{m:Pe,pays:ke,gyms:dr,progs:Kr,pricingRows:Fl}}async function Gn(){const[ue,xe,Pe,ke]=await Promise.all([Xt(),zn(),tr(),Hc()]),Kr=((ue==null?void 0:ue.rows)??(ue==null?void 0:ue.data)??[]).map(Qe).find(Qn=>String(Z(Qn,["memberid","member_id","member_id_","id"])||"").trim().toLowerCase()===nt.toLowerCase())||null,Fl=((xe==null?void 0:xe.rows)??(xe==null?void 0:xe.data)??[]).filter(Qn=>String(Z(Qe(Qn),["memberid","member_id","member_id_","id"])||"").trim().toLowerCase()===nt.toLowerCase()),zl=((Pe==null?void 0:Pe.rows)??(Pe==null?void 0:Pe.data)??[]).filter(Qn=>String(Z(Qe(Qn),["memberid","member_id","member_id_","id"])||"").trim().toLowerCase()===nt.toLowerCase()),Zh=((ke==null?void 0:ke.rows)??(ke==null?void 0:ke.data)??[]).filter(Qn=>String(Z(Qe(Qn),["memberid","member_id","member_id_","id"])||"").trim().toLowerCase()===nt.toLowerCase());return{m:Kr,pays:Fl,gyms:zl,progs:Zh}}try{let ue;try{ue=await Hn()}catch{ue=await Gn()}if(!ee)return;if(ue.m){a(ue.m);const xe=String(Z(ue.m,["memberid","member_id","id"])||"").trim();p(ue.pays.sort((Pe,ke)=>{const dr=$e(Z(Pe,["date","paid_on","created","timestamp"]))||new Date(0);return($e(Z(ke,["date","paid_on","created","timestamp"]))||new Date(0))-dr})),C(ue.gyms.map(Pe=>{const ke=Qe(Pe);return{date:$e(Z(ke,["date"])),timeIn:Z(ke,["timein","time_in"]),timeOut:Z(ke,["timeout","time_out"]),totalHours:Z(ke,["totalhours","total_hours","hours"]),coach:Z(ke,["coach"]),focus:Z(ke,["focus"])}}).filter(Pe=>!!Pe.date).sort((Pe,ke)=>ke.date-Pe.date)),b(ue.progs.map(Qe).sort((Pe,ke)=>{const dr=$e(Z(Pe,["date","recorded","log_date","timestamp"]))||new Date(0);return($e(Z(ke,["date","recorded","log_date","timestamp"]))||new Date(0))-dr})),x(Ed(ue.pays,xe,ue.pricingRows||[]))}else o||(a(null),m("Member not found"))}catch(ue){ee&&!o&&m(ue.message||"Failed to load member")}finally{ee&&d(!1)}})();const ce=yt.on("member:updated",Ue=>{try{String(Z(u||{},["memberid","member_id","id"])||"").trim()&&Ae()}catch{}}),We=yt.on("gymEntry:added",Ue=>{try{const ct=String(Z(u||{},["memberid","member_id","id"])||"").trim();if(!ct)return;const nt=String((Ue==null?void 0:Ue.MemberID)||(Ue==null?void 0:Ue.memberid)||(Ue==null?void 0:Ue.Member)||"").trim();nt&&nt===ct&&Ae()}catch{}});return()=>{ee=!1,ce(),We()}},[r,n,o]),c)return l.jsx("div",{className:"content",children:l.jsx(dl,{})});if(!u)return l.jsxs("div",{className:"content",children:[l.jsx("button",{className:"back-btn",onClick:()=>i(-1),children:" Back"}),l.jsx("div",{children:f||"Member not found"})]});const k=Z(u,["lastname","last_name"]),v=Z(u,["firstname","first_name"]),N=Z(u,["middlename","middle_name"]),j=Z(u,["gender"]),P=Z(u,["birthday","birth_date","dob"]),M=$e(P),D=Z(u,["nick_name","nickname"]),z=Z(u,["street"]),O=Z(u,["brgy","barangay"]),T=Z(u,["municipality","city"]),R=Z(u,["email"]),I=Z(u,["mobile","phone"]),L=$e(Z(u,["member_since","membersince","join_date"])),E=String(Z(u,["memberid","member_id","member_id_","id"])||"").trim(),U=Z(u,["photourl","photo_url","photo"]),F=Tx(U),_=kd(F),{membershipState:H,coachActive:K}=w,A=Z(u,["student"]),W=typeof A=="string"?A.trim().toLowerCase().startsWith("y"):!!A,[$,V]=S.useState(!1),[J,q]=S.useState(!1),[te,re]=S.useState(!1),[pe,X]=S.useState(!1),[le,oe]=S.useState(!1),[B,Q]=S.useState(-1),[ie,ne]=S.useState(!1),[se,we]=S.useState(10),[ae,at]=S.useState(10),[Dt,ze]=S.useState(10);S.useEffect(()=>{ne(!1)},[F]);async function Ae(){try{const ee=String(E||"").toLowerCase();if(!ee)return;const[ce,We]=await Promise.all([Vi(ee),fn()]),Ue=ce.member?Qe(ce.member):null,ct=(ce.payments||[]).map(Qe),nt=(ce.gymEntries||[]).map(Qe),Hn=(ce.progress||[]).map(Qe);Ue&&a(Ue),p(ct.sort((ue,xe)=>{const Pe=$e(Z(ue,["date","paid_on","created","timestamp"]))||new Date(0);return($e(Z(xe,["date","paid_on","created","timestamp"]))||new Date(0))-Pe})),C(nt.map(ue=>{const xe=Qe(ue);return{date:$e(Z(xe,["date"])),timeIn:Z(xe,["timein","time_in"]),timeOut:Z(xe,["timeout","time_out"]),totalHours:Z(xe,["totalhours","total_hours","hours"]),coach:Z(xe,["coach"]),focus:Z(xe,["focus"])}}).filter(ue=>!!ue.date).sort((ue,xe)=>xe.date-ue.date)),b(Hn.sort((ue,xe)=>{const Pe=$e(Z(ue,["date","recorded","log_date","timestamp"]))||new Date(0);return($e(Z(xe,["date","recorded","log_date","timestamp"]))||new Date(0))-Pe}));const Gn=((We==null?void 0:We.rows)||(We==null?void 0:We.data)||[]).map(ue=>ue);x(Ed(ct,ee,Gn))}catch{}}return l.jsxs("div",{className:"content",children:[l.jsx("button",{className:"back-btn",onClick:()=>i(-1),children:" Back"}),l.jsx("h2",{children:ge(D||v||"Member")}),l.jsxs("div",{className:"member-card",children:[l.jsx("div",{className:"member-photo",children:l.jsx("div",{className:"photo-box",children:F&&!ie?l.jsx("img",{src:kd(F),alt:"photo",onError:ee=>{const ce=ee.currentTarget;if(!ce.dataset.retry&&U){ce.dataset.retry="1";const We=fi(U)||fi(F);We?ce.src=`https://drive.google.com/uc?export=view&id=${We}`:ce.style.display="none"}else if(ce.dataset.retry==="1"){ce.dataset.retry="2";const We=fi(U)||fi(F);We?ce.src=`https://drive.google.com/uc?export=download&id=${We}`:ne(!0)}else ne(!0)}}):l.jsx("div",{style:{color:"var(--muted)",padding:16},children:"No photo"})})}),l.jsxs("div",{className:"member-info",children:[l.jsxs("div",{className:"member-grid",children:[l.jsxs("div",{className:"cell lastname",children:[l.jsx("div",{className:"label",children:"Last Name"}),l.jsx("div",{className:"value",children:ge(k)})]}),l.jsxs("div",{className:"cell firstname",children:[l.jsx("div",{className:"label",children:"First Name"}),l.jsx("div",{className:"value",children:ge(v)})]}),l.jsxs("div",{className:"cell middlename",children:[l.jsx("div",{className:"label",children:"Middle Name"}),l.jsx("div",{className:"value",children:ge(N)})]}),l.jsxs("div",{className:"cell gender",children:[l.jsx("div",{className:"label",children:"Gender"}),l.jsx("div",{className:"value",children:ge(j)})]}),l.jsxs("div",{className:"cell birthday",children:[l.jsx("div",{className:"label",children:"Birthday"}),l.jsx("div",{className:"value",children:bt(M)})]}),l.jsxs("div",{className:"cell age",children:[l.jsx("div",{className:"label",children:"Age"}),l.jsx("div",{className:"value",children:ge(M?new Date().getFullYear()-M.getFullYear()-(new Date().getMonth()<M.getMonth()||new Date().getMonth()===M.getMonth()&&new Date().getDate()<M.getDate()?1:0):"-")})]}),l.jsxs("div",{className:"cell street",children:[l.jsx("div",{className:"label",children:"House No. / Street Name / Sitio"}),l.jsx("div",{className:"value",children:ge(z)})]}),l.jsxs("div",{className:"cell brgy",children:[l.jsx("div",{className:"label",children:"Brgy."}),l.jsx("div",{className:"value",children:ge(O)})]}),l.jsxs("div",{className:"cell municipality",children:[l.jsx("div",{className:"label",children:"Municipality / City"}),l.jsx("div",{className:"value",children:ge(T)})]}),l.jsxs("div",{className:"cell nickname",children:[l.jsx("div",{className:"label",children:"Member Since"}),l.jsx("div",{className:"value",children:bt(L)})]}),l.jsxs("div",{className:"cell mobile",children:[l.jsx("div",{className:"label",children:"Mobile"}),l.jsx("div",{className:"value",children:ge(I)})]}),l.jsxs("div",{className:"cell email",children:[l.jsx("div",{className:"label",children:"Email"}),l.jsx("div",{className:"value",children:ge(R)})]})]}),(()=>{const ee=H??"none",ce=w.coachEnd?w.coachEnd>=new Date?"active":"expired":"none";return l.jsxs("div",{className:"status-tiles",children:[l.jsxs("div",{className:`status-tile ${ee}`,children:[l.jsx("div",{className:"title",children:"Gym Membership"}),l.jsxs("div",{style:{marginBottom:10},children:[ee==="active"&&l.jsx("span",{className:"pill ok",children:"Active"}),ee==="expired"&&l.jsx("span",{className:"pill bad",children:"Expired"}),ee==="none"&&l.jsx("span",{className:"pill",style:{background:"#fff",color:"#555",borderColor:"#ddd"},children:"None"})]}),l.jsx("div",{className:"label",children:"Valid until"}),l.jsx("div",{className:"value",children:bt(w.membershipEnd)})]}),l.jsxs("div",{className:`status-tile ${ce}`,children:[l.jsx("div",{className:"title",children:"Coach Subscription"}),l.jsxs("div",{style:{marginBottom:10},children:[ce==="active"&&l.jsx("span",{className:"pill ok",children:"Active"}),ce==="expired"&&l.jsx("span",{className:"pill bad",children:"Expired"}),ce==="none"&&l.jsx("span",{className:"pill",style:{background:"#fff",color:"#555",borderColor:"#ddd"},children:"None"})]}),l.jsx("div",{className:"label",children:"Valid until"}),l.jsx("div",{className:"value",children:bt(w.coachEnd)})]})]})})(),l.jsxs("div",{className:"member-actions",children:[l.jsx("button",{className:"primary-btn",onClick:()=>q(!0),title:"Edit member details",children:" Edit"}),l.jsx("button",{className:"primary-btn",onClick:()=>V(!0),title:"Manage payments",children:" Payments"}),l.jsx("button",{className:"primary-btn",onClick:()=>re(!0),title:"Show QR code for this member",children:" QR Code"}),l.jsx("button",{className:"primary-btn",onClick:()=>X(!0),title:"Track or view progress",children:" Progress"})]})]})]}),l.jsx(tx,{open:$,onClose:()=>V(!1),memberId:E,onSaved:()=>{V(!1),Ae()},membershipEnd:w.membershipEnd,coachEnd:w.coachEnd,isStudent:W,birthDate:M}),l.jsx(ox,{open:J,onClose:()=>q(!1),member:u,onSaved:()=>{q(!1),Ae()}}),l.jsx(yx,{open:te,onClose:()=>re(!1),memberId:E,nickname:D||v||"",firstName:v||"",lastName:k||"",memberSince:L||null,photo:_}),l.jsx(jx,{open:pe,onClose:()=>X(!1),memberId:E,memberSinceYMD:L?`${L.getFullYear()}-${String(L.getMonth()+1).padStart(2,"0")}-${String(L.getDate()).padStart(2,"0")}`:"",onSaved:()=>{X(!1),Ae()}}),l.jsx(bx,{open:le,onClose:()=>{oe(!1),Q(-1)},row:B>=0?h[B]:null}),l.jsxs("div",{className:"panel",children:[l.jsx("div",{className:"panel-header",children:"Gym Visits"}),l.jsxs("table",{className:"aligned",children:[l.jsx("thead",{children:l.jsxs("tr",{children:[l.jsx("th",{children:"Date"}),l.jsx("th",{children:"Time In"}),l.jsx("th",{children:"Time Out"}),l.jsx("th",{children:"Total Hours"}),l.jsx("th",{children:"Coach"}),l.jsx("th",{children:"Focus"})]})}),l.jsx("tbody",{children:y.length===0?l.jsx("tr",{children:l.jsx("td",{colSpan:6,children:"-"})}):y.slice(0,se).map((ee,ce)=>l.jsxs("tr",{style:{cursor:"pointer"},onClick:()=>t(ee),children:[l.jsx("td",{children:bt(ee.date)}),l.jsx("td",{children:Hi(ee.timeIn)}),l.jsx("td",{children:Hi(ee.timeOut)}),l.jsx("td",{children:ge(ee.totalHours)}),l.jsx("td",{children:ge(ee.coach)}),l.jsx("td",{children:ge(ee.focus)})]},ce))})]}),y.length>se&&l.jsx("div",{style:{textAlign:"center",marginTop:8},children:l.jsx("button",{className:"button",onClick:()=>we(ee=>ee<y.length?Math.min(ee+10,y.length):10),children:se<y.length?`Load ${Math.min(10,y.length-se)} more`:"Show less"})})]}),l.jsx(Gh,{open:!!e,onClose:()=>t(null),row:e}),y.length>200&&l.jsx("div",{style:{textAlign:"center",marginTop:8},children:l.jsx("button",{className:"button",onClick:()=>setShowAllVisits(ee=>!ee),children:showAllVisits?"Show less":`Show all (${y.length})`})}),l.jsxs("div",{className:"panel",children:[l.jsx("div",{className:"panel-header",children:"Progress"}),l.jsxs("table",{className:"aligned",children:[l.jsx("thead",{children:l.jsxs("tr",{children:[l.jsx("th",{children:"Date"}),l.jsx("th",{children:"No"}),l.jsx("th",{children:"Weight"}),l.jsx("th",{children:"BMI"}),l.jsx("th",{children:"Muscle Mass"}),l.jsx("th",{children:"Body Fat"})]})}),l.jsx("tbody",{children:h.length===0?l.jsx("tr",{children:l.jsx("td",{colSpan:6,children:"-"})}):h.slice(0,ae).map((ee,ce)=>{const We=$e(Z(ee,["date","recorded","log_date","timestamp"])),Ue=Z(ee,["no","entry_no","seq","number"]),ct=Z(ee,["weight","weight_kg","weight_lbs","weight_(lbs)","weight_(kg)","weight(lbs)","weightkg","weightlbs"]),nt=Z(ee,["bmi"]),Hn=Z(ee,["musclemass","muscle_mass","muscle"]),Gn=Z(ee,["bodyfat","body_fat","bf"]);return l.jsxs("tr",{style:{cursor:"pointer"},onClick:()=>{Q(ce),oe(!0)},children:[l.jsx("td",{children:bt(We)}),l.jsx("td",{children:ge(Ue)}),l.jsx("td",{children:ge(ct)}),l.jsx("td",{children:ge(nt)}),l.jsx("td",{children:ge(Hn)}),l.jsx("td",{children:ge(Gn)})]},ce)})})]}),h.length>ae&&l.jsx("div",{style:{textAlign:"center",marginTop:8},children:l.jsx("button",{className:"button",onClick:()=>at(ee=>ee<h.length?Math.min(ee+10,h.length):10),children:ae<h.length?`Load ${Math.min(10,h.length-ae)} more`:"Show less"})})]}),l.jsxs("div",{className:"panel",children:[l.jsx("div",{className:"panel-header",children:"Payments"}),l.jsxs("table",{className:"aligned payments-table",children:[l.jsx("thead",{children:l.jsxs("tr",{children:[l.jsx("th",{children:"Date"}),l.jsx("th",{children:"Particulars"}),l.jsxs("th",{children:["Gym Membership",l.jsx("br",{}),l.jsx("span",{className:"th-sub",children:"Valid Until"})]}),l.jsxs("th",{children:["Coach Subscription",l.jsx("br",{}),l.jsx("span",{className:"th-sub",children:"Valid Until"})]}),l.jsx("th",{children:"Mode"}),l.jsx("th",{children:"Cost"})]})}),l.jsx("tbody",{children:g.length===0?l.jsx("tr",{children:l.jsx("td",{colSpan:6,children:"-"})}):g.slice(0,Dt).map((ee,ce)=>{const We=$e(Z(ee,["date","paid_on","created","timestamp"])),Ue=Z(ee,["particulars","type","item","category","product","paymentfor","plan","description"]),ct=$e(Z(ee,["gymvaliduntil","gym_valid_until","gym_until"])),nt=$e(Z(ee,["coachvaliduntil","coach_valid_until","coach_until"])),Hn=Z(ee,["mode","payment_mode","method","via"]),Gn=Z(ee,["cost","amount","price","total","paid"]);return l.jsxs("tr",{children:[l.jsx("td",{children:bt(We)}),l.jsx("td",{children:ge(Ue)}),l.jsx("td",{children:bt(ct)}),l.jsx("td",{children:bt(nt)}),l.jsx("td",{children:ge(Hn)}),l.jsx("td",{children:ge(Gn)})]},ce)})})]}),g.length>Dt&&l.jsx("div",{style:{textAlign:"center",marginTop:8},children:l.jsx("button",{className:"button",onClick:()=>ze(ee=>ee<g.length?Math.min(ee+10,g.length):10),children:Dt<g.length?`Load ${Math.min(10,g.length-Dt)} more`:"Show less"})})]})]})}function li(){return new Date().toLocaleDateString("en-CA",{year:"numeric",month:"2-digit",day:"2-digit"})}function Dx(){const[e,t]=S.useState({totalMembers:0,activeGym:0,activeCoach:0,visitedToday:0,coachToday:0,checkedIn:0,cashToday:0,gcashToday:0}),[n,r]=S.useState(!0),[i,s]=S.useState(!1),[o,u]=S.useState([]),[a,c]=S.useState([]),[d,f]=S.useState([]),[m,w]=S.useState([]),[x,y]=S.useState(!1),[C,g]=S.useState(!1),[p,h]=S.useState(null),b=S.useMemo(()=>(d||[]).filter(v=>{const N=v.Date||v.date;return(N?new Date(N).toLocaleDateString("en-CA",{year:"numeric",month:"2-digit",day:"2-digit"}):"")===li()}).map((v,N)=>{const j=(o||[]).find(z=>{const O=String(v.MemberID||v.member_id||v.id||v.member||"").trim();return O?String(z.MemberID||z.member_id||z.id||"").trim()===O:!1}),P=v.TimeIn||v.timein||"",M=v.TimeOut||v.timeout||"";let D="";if(P&&M){const z=new Date(`${li()}T${P}`);D=((new Date(`${li()}T${M}`)-z)/1e3/60/60).toFixed(2)}return l.jsxs("tr",{style:{cursor:"pointer"},onClick:()=>h(v),children:[l.jsx("td",{children:(j==null?void 0:j.NickName)||(j==null?void 0:j.Nickname)||(j==null?void 0:j.nickname)||(j==null?void 0:j.name)||(j!=null&&j.FirstName?`${j.FirstName} ${j.LastName||""}`:"")||""}),l.jsx("td",{children:Hi(P)}),l.jsx("td",{children:Hi(M)}),l.jsx("td",{children:ge(D)}),l.jsx("td",{children:ge(v.Coach||v.coach)}),l.jsx("td",{children:ge(v.Focus||v.focus)})]},N)}),[d,o]),k=S.useMemo(()=>(a||[]).filter(v=>{const N=v.Date||v.date||v.pay_date;return(N?new Date(N).toLocaleDateString("en-CA",{year:"numeric",month:"2-digit",day:"2-digit"}):"")===li()}).map((v,N)=>{const j=(o||[]).find(O=>{const T=String(v.MemberID||v.member_id||v.id||v.member||"").trim();return T?String(O.MemberID||O.member_id||O.id||"").trim()===T:!1}),P=v.gymvaliduntil||v.GymValidUntil||v.gym_valid_until||v.gym_until||v.EndDate||v.Enddate||v.enddate||v.end_date||v.end||v.valid_until||v.expiry||v.expires||v.until||"",M=v.coachvaliduntil||v.CoachValidUntil||v.coach_valid_until||v.coach_until||"",D=bt(P),z=bt(M);return l.jsxs("tr",{children:[l.jsx("td",{children:(j==null?void 0:j.NickName)||(j==null?void 0:j.Nickname)||(j==null?void 0:j.nickname)||(j==null?void 0:j.name)||(j!=null&&j.FirstName?`${j.FirstName} ${j.LastName||""}`:"")||""}),l.jsx("td",{children:ge(v.Particulars||v.particulars||v.type||v.item||v.category||v.product||v.paymentfor||v.plan||v.description)}),l.jsx("td",{children:ge(D)}),l.jsx("td",{children:ge(z)}),l.jsx("td",{children:ge(v.Mode||v.mode||v.method)}),l.jsx("td",{children:ge((parseFloat(v.Cost||v.amount||0)||0).toLocaleString())})]},N)}),[a,o]);return S.useEffect(()=>{async function v(){r(!0),s(!0);try{const _=await Qc();if(_&&_.ok){const{totalMembers:H=0,activeGym:K=0,activeCoach:A=0,visitedToday:W=0,coachToday:$=0,checkedIn:V=0,cashToday:J=0,gcashToday:q=0,totalPaymentsToday:te=0}=_;t({totalMembers:H,activeGym:K,activeCoach:A,visitedToday:W,coachToday:$,checkedIn:V,cashToday:J,gcashToday:q,totalPaymentsToday:te}),r(!1),s(!1),(async()=>{try{const[re,pe,X,le]=await Promise.all([Xt(),zn(),tr(),fn()]);u((re==null?void 0:re.rows)||(re==null?void 0:re.data)||[]),c((pe==null?void 0:pe.rows)||(pe==null?void 0:pe.data)||[]),f((X==null?void 0:X.rows)||(X==null?void 0:X.data)||[]),w((le==null?void 0:le.rows)||(le==null?void 0:le.data)||[])}catch{}})();return}}catch{}const[P,M,D,z]=await Promise.all([Xt(),zn(),tr(),fn()]),O=(P==null?void 0:P.rows)||(P==null?void 0:P.data)||[],T=(M==null?void 0:M.rows)||(M==null?void 0:M.data)||[],R=(D==null?void 0:D.rows)||(D==null?void 0:D.data)||[],I=(z==null?void 0:z.rows)||(z==null?void 0:z.data)||[];u(O),c(T),f(R),w(I);const L=O,E=T,U=R,F=I;t(_=>({..._,totalMembers:L.length})),setTimeout(()=>{const _=new Map,H=Q=>{const ie=String(Q??"").trim().toLowerCase();return ie==="yes"||ie==="y"||ie==="true"||ie==="1"},K=(Q,ie)=>{for(const ne of ie){if(Q&&Object.prototype.hasOwnProperty.call(Q,ne))return Q[ne];const se=Object.keys(Q||{}).find(we=>we.toLowerCase().replace(/\s+/g,"")===ne.toLowerCase().replace(/\s+/g,""));if(se)return Q[se]}};F.forEach(Q=>{const ie=String(K(Q,["Particulars"])||"").trim();if(!ie)return;const ne=H(K(Q,["Gym membership","Gym Membership","GymMembership","Membership"])),se=H(K(Q,["Coach subscription","Coach Subscription","CoachSubscription","Coach"]));_.set(ie.toLowerCase(),{gym:ne,coach:se})});const A=new Map;E.forEach(Q=>{const ie=String(Q.MemberID||Q.member_id||Q.id||Q.member||"").trim();ie&&(A.has(ie)||A.set(ie,[]),A.get(ie).push(Q))});function W(Q){const ie=new Date;let ne=null,se=null;const we=Q||[];for(const ae of we){const at=String(ae.Particulars||ae.particulars||ae.type||ae.item||ae.description||"").trim(),Dt=at.toLowerCase(),ze=_.get(Dt)||{gym:null,coach:null},Ae=ae.GymValidUntil||ae.gymvaliduntil||ae.gym_valid_until||ae.gym_until||ae.EndDate||ae.enddate||ae.end_date||ae.end||ae.valid_until||ae.expiry||ae.expires||ae.until,Lt=ae.CoachValidUntil||ae.coachvaliduntil||ae.coach_valid_until||ae.coach_until,ee=Ae||Lt;if(Ae||ee){const ce=Ae?new Date(Ae):ee?new Date(ee):null;ce&&(ze.gym===!0||ze.gym===null&&/member|gym/i.test(at))&&(ne=!ne||ce>ne?ce:ne)}if(Lt||ee){const ce=Lt?new Date(Lt):ee?new Date(ee):null;ce&&(ze.coach===!0||ze.coach===null&&/coach|trainer|pt/i.test(at))&&(se=!se||ce>se?ce:se)}}return{membershipEnd:ne,membershipState:ne==null?null:ne>=ie?"active":"expired",coachEnd:se,coachActive:!!(se&&se>=ie)}}let $=0,V=0;for(const Q of L){const ie=String(Q.MemberID||Q.member_id||Q.id||"").trim(),ne=A.get(ie)||[],se=W(ne);se.membershipState==="active"&&$++,se.coachActive&&V++}const J=li(),q=[];for(const Q of U){const ie=Q.Date||Q.date;if(!ie)continue;new Date(ie).toLocaleDateString("en-CA",{year:"numeric",month:"2-digit",day:"2-digit"})===J&&q.push(Q)}const te=new Set(q.map(Q=>String(Q.MemberID||Q.member_id||Q.id||"").trim()).filter(Boolean)),re=te.size;let pe=0;for(const Q of te){const ie=A.get(Q)||[];W(ie).coachActive&&pe++}const X=q.filter(Q=>!String(Q.TimeOut||Q.timeout||"").trim()).length;let le=0,oe=0,B=0;for(const Q of E){const ie=Q.Date||Q.date||Q.pay_date;if(!ie||new Date(ie).toLocaleDateString("en-CA",{year:"numeric",month:"2-digit",day:"2-digit"})!==J)continue;const se=parseFloat(Q.Cost||Q.amount||0)||0;B+=se;const we=String(Q.Mode||Q.mode||Q.method||"").toLowerCase();we==="cash"&&(le+=se),we==="gcash"&&(oe+=se)}t({totalMembers:L.length,activeGym:$,activeCoach:V,visitedToday:re,coachToday:pe,checkedIn:X,cashToday:le,gcashToday:oe,totalPaymentsToday:B}),r(!1),s(!1)},20)}v();const N=yt.on("gymEntry:added",async P=>{try{const M=await tr();f((M==null?void 0:M.rows)||(M==null?void 0:M.data)||[])}catch{}}),j=yt.on("member:updated",async()=>{try{const P=await Xt();u((P==null?void 0:P.rows)||(P==null?void 0:P.data)||[])}catch{}});return()=>{N(),j()}},[]),l.jsxs(l.Fragment,{children:[i&&l.jsx("div",{style:{position:"fixed",top:0,left:0,right:0,zIndex:9999,background:"#2563eb",color:"#fff",padding:"10px 0",textAlign:"center",fontWeight:700,boxShadow:"0 2px 8px rgba(0,0,0,.08)"},children:"Loading dashboard data, please wait..."}),l.jsxs("div",{className:"dashboard-content",children:[l.jsx("h2",{className:"dashboard-title",children:"Daily Dashboard"}),l.jsxs("div",{className:"dashboard-grid-3x3",children:[l.jsxs("div",{className:"dashboard-card",children:[l.jsx("div",{className:"dashboard-label",children:"Total Members"}),l.jsx("div",{className:"dashboard-value magenta",children:e.totalMembers})]}),l.jsxs("div",{className:"dashboard-card",children:[l.jsx("div",{className:"dashboard-label",children:"Active Gym Memberships"}),l.jsx("div",{className:"dashboard-value magenta",children:e.activeGym})]}),l.jsxs("div",{className:"dashboard-card",children:[l.jsx("div",{className:"dashboard-label",children:"Active Coach Subscriptions"}),l.jsx("div",{className:"dashboard-value magenta",children:e.activeCoach})]}),l.jsxs("div",{className:"dashboard-card",children:[l.jsx("div",{className:"dashboard-label",children:"Member Visits"}),l.jsx("div",{className:"dashboard-value magenta",children:e.visitedToday})]}),l.jsxs("div",{className:"dashboard-card",children:[l.jsx("div",{className:"dashboard-label",children:"Coaching Sessions"}),l.jsx("div",{className:"dashboard-value magenta",children:e.coachToday})]}),l.jsxs("div",{className:"dashboard-card",children:[l.jsx("div",{className:"dashboard-label",children:"Currently Checked-In"}),l.jsx("div",{className:"dashboard-value magenta",children:e.checkedIn})]}),l.jsxs("div",{className:"dashboard-card",children:[l.jsx("div",{className:"dashboard-label",children:"Cash Revenue"}),l.jsxs("div",{className:"dashboard-value magenta",children:[" ",e.cashToday.toLocaleString()]})]}),l.jsxs("div",{className:"dashboard-card",children:[l.jsx("div",{className:"dashboard-label",children:"GCash Revenue"}),l.jsxs("div",{className:"dashboard-value magenta",children:[" ",e.gcashToday.toLocaleString()]})]}),l.jsxs("div",{className:"dashboard-card",children:[l.jsx("div",{className:"dashboard-label",children:"Total Revenue"}),l.jsxs("div",{className:"dashboard-value magenta",children:[" ",(e.totalPaymentsToday||0).toLocaleString()]})]})]}),l.jsxs("div",{style:{marginTop:24},className:"panel",children:[l.jsx("div",{className:"panel-header",children:"Gym Entries Today"}),l.jsxs("table",{className:"aligned",children:[l.jsx("thead",{children:l.jsxs("tr",{children:[l.jsx("th",{children:"Nick Name"}),l.jsx("th",{children:"Time In"}),l.jsx("th",{children:"Time Out"}),l.jsx("th",{children:"Total Hours"}),l.jsx("th",{children:"Coach"}),l.jsx("th",{children:"Focus"})]})}),l.jsx("tbody",{children:b})]})]}),l.jsx(Gh,{open:!!p,onClose:()=>h(null),row:p}),l.jsxs("div",{style:{marginTop:24},className:"panel",children:[l.jsx("div",{className:"panel-header",children:"Payments Today"}),l.jsxs("table",{className:"aligned",children:[l.jsx("thead",{children:l.jsxs("tr",{children:[l.jsx("th",{children:"Nick Name"}),l.jsx("th",{children:"Particulars"}),l.jsxs("th",{children:["Gym Membership",l.jsx("br",{}),"Valid Until"]}),l.jsxs("th",{children:["Coach Subscription",l.jsx("br",{}),"Valid Until"]}),l.jsx("th",{children:"Mode"}),l.jsx("th",{children:"Cost"})]})}),l.jsx("tbody",{children:k})]})]}),n&&l.jsx("div",{style:{marginTop:24},children:"Loading"})]})]})}const Lx="modulepreload",Rx=function(e){return"/kusgan-frontend/"+e},Md={},Ra=function(t,n,r){let i=Promise.resolve();if(n&&n.length>0){document.getElementsByTagName("link");const o=document.querySelector("meta[property=csp-nonce]"),u=(o==null?void 0:o.nonce)||(o==null?void 0:o.getAttribute("nonce"));i=Promise.allSettled(n.map(a=>{if(a=Rx(a),a in Md)return;Md[a]=!0;const c=a.endsWith(".css"),d=c?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${a}"]${d}`))return;const f=document.createElement("link");if(f.rel=c?"stylesheet":Lx,c||(f.as="script"),f.crossOrigin="",f.href=a,u&&f.setAttribute("nonce",u),document.head.appendChild(f),c)return new Promise((m,w)=>{f.addEventListener("load",m),f.addEventListener("error",()=>w(new Error(`Unable to preload CSS for ${a}`)))})}))}function s(o){const u=new Event("vite:preloadError",{cancelable:!0});if(u.payload=o,window.dispatchEvent(u),!u.defaultPrevented)throw o}return i.then(o=>{for(const u of o||[])u.status==="rejected"&&s(u.reason);return t().catch(s)})};function Oa(){return Oa=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Oa.apply(null,arguments)}function Id(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Aa(e,t){return Aa=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,r){return n.__proto__=r,n},Aa(e,t)}function Ox(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,Aa(e,t)}var _d=Number.isNaN||function(t){return typeof t=="number"&&t!==t};function Ax(e,t){return!!(e===t||_d(e)&&_d(t))}function Fx(e,t){if(e.length!==t.length)return!1;for(var n=0;n<e.length;n++)if(!Ax(e[n],t[n]))return!1;return!0}function jo(e,t){t===void 0&&(t=Fx);var n,r=[],i,s=!1;function o(){for(var u=[],a=0;a<arguments.length;a++)u[a]=arguments[a];return s&&n===this&&t(u,r)||(i=e.apply(this,u),s=!0,n=this,r=u),i}return o}var zx=typeof performance=="object"&&typeof performance.now=="function",Td=zx?function(){return performance.now()}:function(){return Date.now()};function Pd(e){cancelAnimationFrame(e.id)}function Ux(e,t){var n=Td();function r(){Td()-n>=t?e.call(null):i.id=requestAnimationFrame(r)}var i={id:requestAnimationFrame(r)};return i}var Co=-1;function Dd(e){if(e===void 0&&(e=!1),Co===-1||e){var t=document.createElement("div"),n=t.style;n.width="50px",n.height="50px",n.overflow="scroll",document.body.appendChild(t),Co=t.offsetWidth-t.clientWidth,document.body.removeChild(t)}return Co}var hr=null;function Ld(e){if(e===void 0&&(e=!1),hr===null||e){var t=document.createElement("div"),n=t.style;n.width="50px",n.height="50px",n.overflow="scroll",n.direction="rtl";var r=document.createElement("div"),i=r.style;return i.width="100px",i.height="100px",t.appendChild(r),document.body.appendChild(t),t.scrollLeft>0?hr="positive-descending":(t.scrollLeft=1,t.scrollLeft===0?hr="negative":hr="positive-ascending"),document.body.removeChild(t),hr}return hr}var $x=150,Bx=function(t,n){return t};function Vx(e){var t,n=e.getItemOffset,r=e.getEstimatedTotalSize,i=e.getItemSize,s=e.getOffsetForIndexAndAlignment,o=e.getStartIndexForOffset,u=e.getStopIndexForStartIndex,a=e.initInstanceProps,c=e.shouldResetStyleCacheOnItemSizeChange,d=e.validateProps;return t=function(f){Ox(m,f);function m(x){var y;return y=f.call(this,x)||this,y._instanceProps=a(y.props,Id(y)),y._outerRef=void 0,y._resetIsScrollingTimeoutId=null,y.state={instance:Id(y),isScrolling:!1,scrollDirection:"forward",scrollOffset:typeof y.props.initialScrollOffset=="number"?y.props.initialScrollOffset:0,scrollUpdateWasRequested:!1},y._callOnItemsRendered=void 0,y._callOnItemsRendered=jo(function(C,g,p,h){return y.props.onItemsRendered({overscanStartIndex:C,overscanStopIndex:g,visibleStartIndex:p,visibleStopIndex:h})}),y._callOnScroll=void 0,y._callOnScroll=jo(function(C,g,p){return y.props.onScroll({scrollDirection:C,scrollOffset:g,scrollUpdateWasRequested:p})}),y._getItemStyle=void 0,y._getItemStyle=function(C){var g=y.props,p=g.direction,h=g.itemSize,b=g.layout,k=y._getItemStyleCache(c&&h,c&&b,c&&p),v;if(k.hasOwnProperty(C))v=k[C];else{var N=n(y.props,C,y._instanceProps),j=i(y.props,C,y._instanceProps),P=p==="horizontal"||b==="horizontal",M=p==="rtl",D=P?N:0;k[C]=v={position:"absolute",left:M?void 0:D,right:M?D:void 0,top:P?0:N,height:P?"100%":j,width:P?j:"100%"}}return v},y._getItemStyleCache=void 0,y._getItemStyleCache=jo(function(C,g,p){return{}}),y._onScrollHorizontal=function(C){var g=C.currentTarget,p=g.clientWidth,h=g.scrollLeft,b=g.scrollWidth;y.setState(function(k){if(k.scrollOffset===h)return null;var v=y.props.direction,N=h;if(v==="rtl")switch(Ld()){case"negative":N=-h;break;case"positive-descending":N=b-p-h;break}return N=Math.max(0,Math.min(N,b-p)),{isScrolling:!0,scrollDirection:k.scrollOffset<N?"forward":"backward",scrollOffset:N,scrollUpdateWasRequested:!1}},y._resetIsScrollingDebounced)},y._onScrollVertical=function(C){var g=C.currentTarget,p=g.clientHeight,h=g.scrollHeight,b=g.scrollTop;y.setState(function(k){if(k.scrollOffset===b)return null;var v=Math.max(0,Math.min(b,h-p));return{isScrolling:!0,scrollDirection:k.scrollOffset<v?"forward":"backward",scrollOffset:v,scrollUpdateWasRequested:!1}},y._resetIsScrollingDebounced)},y._outerRefSetter=function(C){var g=y.props.outerRef;y._outerRef=C,typeof g=="function"?g(C):g!=null&&typeof g=="object"&&g.hasOwnProperty("current")&&(g.current=C)},y._resetIsScrollingDebounced=function(){y._resetIsScrollingTimeoutId!==null&&Pd(y._resetIsScrollingTimeoutId),y._resetIsScrollingTimeoutId=Ux(y._resetIsScrolling,$x)},y._resetIsScrolling=function(){y._resetIsScrollingTimeoutId=null,y.setState({isScrolling:!1},function(){y._getItemStyleCache(-1,null)})},y}m.getDerivedStateFromProps=function(y,C){return Wx(y,C),d(y),null};var w=m.prototype;return w.scrollTo=function(y){y=Math.max(0,y),this.setState(function(C){return C.scrollOffset===y?null:{scrollDirection:C.scrollOffset<y?"forward":"backward",scrollOffset:y,scrollUpdateWasRequested:!0}},this._resetIsScrollingDebounced)},w.scrollToItem=function(y,C){C===void 0&&(C="auto");var g=this.props,p=g.itemCount,h=g.layout,b=this.state.scrollOffset;y=Math.max(0,Math.min(y,p-1));var k=0;if(this._outerRef){var v=this._outerRef;h==="vertical"?k=v.scrollWidth>v.clientWidth?Dd():0:k=v.scrollHeight>v.clientHeight?Dd():0}this.scrollTo(s(this.props,y,C,b,this._instanceProps,k))},w.componentDidMount=function(){var y=this.props,C=y.direction,g=y.initialScrollOffset,p=y.layout;if(typeof g=="number"&&this._outerRef!=null){var h=this._outerRef;C==="horizontal"||p==="horizontal"?h.scrollLeft=g:h.scrollTop=g}this._callPropsCallbacks()},w.componentDidUpdate=function(){var y=this.props,C=y.direction,g=y.layout,p=this.state,h=p.scrollOffset,b=p.scrollUpdateWasRequested;if(b&&this._outerRef!=null){var k=this._outerRef;if(C==="horizontal"||g==="horizontal")if(C==="rtl")switch(Ld()){case"negative":k.scrollLeft=-h;break;case"positive-ascending":k.scrollLeft=h;break;default:var v=k.clientWidth,N=k.scrollWidth;k.scrollLeft=N-v-h;break}else k.scrollLeft=h;else k.scrollTop=h}this._callPropsCallbacks()},w.componentWillUnmount=function(){this._resetIsScrollingTimeoutId!==null&&Pd(this._resetIsScrollingTimeoutId)},w.render=function(){var y=this.props,C=y.children,g=y.className,p=y.direction,h=y.height,b=y.innerRef,k=y.innerElementType,v=y.innerTagName,N=y.itemCount,j=y.itemData,P=y.itemKey,M=P===void 0?Bx:P,D=y.layout,z=y.outerElementType,O=y.outerTagName,T=y.style,R=y.useIsScrolling,I=y.width,L=this.state.isScrolling,E=p==="horizontal"||D==="horizontal",U=E?this._onScrollHorizontal:this._onScrollVertical,F=this._getRangeToRender(),_=F[0],H=F[1],K=[];if(N>0)for(var A=_;A<=H;A++)K.push(S.createElement(C,{data:j,key:M(A,j),index:A,isScrolling:R?L:void 0,style:this._getItemStyle(A)}));var W=r(this.props,this._instanceProps);return S.createElement(z||O||"div",{className:g,onScroll:U,ref:this._outerRefSetter,style:Oa({position:"relative",height:h,width:I,overflow:"auto",WebkitOverflowScrolling:"touch",willChange:"transform",direction:p},T)},S.createElement(k||v||"div",{children:K,ref:b,style:{height:E?"100%":W,pointerEvents:L?"none":void 0,width:E?W:"100%"}}))},w._callPropsCallbacks=function(){if(typeof this.props.onItemsRendered=="function"){var y=this.props.itemCount;if(y>0){var C=this._getRangeToRender(),g=C[0],p=C[1],h=C[2],b=C[3];this._callOnItemsRendered(g,p,h,b)}}if(typeof this.props.onScroll=="function"){var k=this.state,v=k.scrollDirection,N=k.scrollOffset,j=k.scrollUpdateWasRequested;this._callOnScroll(v,N,j)}},w._getRangeToRender=function(){var y=this.props,C=y.itemCount,g=y.overscanCount,p=this.state,h=p.isScrolling,b=p.scrollDirection,k=p.scrollOffset;if(C===0)return[0,0,0,0];var v=o(this.props,k,this._instanceProps),N=u(this.props,v,k,this._instanceProps),j=!h||b==="backward"?Math.max(1,g):1,P=!h||b==="forward"?Math.max(1,g):1;return[Math.max(0,v-j),Math.max(0,Math.min(C-1,N+P)),v,N]},m}(S.PureComponent),t.defaultProps={direction:"ltr",itemData:void 0,layout:"vertical",overscanCount:2,useIsScrolling:!1},t}var Wx=function(t,n){t.children,t.direction,t.height,t.layout,t.innerTagName,t.outerTagName,t.width,n.instance},Jh=Vx({getItemOffset:function(t,n){var r=t.itemSize;return n*r},getItemSize:function(t,n){var r=t.itemSize;return r},getEstimatedTotalSize:function(t){var n=t.itemCount,r=t.itemSize;return r*n},getOffsetForIndexAndAlignment:function(t,n,r,i,s,o){var u=t.direction,a=t.height,c=t.itemCount,d=t.itemSize,f=t.layout,m=t.width,w=u==="horizontal"||f==="horizontal",x=w?m:a,y=Math.max(0,c*d-x),C=Math.min(y,n*d),g=Math.max(0,n*d-x+d+o);switch(r==="smart"&&(i>=g-x&&i<=C+x?r="auto":r="center"),r){case"start":return C;case"end":return g;case"center":{var p=Math.round(g+(C-g)/2);return p<Math.ceil(x/2)?0:p>y+Math.floor(x/2)?y:p}case"auto":default:return i>=g&&i<=C?i:i<g?g:C}},getStartIndexForOffset:function(t,n){var r=t.itemCount,i=t.itemSize;return Math.max(0,Math.min(r-1,Math.floor(n/i)))},getStopIndexForStartIndex:function(t,n,r){var i=t.direction,s=t.height,o=t.itemCount,u=t.itemSize,a=t.layout,c=t.width,d=i==="horizontal"||a==="horizontal",f=n*u,m=d?c:s,w=Math.ceil((m+r-f)/u);return Math.max(0,Math.min(o-1,n+w-1))},initInstanceProps:function(t){},shouldResetStyleCacheOnItemSizeChange:!0,validateProps:function(t){t.itemSize}});const Hx=Se.lazy(()=>Ra(()=>import("./AddMemberModal-CUrNZgRH.js"),[])),Gx=e=>String(e||"").trim().toLowerCase().replace(/\s+/g,"_"),Rd=e=>["yes","y","true","1"].includes(String(e||"").trim().toLowerCase()),Re=(e,t)=>t.map(n=>e[n]).find(n=>n!==void 0&&n!==""),nn=e=>{if(e instanceof Date)return e;const t=new Date(e);return isNaN(t)?null:t},Qx=(e,t)=>e&&t&&e.getFullYear()===t.getFullYear()&&e.getMonth()===t.getMonth()&&e.getDate()===t.getDate(),Jc=e=>{const t={};return Object.entries(e||{}).forEach(([n,r])=>{t[Gx(n)]=r}),t},Od=e=>String(e||"").toLowerCase().replace(/(?:^|[\s\-])([a-z])/g,(n,r)=>n.replace(r,r.toUpperCase())),yn=e=>e?`${["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"][e.getMonth()]}-${e.getDate()}, ${e.getFullYear()}`:"";function Jx(e){const t=new Map;for(const r of e){const i=Jc(r),s=Re(i,["memberid","member_id","id","member_id_"]);if(!s)continue;const o=String(Re(i,["type","item","category","product","paymentfor","plan","description","particulars","particular"])||"").toLowerCase(),u=nn(Re(i,["gymvaliduntil","gym_valid_until","gym_valid","gym_validity","gym_until","gymvalid","enddate","end_date","valid_until","expiry","expires","until","end"])),a=nn(Re(i,["coachvaliduntil","coach_valid_until","coach_valid","coach_until","coachvalid","enddate","end_date","valid_until","expiry","expires","until","end"])),c=t.get(s)||{},d=/coach|trainer|pt/.test(o),f=/member|gym/.test(o)&&!d;if(u&&(!c.membershipEnd||u>c.membershipEnd)&&(c.membershipEnd=u),a&&(!c.coachEnd||a>c.coachEnd)&&(c.coachEnd=a),!u&&!a){const m=nn(Re(i,["enddate","end_date","valid_until","end","until","expiry","expires"]));m&&(d?(!c.coachEnd||m>c.coachEnd)&&(c.coachEnd=m):f&&(!c.membershipEnd||m>c.membershipEnd)&&(c.membershipEnd=m))}t.set(s,c)}const n=new Date;for(const[r,i]of t)i.membershipState=i.membershipEnd==null?null:i.membershipEnd>=n?"active":"expired",i.coachActive=!!(i.coachEnd&&i.coachEnd>=n);return t}function Kx(e){const t=new Map;for(const n of e){const r=Jc(n),i=Re(r,["memberid","member_id","id","member_id_"]);if(!i)continue;const s=nn(Re(r,["date","visit_date","entry_date","log_date","timestamp","checkin"]));if(!s)continue;const o=t.get(i);(!o||s>o)&&t.set(i,s)}return t}function Yx(){const e=Jr(),[t,n]=S.useState(50),[r,i]=S.useState([]),[s,o]=S.useState(new Map),[u,a]=S.useState(new Map),[c,d]=S.useState(!0),[f,m]=S.useState(!1),[w,x]=S.useState(""),[y,C]=S.useState(""),[g,p]=S.useState(""),[h,b]=S.useState(!1),k=S.useRef(null),[v,N]=S.useState(!1);async function j(){const[M,D,z]=await Promise.all([on("Members"),zn(),tr()]),O=((M==null?void 0:M.rows)??(M==null?void 0:M.data)??[]).map(Jc),T=(D==null?void 0:D.rows)??(D==null?void 0:D.data)??[],R=(z==null?void 0:z.rows)??(z==null?void 0:z.data)??[];i(O),o(Jx(T)),a(Kx(R))}S.useEffect(()=>{let M=!0;return m(!0),(async()=>{try{if(await j(),!M)return}catch(D){console.error(D),M&&x(D.message||"Failed to fetch")}finally{M&&d(!1),m(!1)}})(),()=>{M=!1}},[]),S.useEffect(()=>(k.current&&clearTimeout(k.current),k.current=setTimeout(()=>p(y.trim()),250),()=>{k.current&&clearTimeout(k.current)}),[y]);const P=S.useMemo(()=>{const M=g.trim().toLowerCase();let D=r;M&&(D=r.filter(T=>["first_name","firstname","last_name","lastname","nick_name","nickname","mobile","email"].some(R=>String(T[R]??"").toLowerCase().includes(M))));const z=new Date,O=D.map(T=>{const R=Re(T,["memberid","member_id","id","member_id_"]),I=R?u.get(R):null,L=I?Qx(I,z):!1,E=nn(Re(T,["member_since","membersince","join_date","joined","start_date"])),U=E?E.getTime():0,F=I?I.getTime():-1;return{r:T,lastVisit:I,isToday:L,joinTs:U,visitTs:F,memberId:R}});return O.sort((T,R)=>R.joinTs-T.joinTs||R.visitTs-T.visitTs),O},[r,g,u]);return S.useCallback((M,D)=>{M&&e(`/members/${encodeURIComponent(M)}`,{state:{row:D}})},[e]),console.log("Members.jsx state:",{loading:c,error:w,rows:r,filteredSorted:P}),l.jsxs("div",{className:"content",children:[l.jsx("h2",{className:"dashboard-title",children:"All Members"}),l.jsxs("div",{className:"toolbar",style:{display:"flex",justifyContent:"center",alignItems:"center",gap:12,marginBottom:12},children:[l.jsx("input",{className:"search-wide",style:{width:"60%",maxWidth:960,minWidth:320},placeholder:"Search members by name",value:y,onChange:M=>C(M.target.value)}),l.jsx("button",{className:"button",onClick:()=>N(!0),children:"+ Add Member"})]}),f&&l.jsx("div",{style:{position:"fixed",top:0,left:0,right:0,zIndex:9999,background:"#2563eb",color:"#fff",padding:"10px 0",textAlign:"center",fontWeight:700,boxShadow:"0 2px 8px rgba(0,0,0,.08)"},children:"Loading data, please wait..."}),c&&l.jsx(dl,{}),w&&l.jsxs("div",{children:["Error: ",w]}),!c&&!w&&l.jsxs("div",{className:"panel",children:[r.length===0&&l.jsxs("div",{style:{padding:24,textAlign:"center",color:"#b91c1c",fontWeight:600},children:["No member data loaded.",l.jsx("br",{}),"Please check your API connection or try again later."]}),l.jsx("div",{style:{width:"100%"},children:P.length===0?l.jsx("div",{style:{padding:12},children:"No members found."}):P.length<=t?l.jsx("div",{style:{display:"flex",justifyContent:"center"},children:l.jsxs("table",{className:"attendance-table aligned",style:{width:"90%"},children:[l.jsxs("colgroup",{children:[l.jsx("col",{style:{width:"15%"}}),l.jsx("col",{style:{width:"25%"}}),l.jsx("col",{style:{width:"15%"}}),l.jsx("col",{style:{width:"15%"}}),l.jsx("col",{style:{width:"15%"}}),l.jsx("col",{style:{width:"15%"}})]}),l.jsx("thead",{children:l.jsxs("tr",{children:[l.jsx("th",{style:{textAlign:"center"},children:"Nick Name"}),l.jsx("th",{style:{textAlign:"left"},children:"Full Name"}),l.jsx("th",{style:{textAlign:"center"},children:"Member Since"}),l.jsx("th",{style:{textAlign:"center"},children:"Last Gym Visit"}),l.jsx("th",{style:{textAlign:"center"},children:"Gym Valid Until"}),l.jsx("th",{style:{textAlign:"center"},children:"Coach Valid Until"})]})}),l.jsx("tbody",{children:P.slice(0,t).map(({r:M,lastVisit:D,isToday:z,memberId:O},T)=>{const R=O?s.get(O):void 0,I=Rd(Re(M,["student","is_student","student?"]));let L=Number(Re(M,["age","years_old"]));if(isNaN(L)){const $=Re(M,["birthday","birth_date","dob"]),V=nn($);if(V){const J=new Date;L=J.getFullYear()-V.getFullYear()-(J.getMonth()<V.getMonth()||J.getMonth()===V.getMonth()&&J.getDate()<V.getDate()?1:0)}}const E=!isNaN(L)&&L>=60,U=String(Re(M,["first_name","firstname","first","given_name"])??""),F=String(Re(M,["last_name","lastname","last","surname"])??""),_=[U,F].filter(Boolean).map(Od).join(" "),H=String(M.nick_name??M.nickname??"").toUpperCase(),K=nn(Re(M,["member_since","membersince","join_date","joined","start_date"])),A=(R==null?void 0:R.membershipEnd)||null,W=(R==null?void 0:R.coachEnd)||null;return l.jsxs("tr",{className:"row-link",onClick:()=>e(`/members/${encodeURIComponent(O)}`,{state:{row:M}}),style:{cursor:"pointer"},children:[l.jsx("td",{style:{textAlign:"center"},children:l.jsx("strong",{children:H})}),l.jsxs("td",{style:{textAlign:"left"},children:[_," ",l.jsxs("span",{style:{display:"inline-flex",gap:6,marginLeft:8},children:[I&&l.jsx("span",{className:"pill student",children:"Student"}),E&&l.jsx("span",{className:"pill senior",children:"Senior"})]})]}),l.jsx("td",{style:{textAlign:"center"},children:yn(K)}),l.jsx("td",{style:{textAlign:"center"},children:z?l.jsx("span",{className:"pill ok",children:"Visited today"}):D?yn(new Date(D)):""}),l.jsx("td",{style:{textAlign:"center",color:A?new Date(A)>=new Date?"green":"red":"inherit"},children:A?yn(new Date(A)):""}),l.jsx("td",{style:{textAlign:"center",color:W?new Date(W)>=new Date?"green":"red":"inherit"},children:W?yn(new Date(W)):""})]},T)})})]})}):l.jsxs("div",{style:{width:"100%"},children:[l.jsxs("div",{style:{display:"flex",padding:"8px 12px",fontWeight:700,borderBottom:"1px solid var(--light-border)",background:"var(--panel-header-bg)"},children:[l.jsx("div",{style:{width:"15%",textAlign:"center"},children:"Nick Name"}),l.jsx("div",{style:{width:"25%",textAlign:"left"},children:"Full Name"}),l.jsx("div",{style:{width:"15%",textAlign:"center"},children:"Member Since"}),l.jsx("div",{style:{width:"15%",textAlign:"center"},children:"Last Gym Visit"}),l.jsx("div",{style:{width:"15%",textAlign:"center"},children:"Gym Valid Until"}),l.jsx("div",{style:{width:"15%",textAlign:"center"},children:"Coach Valid Until"})]}),l.jsx(Jh,{height:Math.min(600,Math.max(200,Math.min(P.length,t)*56)),itemCount:Math.min(P.length,t),itemSize:56,width:"100%",children:({index:M,style:D})=>{const{r:z,lastVisit:O,isToday:T,memberId:R}=P[M],I=R?s.get(R):void 0,L=Rd(Re(z,["student","is_student","student?"]));let E=Number(Re(z,["age","years_old"]));if(isNaN(E)){const V=Re(z,["birthday","birth_date","dob"]),J=nn(V);if(J){const q=new Date;E=q.getFullYear()-J.getFullYear()-(q.getMonth()<J.getMonth()||q.getMonth()===J.getMonth()&&q.getDate()<J.getDate()?1:0)}}const U=!isNaN(E)&&E>=60,F=String(Re(z,["first_name","firstname","first","given_name"])??""),_=String(Re(z,["last_name","lastname","last","surname"])??""),H=[F,_].filter(Boolean).map(Od).join(" "),K=String(z.nick_name??z.nickname??"").toUpperCase(),A=nn(Re(z,["member_since","membersince","join_date","joined","start_date"])),W=(I==null?void 0:I.membershipEnd)||null,$=(I==null?void 0:I.coachEnd)||null;return l.jsxs("div",{style:{...D,display:"flex",alignItems:"center",padding:"8px 12px",borderBottom:"1px solid rgba(0,0,0,0.04)",cursor:"pointer"},className:"row-link",onClick:()=>e(`/members/${encodeURIComponent(R)}`,{state:{row:z}}),children:[l.jsx("div",{style:{width:"15%",textAlign:"center"},children:l.jsx("strong",{children:K})}),l.jsxs("div",{style:{width:"25%"},children:[H,l.jsxs("span",{style:{display:"inline-flex",gap:6,marginLeft:8,verticalAlign:"middle"},children:[L&&l.jsx("span",{className:"pill student",children:"Student"}),U&&l.jsx("span",{className:"pill senior",children:"Senior"})]})]}),l.jsx("div",{style:{width:"15%",textAlign:"center"},children:yn(A)}),l.jsx("div",{style:{width:"15%",textAlign:"center"},children:T?l.jsx("span",{className:"pill ok",children:"Visited today"}):O?yn(new Date(O)):""}),l.jsx("div",{style:{width:"15%",textAlign:"center",color:W?new Date(W)>=new Date?"green":"red":"inherit"},children:W?yn(new Date(W)):""}),l.jsx("div",{style:{width:"15%",textAlign:"center",color:$?new Date($)>=new Date?"green":"red":"inherit"},children:$?yn(new Date($)):""})]},M)}})]})}),P.length>t&&l.jsx("div",{style:{padding:8,textAlign:"center"},children:l.jsxs("button",{className:"button",onClick:()=>n(M=>Math.min(M+50,P.length)),children:["Load more (",P.length-t," more)"]})})]}),l.jsx(S.Suspense,{fallback:l.jsx(dl,{}),children:l.jsx(Hx,{open:v,onClose:()=>N(!1),onSaved:async()=>{try{await j()}catch{}}})})]})}const Kh=e=>{const n=String(e||"").match(/(?:\/file\/d\/|[?&]id=|\/uc\?[^#]*id=)([^/&?#]+)/);return n&&n[1]?n[1]:""},Xx=e=>{const t=String(e||"");if(!t)return"";const n=t.match(/https?:\/\/[^\s}]+/);if(n){const i=n[0];if(/googleusercontent\.com\//.test(i))return i;const s=i.match(/(?:\/file\/d\/|[?&]id=|\/uc\?[^#]*id=)([^/&?#]+)/);return s&&s[1]?`https://drive.google.com/uc?export=view&id=${s[1]}`:i}if(/googleusercontent\.com\//.test(t))return t;const r=Kh(t);return r?`https://drive.google.com/uc?export=view&id=${r}`:t},qx=e=>{const t=String(e||"");if(/googleusercontent\.com\//.test(t))return t;const n=Kh(t);return n?`https://drive.google.com/thumbnail?id=${n}&sz=w1000`:t},Zx=e=>{const t=(e||"").replace(/[^a-zA-Z0-9]/g,"").toUpperCase(),n=new Date;return`${t}${String(n.getFullYear()).slice(-2)}${String(n.getMonth()+1).padStart(2,"0")}${String(n.getDate()).padStart(2,"0")}`.slice(0,12)},No=e=>{const t=String(e||"").trim();return t?t.charAt(0).toUpperCase()+t.slice(1).toLowerCase():""},e1=["Poblacion","Himorasak","Quiot","Anislag"],t1=["Isabel","Matag-ob","Merida","Ormoc"];function Ad(){var K;const e=Jr(),t=Vn(),n=Oc(),r=((K=t.state)==null?void 0:K.editOf)||null,i=n.memberId||null,s=S.useRef(null),o=S.useRef(null),u=S.useRef(null),[a,c]=S.useState(null),[d,f]=S.useState(""),[m,w]=S.useState(!1),x=S.useRef(null),y=A=>{var $;const W=($=A.target.files)==null?void 0:$[0];W&&(c(W),f(URL.createObjectURL(W)))},C=async()=>{var W;if(!(window.isSecureContext||t.hostname==="localhost"||t.hostname==="127.0.0.1")){alert("Camera requires HTTPS or localhost. Please open the site on https:// or run locally.");return}if(!((W=navigator.mediaDevices)!=null&&W.getUserMedia)){alert("Camera not available on this browser/device.");return}try{const $={video:{facingMode:{ideal:"environment"},width:{ideal:1280},height:{ideal:720}},audio:!1},V=await navigator.mediaDevices.getUserMedia($);x.current=V,w(!0),requestAnimationFrame(()=>{const J=o.current;J&&(J.srcObject=V,J.setAttribute("playsinline","true"),J.muted=!0,J.play().catch(()=>{}))})}catch{alert("Unable to access camera. Please allow camera permission in your browser settings.")}},g=()=>{var A,W;w(!1),(W=(A=x.current)==null?void 0:A.getTracks)==null||W.call(A).forEach($=>$.stop()),x.current=null},p=()=>{const A=o.current,W=u.current;if(!A||!W)return;const $=3/4,V=600,J=800,q=300*1024,te=A.videoWidth||1280,re=A.videoHeight||960,pe=te/re;let X,le,oe,B;pe>$?(B=re,oe=Math.round(re*$),X=Math.round((te-oe)/2),le=0):(oe=te,B=Math.round(te/$),X=0,le=Math.round((re-B)/2)),W.width=V,W.height=J;const Q=W.getContext("2d");Q.imageSmoothingEnabled=!0,Q.imageSmoothingQuality="high",Q.drawImage(A,X,le,oe,B,0,0,V,J);const ie=ne=>new Promise(se=>W.toBlob(se,"image/jpeg",ne));(async()=>{let ne=.82,se=await ie(ne);for(;se&&se.size>q&&ne>.5;)ne-=.1,se=await ie(ne);if(!se)return;const we=new File([se],`passport-${Date.now()}.jpg`,{type:"image/jpeg"});c(we),f(URL.createObjectURL(we)),g()})()},[h,b]=S.useState({lastName:"",firstName:"",middleName:"",nickName:"",gender:"",birthday:"",street:"",brgy:"",municipality:"",email:"",mobile:"",validId:"",student:!1}),[k,v]=S.useState(!1),[N,j]=S.useState(""),[P,M]=S.useState("");S.useMemo(()=>Zx(h.nickName),[h.nickName]);const D=A=>{const{name:W,value:$,type:V,checked:J}=A.target;if(W==="student-select"){b(q=>({...q,student:String($)==="Yes"}));return}b(q=>({...q,[W]:V==="checkbox"?J:$}))},[z,O]=S.useState(!1),[T,R]=S.useState(""),I=S.useRef(null),[L,E]=S.useState(null);async function U(A){const W=String(A||"").trim().toLowerCase();if(!W)return!1;try{const $=await zc();return(($==null?void 0:$.rows)??($==null?void 0:$.data)??[]).some(J=>String(J.NickName??J.Nickname??J["Nick Name"]??J.nickName??J.nickname??"").trim().toLowerCase()===W)}catch{return!1}}function F(A,...W){if(!A)return;for(const V of W)if(A[V]!==void 0&&A[V]!==null&&A[V]!=="")return A[V];const $={};for(const[V,J]of Object.entries(A))$[V.toLowerCase()]=J;for(const V of W){const J=String(V).toLowerCase();if($[J]!==void 0&&$[J]!=="")return $[J];const q=J.replace(/\s+/g,"");if($[q]!==void 0&&$[q]!=="")return $[q];const te=J.replace(/\s+/g,"_");if($[te]!==void 0&&$[te]!=="")return $[te]}}S.useEffect(()=>{let A=!0;return(async()=>{try{const W=r,$=i?decodeURIComponent(i):"";if(!W&&!$)return;v(!0);let V=W;if(!V&&$){const at=await Ll($);at&&(V=at)}if(!V)return;const J=String(F(V,"MemberID","memberId","memberid","member_id","member_id_","Member ID","id")||"").trim(),q=F(V,"LastName","lastName","lastname","last_name","Last"),te=F(V,"FirstName","firstName","firstname","first_name","First"),re=F(V,"MiddleName","middleName","middlename","middle_name"),pe=F(V,"NickName","Nickname","Nick Name","nickName","nick_name","nickname","nick"),X=F(V,"Gender","gender"),le=F(V,"Birthday","birthday","birth_date","dob","Birthdate","Birth Date"),oe=F(V,"Street","street"),B=F(V,"Brgy","Barangay","brgy","barangay"),Q=F(V,"Municipality","City","municipality","city"),ie=F(V,"Email","email"),ne=F(V,"Mobile","Phone","mobile","phone"),se=F(V,"ValidID","Valid Id","Valid ID","validId","valid_id","valid id"),we=String(F(V,"Student","student")||"").toLowerCase().startsWith("y"),ae=F(V,"PhotoURL","photoUrl","photourl","photo_url","photo");if(!A)return;j(J),M(ae||""),b({lastName:String(q||""),firstName:String(te||""),middleName:String(re||""),nickName:String(pe||""),gender:String(X||""),birthday:le?new Date(le).toISOString().slice(0,10):"",street:String(oe||""),brgy:String(B||""),municipality:String(Q||""),email:String(ie||""),mobile:String(ne||""),validId:String(se||""),student:we}),ae&&f(qx(Xx(ae)))}catch{}})(),()=>{A=!1}},[r,i]);function _(A,W=new Date){const V=String(A||"").replace(/[^A-Za-z0-9]/g,"").toUpperCase().slice(0,6),J=String(W.getFullYear()%100).padStart(2,"0"),q=String(W.getMonth()+1).padStart(2,"0"),te=String(W.getDate()).padStart(2,"0");return(V+J+q+te).slice(0,12)}async function H(A){var W,$;if(A.preventDefault(),!z){O(!0),R("");try{if(!k&&await U(h.nickName)){R("Nick Name is already taken. Please choose a different one."),(W=I.current)==null||W.focus(),O(!1);return}const V=String(h.nickName||"").trim().toUpperCase(),J=No(h.lastName),q=No(h.firstName),te=No(h.middleName),re=k?N:_(V,new Date),pe=String(re).toLowerCase();let X="";if(a){const oe=await Zi(a,pe);X=typeof oe=="string"?oe:(oe==null?void 0:oe.url)||""}else k&&(X=P||"");const le={LastName:J,FirstName:q,MiddleName:te,NickName:V,Gender:h.gender,Birthday:h.birthday||"",Street:h.street.trim(),Brgy:h.brgy.trim(),Municipality:h.municipality.trim(),Email:h.email.trim(),Mobile:h.mobile.trim(),ValidID:h.validId.trim(),Student:h.student?"Yes":"No",PhotoURL:X};if(k){const oe={MemberID:N,...le},B=await Dl(oe);if(!(B!=null&&B.ok))throw new Error((B==null?void 0:B.error)||"Update failed");E({type:"success",text:"Member updated successfully"});const Q=String(N).toLowerCase();setTimeout(()=>{e(`/members/${encodeURIComponent(Q)}`,{state:{row:{...le,MemberID:Q}}})},700)}else{const oe=await $c({...le,MemberSince:new Date});if(!(oe!=null&&oe.ok))throw new Error((oe==null?void 0:oe.error)||"Save failed");const B=oe.memberId||pe,Q=String(B).toLowerCase();e(`/members/${encodeURIComponent(Q)}`,{state:{row:{...le,MemberID:Q}}})}}catch(V){const J=String((V==null?void 0:V.message)||V||"");/nick name is already taken/i.test(J)?(R("Nick Name is already taken. Please choose a different one."),($=I.current)==null||$.focus()):alert(J||"Failed to save")}finally{O(!1)}}}return l.jsxs("div",{className:"content",children:[l.jsx("h2",{children:k?"Edit Member":"Add Member"}),L&&l.jsx("div",{style:{position:"fixed",top:20,right:20,background:L.type==="success"?"#16a34a":"#ef4444",color:"#fff",padding:"10px 14px",borderRadius:10,boxShadow:"0 6px 16px rgba(0,0,0,.15)",zIndex:9999},children:L.text}),l.jsxs("form",{onSubmit:H,style:{display:"grid",gap:16},children:[l.jsxs("div",{className:"form-grid-3",children:[l.jsx("div",{className:"photo-section",children:d?l.jsx("img",{className:"photo-preview",src:d,alt:"preview"}):l.jsx("div",{className:"photo-placeholder",children:"No photo"})}),l.jsxs("div",{children:[l.jsxs("div",{className:"camera-row",style:{marginBottom:10},children:[l.jsx("button",{type:"button",className:"camera-btn",onClick:C,disabled:z,title:k?"Capture a new photo to replace the existing one":"Open camera to take a new photo",children:k?" Change Photo":" Open Camera"}),l.jsx("input",{ref:s,type:"file",accept:"image/*",capture:"environment",onChange:y,style:{display:"none"}})]}),l.jsxs("div",{className:`field ${T?"error":""}`,children:[l.jsx("label",{className:"label",children:"Nick Name *"}),l.jsx("input",{ref:I,name:"nickName",value:h.nickName,onChange:A=>{R(""),D(A)},required:!0,"aria-invalid":!!T,"aria-describedby":T?"nick-error":void 0,disabled:z||k}),k&&l.jsx("div",{style:{fontSize:12,color:"#6b7280"},children:"Nick Name is locked for existing members."}),T&&l.jsx("div",{id:"nick-error",className:"small-error",children:T})]}),l.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 160px",gap:12,alignItems:"end",marginTop:10},children:[l.jsxs("div",{className:"field",style:{margin:0},children:[l.jsx("label",{className:"label",children:"Valid ID *"}),l.jsx("input",{name:"validId",value:h.validId,onChange:D,required:!0,disabled:z})]}),l.jsxs("div",{className:"field",style:{margin:0},children:[l.jsx("label",{className:"label",children:"Student"}),l.jsxs("select",{name:"student-select",value:h.student?"Yes":"No",onChange:D,disabled:z,children:[l.jsx("option",{children:"Yes"}),l.jsx("option",{children:"No"})]})]})]})]}),l.jsx("div",{})]}),l.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr 1fr",gap:12},children:[l.jsxs("div",{className:"field",children:[l.jsx("label",{className:"label",children:"Last Name *"}),l.jsx("input",{name:"lastName",value:h.lastName,onChange:D,required:!0})]}),l.jsxs("div",{className:"field",children:[l.jsx("label",{className:"label",children:"First Name *"}),l.jsx("input",{name:"firstName",value:h.firstName,onChange:D,required:!0})]}),l.jsxs("div",{className:"field",children:[l.jsx("label",{className:"label",children:"Middle Name"}),l.jsx("input",{name:"middleName",value:h.middleName,onChange:D})]})]}),l.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr 1fr",gap:12},children:[l.jsxs("div",{className:"field",children:[l.jsx("label",{className:"label",children:"Last Name *"}),l.jsx("input",{name:"lastName",value:h.lastName,onChange:D,required:!0})]}),l.jsxs("div",{className:"field",children:[l.jsx("label",{className:"label",children:"First Name *"}),l.jsx("input",{name:"firstName",value:h.firstName,onChange:D,required:!0})]}),l.jsxs("div",{className:"field",children:[l.jsx("label",{className:"label",children:"Middle Name"}),l.jsx("input",{name:"middleName",value:h.middleName,onChange:D})]})]}),l.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:12},children:[l.jsxs("div",{className:"field",children:[l.jsx("label",{className:"label",children:"Birthday *"}),l.jsx("input",{type:"date",name:"birthday",value:h.birthday,onChange:D,required:!0})]}),l.jsxs("div",{className:"field",children:[l.jsx("label",{className:"label",children:"Gender *"}),l.jsxs("select",{name:"gender",value:h.gender,onChange:D,required:!0,children:[l.jsx("option",{value:"",children:" Select "}),l.jsx("option",{children:"Male"}),l.jsx("option",{children:"Female"})]})]})]}),l.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:12},children:[l.jsxs("div",{className:"field",children:[l.jsx("label",{className:"label",children:"Mobile No. *"}),l.jsx("input",{name:"mobile",value:h.mobile,onChange:D,placeholder:"09XXXXXXXXX",required:!0})]}),l.jsxs("div",{className:"field",children:[l.jsx("label",{className:"label",children:"Email Address"}),l.jsx("input",{name:"email",value:h.email,onChange:D,placeholder:"name@example.com"})]})]}),l.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr 2fr",gap:12},children:[l.jsxs("div",{className:"field",children:[l.jsx("label",{className:"label",children:"Municipality / City"}),l.jsx("input",{name:"municipality",list:"muni-list",value:h.municipality,onChange:D,placeholder:"Type or select"}),l.jsx("datalist",{id:"muni-list",children:t1.map(A=>l.jsx("option",{value:A},A))})]}),l.jsxs("div",{className:"field",children:[l.jsx("label",{className:"label",children:"Brgy."}),l.jsx("input",{name:"brgy",list:"brgy-list",value:h.brgy,onChange:D,placeholder:"Type or select"}),l.jsx("datalist",{id:"brgy-list",children:e1.map(A=>l.jsx("option",{value:A},A))})]}),l.jsxs("div",{className:"field",children:[l.jsx("label",{className:"label",children:"House No. / Street Name / Sitio"}),l.jsx("input",{name:"street",value:h.street,onChange:D})]})]}),l.jsxs("div",{style:{display:"flex",gap:12,marginTop:8},children:[l.jsx("button",{type:"button",className:"back-btn",onClick:()=>e(-1),disabled:z,children:" Back"}),l.jsx("button",{type:"submit",className:"back-btn",disabled:z,children:z?"Saving":k?" Save Changes":" Save Member"})]})]}),m&&l.jsx("div",{style:{position:"fixed",inset:0,background:"rgba(0,0,0,.5)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:9999},children:l.jsxs("div",{style:{background:"#fff",padding:16,borderRadius:12,width:"min(92vw, 720px)"},children:[l.jsx("video",{ref:o,playsInline:!0,style:{width:"100%",borderRadius:8}}),l.jsxs("div",{style:{display:"flex",gap:12,marginTop:12,justifyContent:"flex-end"},children:[l.jsx("button",{type:"button",className:"button",onClick:p,children:" Capture"}),l.jsx("button",{type:"button",className:"button",onClick:g,children:"Close"})]}),l.jsx("canvas",{ref:u,style:{display:"none"}})]})})]})}const Al="Asia/Manila",oi=()=>new Intl.DateTimeFormat("en-CA",{timeZone:Al,year:"numeric",month:"2-digit",day:"2-digit"}).format(new Date),Fd=()=>new Intl.DateTimeFormat("en-PH",{timeZone:Al,hour:"2-digit",minute:"2-digit",hour12:!1}).format(new Date).replace(/^(\d{2}):(\d{2}).*$/,"$1:$2"),Yh=e=>{if(!e)return null;const t=String(e).trim();if(/^\d{4}-\d{2}-\d{2}$/.test(t)){const[n,r,i]=t.split("-").map(Number);return new Date(Date.UTC(n,r-1,i,0,0,0))}return new Date(t)},bo=e=>{const t=Yh(e);return!t||isNaN(t)?"":new Intl.DateTimeFormat("en-US",{month:"short",day:"numeric",year:"numeric",timeZone:Al}).format(t).replace(" ","-")},n1=e=>{const t=Yh(e);return!t||isNaN(t)?"":new Intl.DateTimeFormat("en-PH",{hour:"numeric",minute:"2-digit",hour12:!0,timeZone:Al}).format(t)},zd=(e,t)=>{if(!e||!t)return"";const[n,r,i]=e.split("-").map(Number),s=new Date(Date.UTC(n,r-1,i));return s.setUTCDate(s.getUTCDate()+Math.max(0,Number(t)-1)),new Intl.DateTimeFormat("en-CA",{timeZone:"UTC",year:"numeric",month:"2-digit",day:"2-digit"}).format(s)};function r1(){const[e,t]=S.useState([]),[n,r]=S.useState([]),[i,s]=S.useState([]),[o,u]=S.useState(!1),[a,c]=S.useState(""),[d,f]=S.useState(""),[m,w]=S.useState({Date:oi(),Time:Fd(),MemberID:"",Particulars:"",StartDate:oi(),EndDate:"",Mode:"",Cost:""}),x=async()=>{c("");try{const v=await zn();t((v==null?void 0:v.rows)||(v==null?void 0:v.data)||v||[])}catch(v){c(v.message||"Failed to load payments")}},y=async()=>{c("");try{const[v,N]=await Promise.all([fn(),Xt()]),j=(v==null?void 0:v.rows)||(v==null?void 0:v.data)||v||[];r(j);const P=((N==null?void 0:N.rows)||(N==null?void 0:N.data)||N||[]).map(M=>({id:M.MemberID||M.ID||M.Id||M.id||"",nickname:M.Nickname||M.Nick||M.nickname||"",first:M.FirstName||M.First||M.GivenName||M.first||"",last:M.LastName||M.Last||M.Surname||M.last||""}));s(P)}catch(v){c(v.message||"Failed to load pricing/members")}};S.useEffect(()=>{x(),y()},[]);const C=v=>{const N=n.find(M=>String(M.Particulars)===String(v)),j=N?(parseFloat(N.Cost)||0).toFixed(2):"",P=N?Number(N.Validity||0):0;w(M=>{const D=M.StartDate||oi(),z=P?zd(D,P):"";return{...M,Particulars:v,Cost:j,StartDate:D,EndDate:z}})},g=v=>{const N=n.find(P=>String(P.Particulars)===String(m.Particulars)),j=N?Number(N.Validity||0):0;w(P=>({...P,StartDate:v,EndDate:j?zd(v,j):""}))},p=(v,N)=>w(j=>({...j,[v]:N})),h=async v=>{if(v.preventDefault(),!m.MemberID)return c("Select a Member.");if(!m.Particulars)return c("Select Particulars.");if(!m.Mode)return c("Select a payment mode.");if(!m.Cost)return c("Cost is missing for this item.");u(!0),c("");try{await Rl({Date:m.Date,Time:m.Time,MemberID:m.MemberID,Particulars:m.Particulars,StartDate:m.StartDate||"",EndDate:m.EndDate||"",Mode:m.Mode,Cost:String(m.Cost).trim()}),w(N=>({...N,Date:oi(),Time:Fd(),MemberID:"",Particulars:"",StartDate:oi(),EndDate:"",Mode:"",Cost:""})),f(""),await x()}catch(N){c(N.message||"Failed to add payment")}finally{u(!1)}},b=S.useMemo(()=>e.reduce((v,N)=>v+(parseFloat(N.Cost)||0),0),[e]),k=S.useMemo(()=>{const v=d.trim().toLowerCase(),N=i.map(j=>({...j,label:`${j.nickname||""}  ${j.first||""} ${j.last||""}`.trim()}));return v?N.filter(j=>[j.nickname,j.first,j.last,`${j.first} ${j.last}`].join(" ").toLowerCase().includes(v)):N},[i,d]);return l.jsxs("div",{className:"content",children:[l.jsx("h2",{children:"Payments"}),a&&l.jsx("div",{className:"small-error",style:{marginBottom:12},children:a}),l.jsxs("form",{onSubmit:h,style:{background:"var(--panel)",border:"1px solid var(--border)",borderRadius:12,padding:16,marginBottom:16},children:[l.jsx("div",{style:{fontWeight:700,marginBottom:10},children:"Add Payment"}),l.jsxs("div",{className:"form-grid",children:[l.jsxs("label",{className:"fg-item",children:[l.jsx("span",{children:"Date"}),l.jsx("input",{type:"date",value:m.Date,readOnly:!0,disabled:!0})]}),l.jsxs("label",{className:"fg-item",children:[l.jsx("span",{children:"Time"}),l.jsx("input",{type:"time",value:m.Time,readOnly:!0,disabled:!0})]}),l.jsxs("div",{className:"fg-item fg-span-2",children:[l.jsx("span",{children:"Member"}),l.jsxs("div",{className:"member-picker",children:[l.jsx("input",{type:"text",className:"member-filter",placeholder:"Search nickname, first or last name",value:d,onChange:v=>f(v.target.value)}),l.jsxs("select",{required:!0,value:m.MemberID,onChange:v=>p("MemberID",v.target.value),children:[l.jsx("option",{value:"",children:"Select member"}),k.map(v=>l.jsx("option",{value:v.id,children:v.label},v.id))]})]})]}),l.jsxs("label",{className:"fg-item",children:[l.jsx("span",{children:"Particulars"}),l.jsxs("select",{value:m.Particulars,onChange:v=>C(v.target.value),required:!0,children:[l.jsx("option",{value:"",children:"Choose product/service"}),n.map((v,N)=>l.jsx("option",{value:v.Particulars,children:v.Particulars},`${v.Particulars}-${N}`))]})]}),l.jsxs("label",{className:"fg-item",children:[l.jsx("span",{children:"Start Date"}),l.jsx("input",{type:"date",value:m.StartDate,onChange:v=>g(v.target.value)})]}),l.jsxs("label",{className:"fg-item",children:[l.jsx("span",{children:"End Date"}),l.jsx("input",{type:"date",value:m.EndDate,readOnly:!0,disabled:!0})]}),l.jsxs("label",{className:"fg-item",children:[l.jsx("span",{children:"Mode"}),l.jsxs("select",{value:m.Mode,onChange:v=>p("Mode",v.target.value),required:!0,children:[l.jsx("option",{value:"",children:"Select mode"}),l.jsx("option",{value:"Cash",children:"Cash"}),l.jsx("option",{value:"GCash",children:"GCash"})]})]}),l.jsxs("label",{className:"fg-item",children:[l.jsx("span",{children:"Cost"}),l.jsx("input",{type:"number",step:"0.01",min:"0",placeholder:"0.00",value:m.Cost,readOnly:!0,disabled:!0})]})]}),l.jsx("div",{style:{marginTop:8,color:"var(--muted)",fontSize:12},children:"Validity is applied inclusive of the Start Date."}),l.jsx("div",{style:{marginTop:12},children:l.jsx("button",{className:"primary-btn",disabled:o,type:"submit",children:"+ Add Payment"})})]}),l.jsxs("div",{style:{background:"var(--panel)",border:"1px solid var(--border)",borderRadius:12,padding:16},children:[l.jsxs("div",{style:{fontWeight:700,marginBottom:10},children:["Payment Records ",e.length?` ${b.toFixed(2)}`:""]}),l.jsxs("table",{className:"attendance-table aligned",children:[l.jsx("thead",{children:l.jsxs("tr",{children:[l.jsx("th",{children:"Date"}),l.jsx("th",{children:"Time"}),l.jsx("th",{children:"MemberID"}),l.jsx("th",{children:"Particulars"}),l.jsx("th",{children:"Start Date"}),l.jsx("th",{children:"End Date"}),l.jsx("th",{children:"Mode"}),l.jsx("th",{style:{textAlign:"right"},children:"Cost"})]})}),l.jsx("tbody",{children:e.length===0?l.jsx("tr",{children:l.jsx("td",{colSpan:8,style:{color:"var(--muted)",textAlign:"center",padding:16},children:"No payments found."})}):e.map((v,N)=>l.jsxs("tr",{children:[l.jsx("td",{children:bo(v.Date)}),l.jsx("td",{children:n1(`${v.Date}T${v.Time||"00:00"}:00+08:00`)}),l.jsx("td",{children:v.MemberID}),l.jsx("td",{children:v.Particulars}),l.jsx("td",{children:v.StartDate?bo(v.StartDate):""}),l.jsx("td",{children:v.EndDate?bo(v.EndDate):""}),l.jsx("td",{children:v.Mode}),l.jsxs("td",{style:{textAlign:"right",whiteSpace:"nowrap"},children:["",Number(v.Cost||0).toFixed(2)]})]},N))})]})]})]})}function i1({open:e,onClose:t,onDetected:n}){const r=S.useRef(null),i=S.useRef(null),[s,o]=S.useState(""),u=S.useRef(0),a=S.useRef(null),c=()=>{u.current&&cancelAnimationFrame(u.current),u.current=0,i.current&&(i.current.getTracks().forEach(m=>m.stop()),i.current=null)};async function d(){var m,w;try{if("BarcodeDetector"in window){const x=await((w=(m=window.BarcodeDetector).getSupportedFormats)==null?void 0:w.call(m))||[];if(x.includes("qr_code")||x.includes("qr"))return a.current=new window.BarcodeDetector({formats:["qr_code"]}),!0}}catch{}return a.current=null,!1}async function f(){o("");const m=await d();try{const w=await navigator.mediaDevices.getUserMedia({video:{facingMode:{ideal:"environment"}},audio:!1});i.current=w;const x=r.current;if(x&&(x.srcObject=w,await x.play().catch(()=>{})),m){const y=async()=>{if(!r.current||r.current.readyState<2){u.current=requestAnimationFrame(y);return}try{const C=await a.current.detect(r.current);if(C&&C.length){const g=String(C[0].rawValue||C[0].raw||"").trim();if(g){n==null||n(g),t==null||t();return}}}catch{}u.current=requestAnimationFrame(y)};u.current=requestAnimationFrame(y)}else o("QR scanning isn't supported by this browser. Type the ID instead.")}catch(w){const x=(w==null?void 0:w.name)||"";o(x==="NotAllowedError"?"Camera permission denied. Allow access in browser/site settings.":x==="NotFoundError"?"No camera found.":"Cannot access camera.")}}return S.useEffect(()=>{if(!e){c();return}return f(),c},[e]),e?l.jsx("div",{style:Ud.overlay,children:l.jsxs("div",{style:Ud.modal,children:[l.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",marginBottom:8},children:[l.jsx("div",{style:{fontWeight:800},children:"Scan QR Code"}),l.jsx("button",{className:"button btn-lg",style:{background:"#555"},onClick:t,children:"Close"})]}),s&&l.jsx("div",{style:{color:"#d33",marginBottom:8},children:s}),l.jsx("video",{ref:r,playsInline:!0,muted:!0,style:{width:"100%",borderRadius:10,background:"#000"}}),l.jsx("div",{style:{color:"#666",fontSize:12,marginTop:8},children:"Point the camera at the QR code."})]})}):null}const Ud={overlay:{position:"fixed",inset:0,background:"rgba(0,0,0,.6)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:1e3},modal:{width:"min(720px, 92vw)",background:"#fff",borderRadius:12,padding:16,border:"1px solid #e7e8ef",boxShadow:"0 6px 24px rgba(0,0,0,.2)"}},mi="Asia/Manila",ko=e=>{var o,u,a;if(!e)return"-";const t=e instanceof Date?e:new Date(e);if(isNaN(t))return"-";const n=new Intl.DateTimeFormat("en-US",{timeZone:mi,month:"short",day:"numeric",year:"numeric"}).formatToParts(t),r=((o=n.find(c=>c.type==="month"))==null?void 0:o.value)||"",i=((u=n.find(c=>c.type==="day"))==null?void 0:u.value)||"",s=((a=n.find(c=>c.type==="year"))==null?void 0:a.value)||"";return`${r}-${i}, ${s}`};function $d(e,t,n){const r=new Date;let i=null,s=null;const o=new Map,u=Array.isArray(n)?n:[],a=f=>{const m=String(f??"").trim().toLowerCase();return m==="yes"||m==="y"||m==="true"||m==="1"},c=(f,m)=>{for(const w of m){if(f&&Object.prototype.hasOwnProperty.call(f,w))return f[w];const x=Object.keys(f||{}).find(y=>y.toLowerCase().replace(/\s+/g,"")===w.toLowerCase().replace(/\s+/g,""));if(x)return f[x]}};u.forEach(f=>{const m=String(c(f,["Particulars"])||"").trim();if(!m)return;const w=a(c(f,["Gym membership","Gym Membership","GymMembership","Membership"])),x=a(c(f,["Coach subscription","Coach Subscription","CoachSubscription","Coach"]));o.set(m.toLowerCase(),{gym:w,coach:x})});const d=String(t||"").trim().toLowerCase();for(const f of e){const m=Object.fromEntries(Object.entries(f||{}).map(([k,v])=>[String(k||"").toLowerCase().replace(/\s+/g,""),v])),w=String(m.memberid||m.member_id||m.member_id_||m.id||"").trim().toLowerCase();if(!w||w!==d)continue;const x=String(m.particulars||m.type||m.item||m.category||m.product||m.paymentfor||m.plan||m.description||"").trim(),y=m.gymvaliduntil||m.gym_valid_until||m.gym_until,C=m.coachvaliduntil||m.coach_valid_until||m.coach_until,g=m.enddate||m.end_date||m.valid_until||m.expiry||m.expires||m.until||m.end,p=y?new Date(y):g?new Date(g):null,h=C?new Date(C):g?new Date(g):null,b=o.get(x.toLowerCase())||{gym:null,coach:null};p&&(b.gym===!0||b.gym===null&&/member|gym/i.test(x))&&(i=!i||p>i?p:i),h&&(b.coach===!0||b.coach===null&&/coach|trainer|pt/i.test(x))&&(s=!s||h>s?h:s)}return{membershipEnd:i,membershipState:i==null?null:i>=r?"active":"expired",coachEnd:s,coachActive:!!(s&&s>=r)}}const s1=["Full body","Upper body","Lower body","Chest","Other"],l1=["Coach Jojo","Coach Elmer"],Xh=e=>{const n=String(e||"").match(/(?:\/file\/d\/|[?&]id=|\/uc\?[^#]*id=)([^/&?#]+)/);return n&&n[1]?n[1]:""},o1=e=>{const t=String(e||"");if(!t)return"";const n=t.match(/https?:\/\/[^\s}]+/);if(n){const i=n[0];if(/googleusercontent\.com\//.test(i))return i;const s=i.match(/(?:\/file\/d\/|[?&]id=|\/uc\?[^#]*id=)([^/&?#]+)/);return s&&s[1]?`https://drive.google.com/uc?export=view&id=${s[1]}`:i}if(/googleusercontent\.com\//.test(t))return t;const r=Xh(t);return r?`https://drive.google.com/uc?export=view&id=${r}`:t},a1=e=>{const t=String(e||"");if(/googleusercontent\.com\//.test(t))return t;const n=Xh(t);return n?`https://drive.google.com/thumbnail?id=${n}&sz=w1000`:t};function c1(){const[e,t]=S.useState(!1),[n,r]=S.useState(""),[i,s]=S.useState([]),[o,u]=S.useState(null),[a,c]=S.useState([]),[d,f]=S.useState(null),[m,w]=S.useState(!1),[x,y]=S.useState(""),[C,g]=S.useState(""),[p,h]=S.useState(""),[b,k]=S.useState(!1),[v,N]=S.useState(""),[j,P]=S.useState(""),[M,D]=S.useState(!1),[z,O]=S.useState(!1),T=S.useRef(null),R=S.useRef(null);S.useEffect(()=>{let _=!0;return(async()=>{try{const[H,K,A]=await Promise.all([Xt(),Ra(()=>Promise.resolve().then(()=>Cd),void 0).then(q=>q.fetchPayments()),Ra(()=>Promise.resolve().then(()=>Cd),void 0).then(q=>q.fetchPricing())]);if(!_)return;const W=((H==null?void 0:H.rows)||(H==null?void 0:H.data)||[]).slice(),$=(K==null?void 0:K.rows)||(K==null?void 0:K.data)||[],V=(A==null?void 0:A.rows)||(A==null?void 0:A.data)||[],J=W.filter(q=>{const te=q.MemberID||q.member_id||q.id,re=$.filter(X=>String(X.MemberID||X.member_id||X.id||"").trim()===String(te).trim());return $d(re,te,V).membershipState==="active"});J.sort((q,te)=>{const re=String(q.Nickname||q.NickName||q["Nick Name"]||"").toLowerCase(),pe=String(te.Nickname||te.NickName||te["Nick Name"]||"").toLowerCase();return re.localeCompare(pe)}),s(J)}catch(H){console.error(H)}})(),()=>{_=!1}},[]),S.useEffect(()=>{O(!1)},[o==null?void 0:o.member]);const I=async _=>{const[H,K]=await Promise.all([Vi(_),fn()]),A=(K==null?void 0:K.rows)||(K==null?void 0:K.data)||[];u(H),c(A);const W=$d(H.payments||[],_,A);return f(W),{b:H,rows:A,status:W}},L=async _=>{var q,te;const H=String(_||"").trim();if(!H)return;r(H),w(!0),h(""),u(null),f(null);const K=await I(H),A=((q=K==null?void 0:K.b)==null?void 0:q.member)||null,W=K==null?void 0:K.status;if(A&&(A.NickName||A.Nickname||A["Nick Name"]||A.nick_name||A.nickname),!A||(W==null?void 0:W.membershipState)!=="active"){h(null),setTimeout(()=>{h("NO ACTIVE GYM MEMBERSHIP")},100);return}const $=new Intl.DateTimeFormat("en-CA",{timeZone:mi,year:"numeric",month:"2-digit",day:"2-digit"}).format(new Date);(((te=K==null?void 0:K.b)==null?void 0:te.gymEntries)||[]).filter(re=>{const pe=(re==null?void 0:re.Date)||(re==null?void 0:re.date);if(!pe)return!1;const X=new Date(pe);return new Intl.DateTimeFormat("en-CA",{timeZone:mi,year:"numeric",month:"2-digit",day:"2-digit"}).format(X)===$}).find(re=>!String((re==null?void 0:re.TimeOut)||"").trim())?(D(!0),h("")):(D(!1),h(""))},E=async()=>{const _=new Intl.DateTimeFormat("en-US",{timeZone:mi,month:"short",day:"numeric",year:"numeric",hour:"numeric",minute:"2-digit"}).format(new Date),H=(F==null?void 0:F.nick)||"Member";h(`${H} checked in on ${_}.`),k(!0),w(!1),N(""),P(""),D(!0);const K=new Date().toISOString();try{u(W=>{const $={MemberID:n,Date:K,TimeIn:K};return d!=null&&d.coachActive&&x&&($.Coach=x),d!=null&&d.coachActive&&C&&($.Focus=C),v&&($.Comments=v),{...W||{},gymEntries:[$,...(W==null?void 0:W.gymEntries)||[]]}})}catch{}R.current&&clearTimeout(R.current);const A=2e3;T.current&&T.current.timer&&(clearTimeout(T.current.timer),T.current=null),T.current={type:"checkin",memberId:n,nowIso:K,aborted:!1,timer:setTimeout(async()=>{var W;if((W=T.current)!=null&&W.aborted){T.current=null;return}try{const $={};d!=null&&d.coachActive&&x&&($.Coach=x),d!=null&&d.coachActive&&C&&($.Focus=C),v&&($.Comments=v);try{await cl(n,$)}catch{const J={};d!=null&&d.coachActive&&x&&(J.Coach=x),d!=null&&d.coachActive&&C&&(J.Focus=C),v&&(J.Comments=v),await _h(n,J)}T.current=null,R.current=setTimeout(()=>{k(!1),h("")},1400)}catch($){console.error("gymClockIn failed",$),h("Check-in failed  please retry"),k(!0),D(!1),u(V=>{if(!V)return V;const J=(V.gymEntries||[]).filter(q=>!(String(q.MemberID||"")===String(n)&&String(q.TimeIn||"")===String(K)));return{...V,gymEntries:J}}),T.current=null,R.current=setTimeout(()=>{k(!1),h("")},4e3)}},A)},k(!0),R.current=setTimeout(()=>{T.current||(k(!1),h(""))},3500)},U=async()=>{const _=new Intl.DateTimeFormat("en-US",{timeZone:mi,month:"short",day:"numeric",year:"numeric",hour:"numeric",minute:"2-digit"}).format(new Date),H=(F==null?void 0:F.nick)||"Member";h(`${H} checked out on ${_}.`),k(!0),w(!1),P(""),N(""),D(!1);try{u(A=>{if(!A)return A;const W=(A.gymEntries||[]).slice();for(let $=0;$<W.length;$++){const V=W[$],J=String((V==null?void 0:V.TimeOut)||"").trim();if(!J||J==="-"||J===""){W[$]={...V,TimeOut:new Date().toISOString()};break}}return{...A,gymEntries:W}})}catch{}R.current&&clearTimeout(R.current);const K=2e3;T.current&&T.current.timer&&(clearTimeout(T.current.timer),T.current=null),T.current={type:"checkout",memberId:n,aborted:!1,timer:setTimeout(async()=>{var A;if((A=T.current)!=null&&A.aborted){T.current=null;return}try{try{await cl(n,{wantsOut:!0,Workouts:j})}catch{await Th(n,{Workouts:j})}T.current=null,R.current=setTimeout(()=>{k(!1),h("")},1400)}catch(W){console.error("gymClockOut failed",W),h("Check-out failed  please retry"),k(!0),D(!0),u($=>{if(!$)return $;const V=($.gymEntries||[]).map(J=>String(J.MemberID||"")===String(n)&&String(J.TimeOut||"").length>0?{...J,TimeOut:""}:J);return{...$,gymEntries:V}}),T.current=null,R.current=setTimeout(()=>{k(!1),h("")},4e3)}},K)},k(!0),R.current=setTimeout(()=>{T.current||(k(!1),h(""))},3500)},F=S.useMemo(()=>{const _=(o==null?void 0:o.member)||null;if(!_)return null;const H=q=>q.map(te=>_[te]).find(te=>te!==void 0&&te!==""),K=H(["FirstName","First","first"]),A=H(["LastName","Last","last"]),W=H(["NickName","Nickname","Nick Name","nick_name","nickname"]),$=H(["PhotoURL","Photo","photo","photo_url"]),V=a1(o1($)),J=_.MemberSince||_["Member Since"]||_.Joined||_["Join Date"]||_.join_date;return{first:K,last:A,nick:W,photo:V,memberSince:J}},[o]);return l.jsxs("div",{className:"content",children:[l.jsx("h2",{children:"Member Check-In"}),l.jsx("div",{className:"card",style:{marginTop:8,marginBottom:12,maxWidth:480,minHeight:600,marginLeft:"auto",marginRight:"auto",padding:16,border:"2px solid #d7d9e5",background:"#fff",boxShadow:"0 10px 24px rgba(0,0,0,.12)",display:"flex",alignItems:"center",justifyContent:"center"},children:l.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:12,alignItems:"center",width:"100%"},children:[l.jsx("img",{src:"/kusgan-frontend/favicon.png",onError:_=>{try{_.currentTarget.onerror=null,_.currentTarget.src="/kusgan-frontend/kusgan-logo.png"}catch{}},alt:"Kusgan logo",style:{width:250,height:250,objectFit:"contain",opacity:1,marginBottom:8}}),l.jsx("div",{style:{maxWidth:420,width:"100%",margin:"0 auto"},children:l.jsx("button",{className:"primary-btn",style:{fontSize:"1.1rem",height:54,width:"100%"},onClick:()=>t(!0),children:" Scan QR Code"})}),l.jsx("div",{style:{color:"#666",textAlign:"center",marginTop:24},children:"or select a member below"}),l.jsx("div",{style:{maxWidth:420,width:"100%",margin:"0 auto"},children:l.jsxs("select",{value:n,onChange:_=>r(_.target.value),style:{width:"100%",height:44,padding:"8px 12px",border:"1px solid #e7e8ef",borderRadius:10},children:[l.jsx("option",{value:"",children:"Select member"}),i.map(_=>l.jsxs("option",{value:_.MemberID,children:[_.Nickname||_.NickName||_["Nick Name"]||"Member","  ",_.FirstName||_.First||""," ",_.LastName||_.Last||""]},_.MemberID))]})}),l.jsx("div",{style:{maxWidth:420,width:"100%",margin:"0 auto"},children:l.jsx("button",{className:"primary-btn",style:{fontSize:"1.1rem",height:54,width:"100%"},onClick:()=>{n&&L(n)},children:"Proceed"})})]})}),l.jsx(i1,{open:e,onClose:()=>t(!1),onDetected:L}),m&&l.jsx("div",{style:u1,children:l.jsxs("div",{style:d1,children:[l.jsx("div",{style:{display:"flex",justifyContent:"flex-end",alignItems:"center",marginBottom:8},children:l.jsx("button",{className:"button btn-lg",style:{background:"#555"},onClick:()=>{w(!1),h("")},children:p?"Close":"Cancel"})}),p==="NO ACTIVE GYM MEMBERSHIP"?l.jsx("div",{style:{color:"#d6002a",fontWeight:900,fontSize:32,textAlign:"center",padding:"32px 0"},children:p}):F?l.jsxs(l.Fragment,{children:[l.jsxs("div",{style:{display:"grid",gridTemplateColumns:"auto 1fr",gap:16,alignItems:"center"},children:[l.jsx("div",{style:{width:150,height:200,borderRadius:12,overflow:"hidden",border:"1px solid #e7e8ef",background:"#fafbff"},children:F.photo&&!z?l.jsx("img",{src:F.photo,alt:"Member",style:{width:"100%",height:"100%",objectFit:"cover"},onError:_=>{O(!0),_.currentTarget.onerror=null}}):l.jsx("div",{style:{display:"flex",width:"100%",height:"100%",alignItems:"center",justifyContent:"center",color:"#999"},children:"No Photo"})}),l.jsxs("div",{children:[l.jsx("div",{style:{fontWeight:900,fontSize:28,lineHeight:1.1},children:F.nick||"-"}),l.jsx("div",{style:{fontWeight:700,fontSize:18,color:"#444",marginTop:4},children:[F.first,F.last].filter(Boolean).join(" ")||"-"}),l.jsx("div",{style:{fontStyle:"italic",color:"#666",marginTop:8},children:"Member Since"}),l.jsx("div",{style:{fontWeight:800,fontSize:16},children:ko(F.memberSince)})]})]}),l.jsx("div",{className:"status-tiles",style:{marginTop:14},children:(()=>{const _=(d==null?void 0:d.membershipState)==null?"none":d.membershipState,H=d!=null&&d.coachEnd?d.coachEnd>=new Date?"active":"expired":"none";return l.jsxs(l.Fragment,{children:[l.jsxs("div",{className:`status-tile ${_}`,children:[l.jsx("div",{className:"title",children:"Gym Membership"}),l.jsxs("div",{style:{marginBottom:10},children:[_==="active"&&l.jsx("span",{className:"pill ok",children:"Active"}),_==="expired"&&l.jsx("span",{className:"pill bad",children:"Expired"}),_==="none"&&l.jsx("span",{className:"pill",style:{background:"#fff",color:"#555",borderColor:"#ddd"},children:"None"})]}),l.jsx("div",{className:"label",children:"Valid until"}),l.jsx("div",{className:"value",children:ko(d==null?void 0:d.membershipEnd)})]}),l.jsxs("div",{className:`status-tile ${H}`,children:[l.jsx("div",{className:"title",children:"Coach Subscription"}),l.jsxs("div",{style:{marginBottom:10},children:[H==="active"&&l.jsx("span",{className:"pill ok",children:"Active"}),H==="expired"&&l.jsx("span",{className:"pill bad",children:"Expired"}),H==="none"&&l.jsx("span",{className:"pill",style:{background:"#fff",color:"#555",borderColor:"#ddd"},children:"None"})]}),l.jsx("div",{className:"label",children:"Valid until"}),l.jsx("div",{className:"value",children:ko(d==null?void 0:d.coachEnd)})]})]})})()})]}):l.jsx(dl,{}),!p&&l.jsx(l.Fragment,{children:M?l.jsxs(l.Fragment,{children:[l.jsxs("div",{className:"field",style:{marginTop:16},children:[l.jsx("label",{className:"label",children:"Workouts Done"}),l.jsx("textarea",{value:j,onChange:_=>P(_.target.value),placeholder:"Describe workouts done (optional)",style:{width:"100%",minHeight:48,borderRadius:8,border:"1px solid #e7e8ef",padding:"8px 12px",fontSize:15,resize:"vertical"}})]}),l.jsx("div",{style:{display:"flex",justifyContent:"flex-end",marginTop:16},children:l.jsx("button",{className:"primary-btn",onClick:U,children:"Confirm Check-Out"})})]}):l.jsxs(l.Fragment,{children:[(d==null?void 0:d.coachActive)&&l.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:12,marginTop:14},children:[l.jsxs("div",{className:"field",children:[l.jsx("label",{className:"label",children:"Coach"}),l.jsxs("select",{value:x,onChange:_=>y(_.target.value),children:[l.jsx("option",{value:"",children:"(Select)"}),l1.map(_=>l.jsx("option",{value:_,children:_},_))]})]}),l.jsxs("div",{className:"field",children:[l.jsx("label",{className:"label",children:"Workout Focus"}),l.jsxs("select",{value:C,onChange:_=>g(_.target.value),children:[l.jsx("option",{value:"",children:"(none)"}),s1.map(_=>l.jsx("option",{value:_,children:_},_))]})]})]}),l.jsxs("div",{className:"field",style:{marginTop:16},children:[l.jsx("label",{className:"label",children:"Comments"}),l.jsx("textarea",{value:v,onChange:_=>N(_.target.value),placeholder:"Add comments (optional)",style:{width:"100%",minHeight:48,borderRadius:8,border:"1px solid #e7e8ef",padding:"8px 12px",fontSize:15,resize:"vertical"}})]}),l.jsx("div",{style:{display:"flex",justifyContent:"flex-end",marginTop:16},children:l.jsx("button",{className:"primary-btn",onClick:E,children:"Confirm Check-In"})})]})})]})}),b&&l.jsx("div",{style:{position:"fixed",top:24,right:24,zIndex:2e3,pointerEvents:T.current?"auto":"none"},children:l.jsxs("div",{style:{display:"flex",gap:12,alignItems:"center",background:"#333",color:"#fff",fontWeight:600,fontSize:16,borderRadius:8,boxShadow:"0 2px 12px rgba(0,0,0,.12)",padding:"10px 14px",minWidth:220,textAlign:"left",letterSpacing:.1},children:[l.jsx("div",{style:{flex:1},children:p}),T.current?l.jsx("button",{style:{background:"transparent",color:"#fff",border:"1px solid rgba(255,255,255,0.18)",padding:"6px 10px",borderRadius:6,cursor:"pointer"},onClick:()=>{const _=T.current;if(_){try{_.timer&&clearTimeout(_.timer)}catch{}T.current=null,_.type==="checkin"?(D(!1),u(H=>{if(!H)return H;const K=(H.gymEntries||[]).filter(A=>!(String(A.MemberID||"")===String(_.memberId)&&String(A.TimeIn||"")===String(_.nowIso)));return{...H,gymEntries:K}})):_.type==="checkout"&&(D(!0),u(H=>{if(!H)return H;const K=(H.gymEntries||[]).map(A=>String(A.MemberID||"")===String(_.memberId)&&String(A.TimeOut||"").length>0?{...A,TimeOut:""}:A);return{...H,gymEntries:K}})),h("Action cancelled"),k(!0),R.current&&clearTimeout(R.current),R.current=setTimeout(()=>{k(!1),h("")},1800)}},children:"Undo"}):null]})})]})}const u1={position:"fixed",inset:0,background:"rgba(0,0,0,.6)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:1e3},d1={width:"min(720px, 96vw)",background:"#fff",borderRadius:12,padding:16,border:"1px solid #e7e8ef",boxShadow:"0 6px 24px rgba(0,0,0,.2)"},fl="Asia/Manila",f1=new Intl.DateTimeFormat("en-PH",{hour:"numeric",minute:"2-digit",hour12:!0,timeZone:fl}),Bd=e=>{if(!e)return"";try{const t=new Date(e);return isNaN(t)?String(e):f1.format(t)}catch{return String(e)}},Cs=()=>{const e=new Date;try{return new Intl.DateTimeFormat("en-CA",{timeZone:fl}).format(e)}catch{const n=e.getFullYear(),r=String(e.getMonth()+1).padStart(2,"0"),i=String(e.getDate()).padStart(2,"0");return`${n}-${r}-${i}`}},ml=(e,t)=>e?t?/^\d{2}:\d{2}$/.test(t)?`${e}T${t}:00`:t:"":t||"",m1=(e,t,n)=>{const r=ml(e,t),i=ml(e,n);if(!r||!i)return 0;const s=new Date(r),o=new Date(i);if(isNaN(s)||isNaN(o))return 0;let u=(o.getTime()-s.getTime())/(1e3*60*60);return u<0&&(u+=24),Math.round(u*100)/100},Vd=e=>{if(!e)return"";try{const t=new Date(e),n={month:"short",day:"numeric",year:"numeric"};return new Intl.DateTimeFormat("en-US",n).format(t).replace(",","-")}catch{return e}};function h1(){const e=["Coach Elmer","Coach Jojo","Patpat","Sheen","Jeanette","Xyza","Bezza","Johanna"],[t,n]=S.useState([]),[r,i]=S.useState(!0),[s,o]=S.useState(!1),[u,a]=S.useState(""),[c,d]=S.useState(""),[f,m]=S.useState(!1),[w,x]=S.useState(20),[y,C]=S.useState([]),[g,p]=S.useState(10),[h,b]=S.useState(!1),k=async()=>{o(!0),a("");try{const O=await Bc(),T=(O==null?void 0:O.rows)??(O==null?void 0:O.data)??[];n(Array.isArray(T)?T:[]);try{const R=await Xt(),I=(R==null?void 0:R.rows)??(R==null?void 0:R.data)??[],L=[];for(const E of Array.isArray(I)?I:[]){const U=String((E==null?void 0:E.NickName)||(E==null?void 0:E.nickname)||(E==null?void 0:E.nick_name)||(E==null?void 0:E.first_name)||(E==null?void 0:E.firstname)||(E==null?void 0:E.Name)||(E==null?void 0:E.name)||(E==null?void 0:E["Full Name"])||"").trim();U&&L.push(U)}C(Array.from(new Set(L)).sort((E,U)=>E.localeCompare(U)))}catch{}}catch(O){console.error(O),a((O==null?void 0:O.message)||"Failed to load attendance")}finally{i(!1),o(!1)}};S.useEffect(()=>{k()},[]);const v=S.useMemo(()=>{const O=new Map,T=Array.isArray(t)&&t.length?t.slice(Math.max(0,t.length-g)):[];for(const I of T){const L={};Object.keys(I||{}).forEach(re=>{const pe=String(re||"").toLowerCase().replace(/\s+/g,"").replace(/[^a-z0-9_]/g,"");L[pe]=I[re]});const E=String(L.staff||L.name||L.fullname||L.fullname||L.employee||L.employeeid||"").trim();if(!E)continue;const U=String(I.Date||I.date||I.DateTime||I.datetime||I.LogDate||I.log_date||"").slice(0,10)||Cs(),F=String(I.TimeIn||I.timein||I.time_in||L.timein||L.timeinlocal||"").trim(),_=String(I.TimeOut||I.timeout||I.time_out||L.timeout||L.timeoutlocal||"").trim(),H=`${U}|${E}`;let K=O.get(H);K||(K={staff:E,date:U,sessions:[],totalHours:0,clockedIn:!1},O.set(H,K));const A=ml(U,F),W=ml(U,_),$=A||F||"",V=W||_||"",J=$?Bd($):"",q=V?Bd(V):"";F&&K.sessions.push({in:$,out:V,formattedIn:J,formattedOut:q});const te=m1(U,F,_);te>0&&(K.totalHours=Math.round((K.totalHours+te)*100)/100),F&&!_&&(K.clockedIn=!0)}const R=Array.from(O.values());R.sort((I,L)=>(L.date||"").localeCompare(I.date||"")||I.staff.localeCompare(L.staff));for(const I of R)I.sessions.sort((L,E)=>(L.in||"").localeCompare(E.in||""));return R},[t]),N=S.useMemo(()=>{const O=new Set;for(const T of v)T&&T.staff&&O.add(T.staff);for(const T of y||[])T&&O.add(T);for(const T of e)T&&O.add(T);return Array.from(O).sort((T,R)=>T.localeCompare(R))},[v,y]),j=S.useMemo(()=>{const O=new Set,T=Cs();for(const R of v)R.date===T&&R.clockedIn&&O.add(String(R.staff||"").trim().toLowerCase());return O},[v]),P=O=>O?j.has(String(O).trim().toLowerCase()):!1,M=S.useMemo(()=>{const O=new Set;for(const T of t)for(const R of Object.keys(T||{})){const I=String(R||"").toLowerCase().replace(/\s+/g,"").replace(/[^a-z0-9_]/g,"");O.add(I)}return Array.from(O).sort()},[t]),D=async()=>{if(c){m(!0),a("");try{const O=Cs(),T=new Date,R=new Intl.DateTimeFormat("en-GB",{timeZone:fl,hour12:!1,hour:"2-digit",minute:"2-digit"}).format(T),I={Staff:c,Date:O,TimeIn:R,TimeOut:""};n(L=>[I,...L]),m(!1);try{await Wi(c)}catch(L){console.error("attendanceQuickAppend sign-in failed",L),a("Sign-in failed"),alert("Sign-in failed  please retry"),await k()}setTimeout(k,1200)}finally{m(!1)}}},z=async()=>{if(c){m(!0),a("");try{const O=Cs(),T=new Date,R=new Intl.DateTimeFormat("en-GB",{timeZone:fl,hour12:!1,hour:"2-digit",minute:"2-digit"}).format(T);n(I=>{const L=I.slice();for(let E=0;E<L.length;E++){const U=L[E];if(String(U.Staff||U.staff||"").trim().toLowerCase()===String(c).trim().toLowerCase()&&String(U.Date||U.date||"").slice(0,10)===O&&!String(U.TimeOut||U.timeout||"").trim()){L[E]={...U,TimeOut:R};break}}return L}),m(!1);try{await Wi(c,{wantsOut:!0})}catch(I){console.error("attendanceQuickAppend sign-out failed",I),a("Sign-out failed"),alert("Sign-out failed  please retry"),setTimeout(k,10)}setTimeout(k,1200)}finally{m(!1)}}};return l.jsxs(l.Fragment,{children:[s&&l.jsx("div",{style:{position:"fixed",top:0,left:0,right:0,zIndex:9999,background:"#2563eb",color:"#fff",padding:"10px 0",textAlign:"center",fontWeight:700,boxShadow:"0 2px 8px rgba(0,0,0,.08)"},children:"Loading attendance data, please wait..."}),l.jsxs("div",{className:"dashboard-content",children:[l.jsx("h2",{className:"dashboard-title",children:"Staff Attendance"}),u&&l.jsx("div",{className:"small-error",style:{marginBottom:12},children:u}),l.jsxs("div",{className:"panel",children:[l.jsx("div",{className:"panel-header",children:"Select Staff Member"}),l.jsxs("div",{className:"att-inline",children:[l.jsxs("select",{className:"att-inline-select",value:c,onChange:O=>d(O.target.value),disabled:f,children:[l.jsx("option",{value:""}),N.map(O=>l.jsx("option",{value:O,children:O},O))]}),l.jsxs("div",{className:"att-inline-actions",children:[l.jsx("button",{className:"primary-btn",onClick:D,disabled:!c||f||P(c),title:P(c)?"Already signed in today":"Sign In",children:" Sign In"}),l.jsx("button",{className:"primary-btn",onClick:z,disabled:!c||f||!P(c),title:P(c)?"Sign Out":"Not currently signed in",children:" Sign Out"})]}),l.jsxs("div",{style:{marginTop:8,display:"flex",gap:8,alignItems:"center"},children:[l.jsx("button",{className:"secondary-btn",onClick:()=>b(O=>!O),children:h?"Hide debug":"Show debug"}),h&&l.jsxs("div",{style:{background:"var(--panel-bg)",padding:10,border:"1px dashed var(--light-border)",borderRadius:6,width:"100%"},children:[l.jsx("div",{style:{fontWeight:700,marginBottom:6},children:"Debug  attendance"}),l.jsxs("div",{style:{color:"var(--muted)",fontSize:13},children:["rows: ",t.length,"  grouped: ",v.length,"  normalizedKeys: ",M.length,"  staffOptions: ",y.length]}),l.jsx("pre",{style:{maxHeight:220,overflow:"auto",fontSize:12,marginTop:8,whiteSpace:"pre-wrap"},children:JSON.stringify({rowsPreview:t.slice(0,6),normalizedKeys:M,staffOptions:y},null,2)})]})]})]})]}),l.jsxs("div",{className:"panel",children:[l.jsx("div",{className:"panel-header",children:"Attendance Records"}),v.length===0?l.jsxs("div",{style:{color:"var(--muted)",textAlign:"center",padding:16},children:["No records in the last ",w," days."]}):v.length>120?l.jsx("div",{style:{width:"100%",display:"flex",justifyContent:"center"},children:l.jsxs("div",{style:{width:"90%"},children:[l.jsxs("div",{style:{display:"flex",padding:"8px 12px",fontWeight:700,borderBottom:"1px solid var(--light-border)",background:"var(--panel-header-bg)"},children:[l.jsx("div",{style:{width:"20%"},children:"Staff Name"}),l.jsx("div",{style:{width:"20%"},children:"Date"}),l.jsx("div",{style:{width:"20%"},children:"Sign In"}),l.jsx("div",{style:{width:"20%"},children:"Sign Out"}),l.jsx("div",{style:{width:"20%",textAlign:"right"},children:"Total Hours"})]}),l.jsx(Jh,{height:Math.min(600,v.length*48),itemCount:v.length,itemSize:48,width:"100%",children:({index:O,style:T})=>{const R=v[O];return l.jsxs("div",{style:{...T,display:"flex",padding:"8px 12px",borderBottom:"1px solid rgba(0,0,0,0.04)",alignItems:"center"},children:[l.jsx("div",{style:{width:"20%",fontWeight:700},children:R.staff}),l.jsx("div",{style:{width:"20%"},children:Vd(R.date)}),l.jsx("div",{style:{width:"20%"},children:R.sessions.length?R.sessions.map((I,L)=>l.jsx("div",{style:{lineHeight:"20px"},children:I.formattedIn||""},L)):""}),l.jsx("div",{style:{width:"20%"},children:R.sessions.length?R.sessions.map((I,L)=>l.jsx("div",{style:{lineHeight:"20px"},children:I.out?I.formattedOut||I.out:l.jsx("span",{style:{color:"var(--muted)"},children:""})},L)):""}),l.jsx("div",{style:{width:"20%",textAlign:"right",whiteSpace:"nowrap"},children:l.jsx("span",{className:"badge",children:R.totalHours.toFixed(2)})})]},`${R.date}|${R.staff}`)}})]})}):l.jsx("div",{style:{display:"flex",justifyContent:"center"},children:l.jsxs("table",{className:"attendance-table aligned",style:{width:"90%"},children:[l.jsxs("colgroup",{children:[l.jsx("col",{style:{width:"calc(var(--att-c1) * 1%)"}}),l.jsx("col",{style:{width:"calc(var(--att-c2) * 1%)"}}),l.jsx("col",{style:{width:"calc(var(--att-c3) * 1%)"}}),l.jsx("col",{style:{width:"calc(var(--att-c4) * 1%)"}}),l.jsx("col",{style:{width:"calc(var(--att-c5) * 1%)"}})]}),l.jsx("thead",{children:l.jsxs("tr",{children:[l.jsx("th",{children:"Staff Name"}),l.jsx("th",{children:"Date"}),l.jsx("th",{children:"Sign In"}),l.jsx("th",{children:"Sign Out"}),l.jsx("th",{style:{textAlign:"right"},children:"Total Hours"})]})}),l.jsx("tbody",{children:v.map(O=>l.jsxs("tr",{children:[l.jsx("td",{style:{fontWeight:700},children:O.staff}),l.jsx("td",{children:Vd(O.date)}),l.jsx("td",{children:O.sessions.length?O.sessions.map((T,R)=>l.jsx("div",{style:{lineHeight:"20px"},children:T.formattedIn||""},R)):""}),l.jsx("td",{children:O.sessions.length?O.sessions.map((T,R)=>l.jsx("div",{style:{lineHeight:"20px"},children:T.out?T.formattedOut||T.out:l.jsx("span",{style:{color:"var(--muted)"},children:""})},R)):""}),l.jsx("td",{style:{textAlign:"right",whiteSpace:"nowrap"},children:l.jsx("span",{className:"badge",children:O.totalHours.toFixed(2)})})]},`${O.date}|${O.staff}`))})]})}),l.jsxs("div",{style:{marginTop:8,display:"flex",gap:8,alignItems:"center"},children:[l.jsx("button",{className:"secondary-btn",onClick:()=>p(O=>Math.min((t==null?void 0:t.length)||0,O+10)),disabled:f||g>=((t==null?void 0:t.length)||0),title:"Load 10 more entries",children:" Load more (older entries)"}),l.jsxs("div",{style:{color:"var(--muted)",fontSize:13},children:["Showing ",Math.min(g,(t==null?void 0:t.length)||0)," of ",(t==null?void 0:t.length)||0," entries"]})]})]})]})]})}const Fa="kusgan.members.v1";function Wd(){const e=localStorage.getItem(Fa);if(e)return JSON.parse(e);const t=[{id:"M001",nickname:"ELMER",firstName:"Elmer",lastName:"Reyes",middleName:"",birthday:"1990-05-12",gender:"Male",memberDate:"2024-11-15",lastVisit:"2025-10-30",gymActive:!0,coachSubscription:"Available",coachName:"Coach ELMER",photoUrl:"",payments:[{date:"2025-10-01",particulars:"Gym Membership",startDate:"2025-10-01",endDate:"2025-10-31",amount:1200,mode:"Cash"}],entries:[{date:"2025-10-30",timeIn:"08:10 AM",timeOut:"09:30 AM",totalHours:1.33,coach:!0,coachName:"Coach ELMER"}]},{id:"M002",nickname:"KIM",firstName:"Kim",lastName:"Arceo",middleName:"D.",birthday:"1996-02-18",gender:"Female",memberDate:"2025-01-05",lastVisit:"2025-10-29",gymActive:!1,coachSubscription:"-",coachName:"",photoUrl:"",payments:[{date:"2025-06-01",particulars:"Gym Membership",startDate:"2025-06-01",endDate:"2025-06-30",amount:1200,mode:"GCash"},{date:"2025-06-01",particulars:"Coach Subscription",startDate:"2025-06-01",endDate:"2025-06-30",amount:2e3,mode:"GCash"}],entries:[]}];return localStorage.setItem(Fa,JSON.stringify(t)),t}function p1(){try{return JSON.parse(localStorage.getItem(Fa))||Wd()}catch{return Wd()}}function qh(e){return p1().find(t=>t.id===e)}function g1(e){const t=qh(e);return(t==null?void 0:t.progress)??[]}function y1(e){if(!e)return"";const t=new Date(e);if(isNaN(t))return"";const n=t.toLocaleString(void 0,{month:"short"}),r=t.getDate(),i=t.getFullYear();return`${n}-${r}, ${i}`}function v1(e,t){if(!e||!t)return null;const n=new Date(e),i=new Date(t).setHours(0,0,0,0)-n.setHours(0,0,0,0);return Math.floor(i/864e5)+1}function x1(){const{id:e,index:t}=Oc(),n=Jr(),r=S.useMemo(()=>qh(e),[e]),i=S.useMemo(()=>g1(e),[e]),s=i==null?void 0:i[Number(t)];if(!r||!s)return l.jsxs("div",{className:"content",children:[l.jsx("button",{className:"button back-btn",onClick:()=>n(-1),children:" Back"}),l.jsx("p",{children:"Progress not found."})]});const o=v1(r.memberDate,s.date)??Number(t)+1;return l.jsxs("div",{className:"content",children:[l.jsx("button",{className:"button back-btn",onClick:()=>n(-1),children:" Back"}),l.jsx("h2",{children:r.nickname||`${r.firstName} ${r.lastName}`}),l.jsxs("div",{className:"card",style:{padding:16},children:[l.jsxs("div",{style:{fontWeight:800,marginBottom:8},children:["Day ",o,"  ",y1(s.date)]}),l.jsxs("div",{children:["Weight: ",l.jsx("b",{children:s.weight??""})]}),l.jsxs("div",{children:["BMI: ",l.jsx("b",{children:s.bmi??""})]}),l.jsxs("div",{children:["Muscle Mass: ",l.jsx("b",{children:s.muscle??""})]}),l.jsxs("div",{children:["Body Fat: ",l.jsx("b",{children:s.bodyFat??""})]}),l.jsxs("div",{children:["Visceral Fat: ",l.jsx("b",{children:s.visceralFat??""})]}),s.photoUrl&&l.jsx("div",{style:{marginTop:12},children:l.jsx("img",{src:s.photoUrl,alt:"Progress",style:{width:240,borderRadius:12,border:"1px solid #e7e8ef"}})})]})]})}function S1({onLogin:e}){return l.jsx("div",{style:{minHeight:"100vh",width:"100%",margin:0,display:"flex",alignItems:"center",justifyContent:"center",background:"linear-gradient(135deg, rgba(255,182,213,0.94), rgba(180,196,255,0.92))",backgroundRepeat:"no-repeat",backgroundSize:"cover"},children:l.jsxs("div",{style:{width:420,minHeight:520,padding:"56px 48px",borderRadius:28,background:"#11121d",boxShadow:"0 36px 70px rgba(0,0,0,0.40)",display:"flex",flexDirection:"column",alignItems:"center",color:"#fff",textAlign:"center"},children:[l.jsx("img",{src:"/kusgan-frontend/kusgan-logo.png",alt:"Kusgan Logo",style:{width:160,height:160,objectFit:"cover",borderRadius:"22px",boxShadow:"0 10px 28px rgba(215,38,96,0.35)",marginBottom:32,background:"#000"}}),l.jsx("h1",{style:{fontSize:"2rem",fontWeight:700,margin:"0 0 14px"},children:"Kusgan Fitness Gym"}),l.jsx("p",{style:{margin:"0 0 40px",color:"#c9c9da",lineHeight:1.6},children:"Please sign in with Google to access the dashboard."}),l.jsx(Av,{onSuccess:n=>e(n.credential),onError:()=>alert("Login failed.")})]})})}function w1(){const[e,t]=S.useState("");S.useEffect(()=>{const i=localStorage.getItem("authToken");i&&t(i)},[]);const n=i=>{t(i),localStorage.setItem("authToken",i)},r=()=>{t(""),localStorage.removeItem("authToken")};return e?l.jsxs("div",{className:"app",children:[l.jsx(Fv,{onLogout:r}),l.jsx("div",{className:"main-content",children:l.jsxs(gv,{children:[l.jsx(Nt,{path:"/",element:l.jsx(Dx,{})}),l.jsx(Nt,{path:"/attendance",element:l.jsx(h1,{})}),l.jsx(Nt,{path:"/members",element:l.jsx(Yx,{})}),l.jsx(Nt,{path:"/members/add",element:l.jsx(Ad,{})}),l.jsx(Nt,{path:"/members/:memberId/edit",element:l.jsx(Ad,{})}),l.jsx(Nt,{path:"/members/:memberId",element:l.jsx(Px,{})}),l.jsx(Nt,{path:"/members/:id/progress/:index",element:l.jsx(x1,{})}),l.jsx(Nt,{path:"/payments",element:l.jsx(r1,{})}),l.jsx(Nt,{path:"/checkin",element:l.jsx(c1,{})}),l.jsx(Nt,{path:"/members/new",element:l.jsx(cd,{to:"/members/add",replace:!0})}),l.jsx(Nt,{path:"*",element:l.jsx(cd,{to:"/",replace:!0})})]})})]}):l.jsx(S1,{onLogin:n})}Eo.createRoot(document.getElementById("root")).render(l.jsx(Se.StrictMode,{children:l.jsx(Dv,{clientId:"530789207803-nq4g3i43bbcc5gdvsjo96venjfmi3309.apps.googleusercontent.com",children:l.jsx(Nv,{children:l.jsx(Tv,{children:l.jsx(w1,{})})})})}));export{Ph as C,nx as M,zc as f,ix as g,l as j,S as r,$c as s,Zi as u};
