function cp(e,t){for(var n=0;n<t.length;n++){const r=t[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in e)){const o=Object.getOwnPropertyDescriptor(r,i);o&&Object.defineProperty(e,i,o.get?o:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const l of o.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&r(l)}).observe(document,{childList:!0,subtree:!0});function n(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerPolicy&&(o.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?o.credentials="include":i.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(i){if(i.ep)return;i.ep=!0;const o=n(i);fetch(i.href,o)}})();var lo=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Zd(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var Xd={exports:{}},Ns={},qd={exports:{}},ge={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var qi=Symbol.for("react.element"),up=Symbol.for("react.portal"),dp=Symbol.for("react.fragment"),fp=Symbol.for("react.strict_mode"),mp=Symbol.for("react.profiler"),hp=Symbol.for("react.provider"),pp=Symbol.for("react.context"),gp=Symbol.for("react.forward_ref"),yp=Symbol.for("react.suspense"),vp=Symbol.for("react.memo"),Sp=Symbol.for("react.lazy"),ru=Symbol.iterator;function wp(e){return e===null||typeof e!="object"?null:(e=ru&&e[ru]||e["@@iterator"],typeof e=="function"?e:null)}var ef={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},tf=Object.assign,nf={};function qr(e,t,n){this.props=e,this.context=t,this.refs=nf,this.updater=n||ef}qr.prototype.isReactComponent={};qr.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};qr.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function rf(){}rf.prototype=qr.prototype;function Ha(e,t,n){this.props=e,this.context=t,this.refs=nf,this.updater=n||ef}var Ga=Ha.prototype=new rf;Ga.constructor=Ha;tf(Ga,qr.prototype);Ga.isPureReactComponent=!0;var iu=Array.isArray,of=Object.prototype.hasOwnProperty,Qa={current:null},sf={key:!0,ref:!0,__self:!0,__source:!0};function lf(e,t,n){var r,i={},o=null,l=null;if(t!=null)for(r in t.ref!==void 0&&(l=t.ref),t.key!==void 0&&(o=""+t.key),t)of.call(t,r)&&!sf.hasOwnProperty(r)&&(i[r]=t[r]);var u=arguments.length-2;if(u===1)i.children=n;else if(1<u){for(var a=Array(u),c=0;c<u;c++)a[c]=arguments[c+2];i.children=a}if(e&&e.defaultProps)for(r in u=e.defaultProps,u)i[r]===void 0&&(i[r]=u[r]);return{$$typeof:qi,type:e,key:o,ref:l,props:i,_owner:Qa.current}}function xp(e,t){return{$$typeof:qi,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function Ka(e){return typeof e=="object"&&e!==null&&e.$$typeof===qi}function Cp(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var ou=/\/+/g;function Ks(e,t){return typeof e=="object"&&e!==null&&e.key!=null?Cp(""+e.key):t.toString(36)}function Lo(e,t,n,r,i){var o=typeof e;(o==="undefined"||o==="boolean")&&(e=null);var l=!1;if(e===null)l=!0;else switch(o){case"string":case"number":l=!0;break;case"object":switch(e.$$typeof){case qi:case up:l=!0}}if(l)return l=e,i=i(l),e=r===""?"."+Ks(l,0):r,iu(i)?(n="",e!=null&&(n=e.replace(ou,"$&/")+"/"),Lo(i,t,n,"",function(c){return c})):i!=null&&(Ka(i)&&(i=xp(i,n+(!i.key||l&&l.key===i.key?"":(""+i.key).replace(ou,"$&/")+"/")+e)),t.push(i)),1;if(l=0,r=r===""?".":r+":",iu(e))for(var u=0;u<e.length;u++){o=e[u];var a=r+Ks(o,u);l+=Lo(o,t,n,a,i)}else if(a=wp(e),typeof a=="function")for(e=a.call(e),u=0;!(o=e.next()).done;)o=o.value,a=r+Ks(o,u++),l+=Lo(o,t,n,a,i);else if(o==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return l}function ao(e,t,n){if(e==null)return e;var r=[],i=0;return Lo(e,r,"","",function(o){return t.call(n,o,i++)}),r}function jp(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var yt={current:null},Ro={transition:null},Np={ReactCurrentDispatcher:yt,ReactCurrentBatchConfig:Ro,ReactCurrentOwner:Qa};function af(){throw Error("act(...) is not supported in production builds of React.")}ge.Children={map:ao,forEach:function(e,t,n){ao(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return ao(e,function(){t++}),t},toArray:function(e){return ao(e,function(t){return t})||[]},only:function(e){if(!Ka(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};ge.Component=qr;ge.Fragment=dp;ge.Profiler=mp;ge.PureComponent=Ha;ge.StrictMode=fp;ge.Suspense=yp;ge.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Np;ge.act=af;ge.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=tf({},e.props),i=e.key,o=e.ref,l=e._owner;if(t!=null){if(t.ref!==void 0&&(o=t.ref,l=Qa.current),t.key!==void 0&&(i=""+t.key),e.type&&e.type.defaultProps)var u=e.type.defaultProps;for(a in t)of.call(t,a)&&!sf.hasOwnProperty(a)&&(r[a]=t[a]===void 0&&u!==void 0?u[a]:t[a])}var a=arguments.length-2;if(a===1)r.children=n;else if(1<a){u=Array(a);for(var c=0;c<a;c++)u[c]=arguments[c+2];r.children=u}return{$$typeof:qi,type:e.type,key:i,ref:o,props:r,_owner:l}};ge.createContext=function(e){return e={$$typeof:pp,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:hp,_context:e},e.Consumer=e};ge.createElement=lf;ge.createFactory=function(e){var t=lf.bind(null,e);return t.type=e,t};ge.createRef=function(){return{current:null}};ge.forwardRef=function(e){return{$$typeof:gp,render:e}};ge.isValidElement=Ka;ge.lazy=function(e){return{$$typeof:Sp,_payload:{_status:-1,_result:e},_init:jp}};ge.memo=function(e,t){return{$$typeof:vp,type:e,compare:t===void 0?null:t}};ge.startTransition=function(e){var t=Ro.transition;Ro.transition={};try{e()}finally{Ro.transition=t}};ge.unstable_act=af;ge.useCallback=function(e,t){return yt.current.useCallback(e,t)};ge.useContext=function(e){return yt.current.useContext(e)};ge.useDebugValue=function(){};ge.useDeferredValue=function(e){return yt.current.useDeferredValue(e)};ge.useEffect=function(e,t){return yt.current.useEffect(e,t)};ge.useId=function(){return yt.current.useId()};ge.useImperativeHandle=function(e,t,n){return yt.current.useImperativeHandle(e,t,n)};ge.useInsertionEffect=function(e,t){return yt.current.useInsertionEffect(e,t)};ge.useLayoutEffect=function(e,t){return yt.current.useLayoutEffect(e,t)};ge.useMemo=function(e,t){return yt.current.useMemo(e,t)};ge.useReducer=function(e,t,n){return yt.current.useReducer(e,t,n)};ge.useRef=function(e){return yt.current.useRef(e)};ge.useState=function(e){return yt.current.useState(e)};ge.useSyncExternalStore=function(e,t,n){return yt.current.useSyncExternalStore(e,t,n)};ge.useTransition=function(){return yt.current.useTransition()};ge.version="18.3.1";qd.exports=ge;var w=qd.exports;const xe=Zd(w),bp=cp({__proto__:null,default:xe},[w]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var kp=w,Ep=Symbol.for("react.element"),_p=Symbol.for("react.fragment"),Mp=Object.prototype.hasOwnProperty,Ip=kp.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Tp={key:!0,ref:!0,__self:!0,__source:!0};function cf(e,t,n){var r,i={},o=null,l=null;n!==void 0&&(o=""+n),t.key!==void 0&&(o=""+t.key),t.ref!==void 0&&(l=t.ref);for(r in t)Mp.call(t,r)&&!Tp.hasOwnProperty(r)&&(i[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps,t)i[r]===void 0&&(i[r]=t[r]);return{$$typeof:Ep,type:e,key:o,ref:l,props:i,_owner:Ip.current}}Ns.Fragment=_p;Ns.jsx=cf;Ns.jsxs=cf;Xd.exports=Ns;var s=Xd.exports,Pl={},uf={exports:{}},It={},df={exports:{}},ff={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(b,N){var I=b.length;b.push(N);e:for(;0<I;){var P=I-1>>>1,O=b[P];if(0<i(O,N))b[P]=N,b[I]=O,I=P;else break e}}function n(b){return b.length===0?null:b[0]}function r(b){if(b.length===0)return null;var N=b[0],I=b.pop();if(I!==N){b[0]=I;e:for(var P=0,O=b.length,R=O>>>1;P<R;){var F=2*(P+1)-1,W=b[F],re=F+1,le=b[re];if(0>i(W,I))re<O&&0>i(le,W)?(b[P]=le,b[re]=I,P=re):(b[P]=W,b[F]=I,P=F);else if(re<O&&0>i(le,I))b[P]=le,b[re]=I,P=re;else break e}}return N}function i(b,N){var I=b.sortIndex-N.sortIndex;return I!==0?I:b.id-N.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;e.unstable_now=function(){return o.now()}}else{var l=Date,u=l.now();e.unstable_now=function(){return l.now()-u}}var a=[],c=[],d=1,f=null,g=3,S=!1,p=!1,v=!1,C=typeof setTimeout=="function"?setTimeout:null,m=typeof clearTimeout=="function"?clearTimeout:null,h=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function y(b){for(var N=n(c);N!==null;){if(N.callback===null)r(c);else if(N.startTime<=b)r(c),N.sortIndex=N.expirationTime,t(a,N);else break;N=n(c)}}function j(b){if(v=!1,y(b),!p)if(n(a)!==null)p=!0,x(E);else{var N=n(c);N!==null&&T(j,N.startTime-b)}}function E(b,N){p=!1,v&&(v=!1,m(M),M=-1),S=!0;var I=g;try{for(y(N),f=n(a);f!==null&&(!(f.expirationTime>N)||b&&!U());){var P=f.callback;if(typeof P=="function"){f.callback=null,g=f.priorityLevel;var O=P(f.expirationTime<=N);N=e.unstable_now(),typeof O=="function"?f.callback=O:f===n(a)&&r(a),y(N)}else r(a);f=n(a)}if(f!==null)var R=!0;else{var F=n(c);F!==null&&T(j,F.startTime-N),R=!1}return R}finally{f=null,g=I,S=!1}}var D=!1,_=null,M=-1,z=5,A=-1;function U(){return!(e.unstable_now()-A<z)}function H(){if(_!==null){var b=e.unstable_now();A=b;var N=!0;try{N=_(!0,b)}finally{N?te():(D=!1,_=null)}}else D=!1}var te;if(typeof h=="function")te=function(){h(H)};else if(typeof MessageChannel<"u"){var k=new MessageChannel,L=k.port2;k.port1.onmessage=H,te=function(){L.postMessage(null)}}else te=function(){C(H,0)};function x(b){_=b,D||(D=!0,te())}function T(b,N){M=C(function(){b(e.unstable_now())},N)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(b){b.callback=null},e.unstable_continueExecution=function(){p||S||(p=!0,x(E))},e.unstable_forceFrameRate=function(b){0>b||125<b?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):z=0<b?Math.floor(1e3/b):5},e.unstable_getCurrentPriorityLevel=function(){return g},e.unstable_getFirstCallbackNode=function(){return n(a)},e.unstable_next=function(b){switch(g){case 1:case 2:case 3:var N=3;break;default:N=g}var I=g;g=N;try{return b()}finally{g=I}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(b,N){switch(b){case 1:case 2:case 3:case 4:case 5:break;default:b=3}var I=g;g=b;try{return N()}finally{g=I}},e.unstable_scheduleCallback=function(b,N,I){var P=e.unstable_now();switch(typeof I=="object"&&I!==null?(I=I.delay,I=typeof I=="number"&&0<I?P+I:P):I=P,b){case 1:var O=-1;break;case 2:O=250;break;case 5:O=1073741823;break;case 4:O=1e4;break;default:O=5e3}return O=I+O,b={id:d++,callback:N,priorityLevel:b,startTime:I,expirationTime:O,sortIndex:-1},I>P?(b.sortIndex=I,t(c,b),n(a)===null&&b===n(c)&&(v?(m(M),M=-1):v=!0,T(j,I-P))):(b.sortIndex=O,t(a,b),p||S||(p=!0,x(E))),b},e.unstable_shouldYield=U,e.unstable_wrapCallback=function(b){var N=g;return function(){var I=g;g=N;try{return b.apply(this,arguments)}finally{g=I}}}})(ff);df.exports=ff;var Pp=df.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Dp=w,Mt=Pp;function $(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var mf=new Set,Ii={};function dr(e,t){Br(e,t),Br(e+"Capture",t)}function Br(e,t){for(Ii[e]=t,e=0;e<t.length;e++)mf.add(t[e])}var dn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Dl=Object.prototype.hasOwnProperty,Lp=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,su={},lu={};function Rp(e){return Dl.call(lu,e)?!0:Dl.call(su,e)?!1:Lp.test(e)?lu[e]=!0:(su[e]=!0,!1)}function Op(e,t,n,r){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function Ap(e,t,n,r){if(t===null||typeof t>"u"||Op(e,t,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function vt(e,t,n,r,i,o,l){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=o,this.removeEmptyString=l}var st={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){st[e]=new vt(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];st[t]=new vt(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){st[e]=new vt(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){st[e]=new vt(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){st[e]=new vt(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){st[e]=new vt(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){st[e]=new vt(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){st[e]=new vt(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){st[e]=new vt(e,5,!1,e.toLowerCase(),null,!1,!1)});var Ya=/[\-:]([a-z])/g;function Ja(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(Ya,Ja);st[t]=new vt(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(Ya,Ja);st[t]=new vt(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(Ya,Ja);st[t]=new vt(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){st[e]=new vt(e,1,!1,e.toLowerCase(),null,!1,!1)});st.xlinkHref=new vt("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){st[e]=new vt(e,1,!1,e.toLowerCase(),null,!0,!0)});function Za(e,t,n,r){var i=st.hasOwnProperty(t)?st[t]:null;(i!==null?i.type!==0:r||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(Ap(t,n,i,r)&&(n=null),r||i===null?Rp(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=n===null?i.type===3?!1:"":n:(t=i.attributeName,r=i.attributeNamespace,n===null?e.removeAttribute(t):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}var yn=Dp.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,co=Symbol.for("react.element"),xr=Symbol.for("react.portal"),Cr=Symbol.for("react.fragment"),Xa=Symbol.for("react.strict_mode"),Ll=Symbol.for("react.profiler"),hf=Symbol.for("react.provider"),pf=Symbol.for("react.context"),qa=Symbol.for("react.forward_ref"),Rl=Symbol.for("react.suspense"),Ol=Symbol.for("react.suspense_list"),ec=Symbol.for("react.memo"),Cn=Symbol.for("react.lazy"),gf=Symbol.for("react.offscreen"),au=Symbol.iterator;function si(e){return e===null||typeof e!="object"?null:(e=au&&e[au]||e["@@iterator"],typeof e=="function"?e:null)}var Ve=Object.assign,Ys;function gi(e){if(Ys===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);Ys=t&&t[1]||""}return`
`+Ys+e}var Js=!1;function Zs(e,t){if(!e||Js)return"";Js=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(c){var r=c}Reflect.construct(e,[],t)}else{try{t.call()}catch(c){r=c}e.call(t.prototype)}else{try{throw Error()}catch(c){r=c}e()}}catch(c){if(c&&r&&typeof c.stack=="string"){for(var i=c.stack.split(`
`),o=r.stack.split(`
`),l=i.length-1,u=o.length-1;1<=l&&0<=u&&i[l]!==o[u];)u--;for(;1<=l&&0<=u;l--,u--)if(i[l]!==o[u]){if(l!==1||u!==1)do if(l--,u--,0>u||i[l]!==o[u]){var a=`
`+i[l].replace(" at new "," at ");return e.displayName&&a.includes("<anonymous>")&&(a=a.replace("<anonymous>",e.displayName)),a}while(1<=l&&0<=u);break}}}finally{Js=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?gi(e):""}function Fp(e){switch(e.tag){case 5:return gi(e.type);case 16:return gi("Lazy");case 13:return gi("Suspense");case 19:return gi("SuspenseList");case 0:case 2:case 15:return e=Zs(e.type,!1),e;case 11:return e=Zs(e.type.render,!1),e;case 1:return e=Zs(e.type,!0),e;default:return""}}function Al(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Cr:return"Fragment";case xr:return"Portal";case Ll:return"Profiler";case Xa:return"StrictMode";case Rl:return"Suspense";case Ol:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case pf:return(e.displayName||"Context")+".Consumer";case hf:return(e._context.displayName||"Context")+".Provider";case qa:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case ec:return t=e.displayName||null,t!==null?t:Al(e.type)||"Memo";case Cn:t=e._payload,e=e._init;try{return Al(e(t))}catch{}}return null}function zp(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Al(t);case 8:return t===Xa?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function $n(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function yf(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function Up(e){var t=yf(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,o=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(l){r=""+l,o.call(this,l)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(l){r=""+l},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function uo(e){e._valueTracker||(e._valueTracker=Up(e))}function vf(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=yf(e)?e.checked?"true":"false":e.value),e=r,e!==n?(t.setValue(e),!0):!1}function Qo(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function Fl(e,t){var n=t.checked;return Ve({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function cu(e,t){var n=t.defaultValue==null?"":t.defaultValue,r=t.checked!=null?t.checked:t.defaultChecked;n=$n(t.value!=null?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function Sf(e,t){t=t.checked,t!=null&&Za(e,"checked",t,!1)}function zl(e,t){Sf(e,t);var n=$n(t.value),r=t.type;if(n!=null)r==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(r==="submit"||r==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?Ul(e,t.type,n):t.hasOwnProperty("defaultValue")&&Ul(e,t.type,$n(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function uu(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!(r!=="submit"&&r!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function Ul(e,t,n){(t!=="number"||Qo(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var yi=Array.isArray;function Rr(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+$n(n),t=null,i=0;i<e.length;i++){if(e[i].value===n){e[i].selected=!0,r&&(e[i].defaultSelected=!0);return}t!==null||e[i].disabled||(t=e[i])}t!==null&&(t.selected=!0)}}function $l(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error($(91));return Ve({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function du(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error($(92));if(yi(n)){if(1<n.length)throw Error($(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:$n(n)}}function wf(e,t){var n=$n(t.value),r=$n(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),r!=null&&(e.defaultValue=""+r)}function fu(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function xf(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Bl(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?xf(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var fo,Cf=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,r,i){MSApp.execUnsafeLocalFunction(function(){return e(t,n,r,i)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(fo=fo||document.createElement("div"),fo.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=fo.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function Ti(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var xi={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},$p=["Webkit","ms","Moz","O"];Object.keys(xi).forEach(function(e){$p.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),xi[t]=xi[e]})});function jf(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||xi.hasOwnProperty(e)&&xi[e]?(""+t).trim():t+"px"}function Nf(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=jf(n,t[n],r);n==="float"&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}var Bp=Ve({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Vl(e,t){if(t){if(Bp[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error($(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error($(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error($(61))}if(t.style!=null&&typeof t.style!="object")throw Error($(62))}}function Wl(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Hl=null;function tc(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Gl=null,Or=null,Ar=null;function mu(e){if(e=no(e)){if(typeof Gl!="function")throw Error($(280));var t=e.stateNode;t&&(t=Ms(t),Gl(e.stateNode,e.type,t))}}function bf(e){Or?Ar?Ar.push(e):Ar=[e]:Or=e}function kf(){if(Or){var e=Or,t=Ar;if(Ar=Or=null,mu(e),t)for(e=0;e<t.length;e++)mu(t[e])}}function Ef(e,t){return e(t)}function _f(){}var Xs=!1;function Mf(e,t,n){if(Xs)return e(t,n);Xs=!0;try{return Ef(e,t,n)}finally{Xs=!1,(Or!==null||Ar!==null)&&(_f(),kf())}}function Pi(e,t){var n=e.stateNode;if(n===null)return null;var r=Ms(n);if(r===null)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error($(231,t,typeof n));return n}var Ql=!1;if(dn)try{var li={};Object.defineProperty(li,"passive",{get:function(){Ql=!0}}),window.addEventListener("test",li,li),window.removeEventListener("test",li,li)}catch{Ql=!1}function Vp(e,t,n,r,i,o,l,u,a){var c=Array.prototype.slice.call(arguments,3);try{t.apply(n,c)}catch(d){this.onError(d)}}var Ci=!1,Ko=null,Yo=!1,Kl=null,Wp={onError:function(e){Ci=!0,Ko=e}};function Hp(e,t,n,r,i,o,l,u,a){Ci=!1,Ko=null,Vp.apply(Wp,arguments)}function Gp(e,t,n,r,i,o,l,u,a){if(Hp.apply(this,arguments),Ci){if(Ci){var c=Ko;Ci=!1,Ko=null}else throw Error($(198));Yo||(Yo=!0,Kl=c)}}function fr(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function If(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function hu(e){if(fr(e)!==e)throw Error($(188))}function Qp(e){var t=e.alternate;if(!t){if(t=fr(e),t===null)throw Error($(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(i===null)break;var o=i.alternate;if(o===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===n)return hu(i),e;if(o===r)return hu(i),t;o=o.sibling}throw Error($(188))}if(n.return!==r.return)n=i,r=o;else{for(var l=!1,u=i.child;u;){if(u===n){l=!0,n=i,r=o;break}if(u===r){l=!0,r=i,n=o;break}u=u.sibling}if(!l){for(u=o.child;u;){if(u===n){l=!0,n=o,r=i;break}if(u===r){l=!0,r=o,n=i;break}u=u.sibling}if(!l)throw Error($(189))}}if(n.alternate!==r)throw Error($(190))}if(n.tag!==3)throw Error($(188));return n.stateNode.current===n?e:t}function Tf(e){return e=Qp(e),e!==null?Pf(e):null}function Pf(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=Pf(e);if(t!==null)return t;e=e.sibling}return null}var Df=Mt.unstable_scheduleCallback,pu=Mt.unstable_cancelCallback,Kp=Mt.unstable_shouldYield,Yp=Mt.unstable_requestPaint,Je=Mt.unstable_now,Jp=Mt.unstable_getCurrentPriorityLevel,nc=Mt.unstable_ImmediatePriority,Lf=Mt.unstable_UserBlockingPriority,Jo=Mt.unstable_NormalPriority,Zp=Mt.unstable_LowPriority,Rf=Mt.unstable_IdlePriority,bs=null,qt=null;function Xp(e){if(qt&&typeof qt.onCommitFiberRoot=="function")try{qt.onCommitFiberRoot(bs,e,void 0,(e.current.flags&128)===128)}catch{}}var Vt=Math.clz32?Math.clz32:tg,qp=Math.log,eg=Math.LN2;function tg(e){return e>>>=0,e===0?32:31-(qp(e)/eg|0)|0}var mo=64,ho=4194304;function vi(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function Zo(e,t){var n=e.pendingLanes;if(n===0)return 0;var r=0,i=e.suspendedLanes,o=e.pingedLanes,l=n&268435455;if(l!==0){var u=l&~i;u!==0?r=vi(u):(o&=l,o!==0&&(r=vi(o)))}else l=n&~i,l!==0?r=vi(l):o!==0&&(r=vi(o));if(r===0)return 0;if(t!==0&&t!==r&&!(t&i)&&(i=r&-r,o=t&-t,i>=o||i===16&&(o&4194240)!==0))return t;if(r&4&&(r|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=r;0<t;)n=31-Vt(t),i=1<<n,r|=e[n],t&=~i;return r}function ng(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function rg(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,o=e.pendingLanes;0<o;){var l=31-Vt(o),u=1<<l,a=i[l];a===-1?(!(u&n)||u&r)&&(i[l]=ng(u,t)):a<=t&&(e.expiredLanes|=u),o&=~u}}function Yl(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function Of(){var e=mo;return mo<<=1,!(mo&4194240)&&(mo=64),e}function qs(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function eo(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-Vt(t),e[t]=n}function ig(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var i=31-Vt(n),o=1<<i;t[i]=0,r[i]=-1,e[i]=-1,n&=~o}}function rc(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-Vt(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}var be=0;function Af(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var Ff,ic,zf,Uf,$f,Jl=!1,po=[],Tn=null,Pn=null,Dn=null,Di=new Map,Li=new Map,Nn=[],og="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function gu(e,t){switch(e){case"focusin":case"focusout":Tn=null;break;case"dragenter":case"dragleave":Pn=null;break;case"mouseover":case"mouseout":Dn=null;break;case"pointerover":case"pointerout":Di.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Li.delete(t.pointerId)}}function ai(e,t,n,r,i,o){return e===null||e.nativeEvent!==o?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:o,targetContainers:[i]},t!==null&&(t=no(t),t!==null&&ic(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,i!==null&&t.indexOf(i)===-1&&t.push(i),e)}function sg(e,t,n,r,i){switch(t){case"focusin":return Tn=ai(Tn,e,t,n,r,i),!0;case"dragenter":return Pn=ai(Pn,e,t,n,r,i),!0;case"mouseover":return Dn=ai(Dn,e,t,n,r,i),!0;case"pointerover":var o=i.pointerId;return Di.set(o,ai(Di.get(o)||null,e,t,n,r,i)),!0;case"gotpointercapture":return o=i.pointerId,Li.set(o,ai(Li.get(o)||null,e,t,n,r,i)),!0}return!1}function Bf(e){var t=qn(e.target);if(t!==null){var n=fr(t);if(n!==null){if(t=n.tag,t===13){if(t=If(n),t!==null){e.blockedOn=t,$f(e.priority,function(){zf(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Oo(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=Zl(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var r=new n.constructor(n.type,n);Hl=r,n.target.dispatchEvent(r),Hl=null}else return t=no(n),t!==null&&ic(t),e.blockedOn=n,!1;t.shift()}return!0}function yu(e,t,n){Oo(e)&&n.delete(t)}function lg(){Jl=!1,Tn!==null&&Oo(Tn)&&(Tn=null),Pn!==null&&Oo(Pn)&&(Pn=null),Dn!==null&&Oo(Dn)&&(Dn=null),Di.forEach(yu),Li.forEach(yu)}function ci(e,t){e.blockedOn===t&&(e.blockedOn=null,Jl||(Jl=!0,Mt.unstable_scheduleCallback(Mt.unstable_NormalPriority,lg)))}function Ri(e){function t(i){return ci(i,e)}if(0<po.length){ci(po[0],e);for(var n=1;n<po.length;n++){var r=po[n];r.blockedOn===e&&(r.blockedOn=null)}}for(Tn!==null&&ci(Tn,e),Pn!==null&&ci(Pn,e),Dn!==null&&ci(Dn,e),Di.forEach(t),Li.forEach(t),n=0;n<Nn.length;n++)r=Nn[n],r.blockedOn===e&&(r.blockedOn=null);for(;0<Nn.length&&(n=Nn[0],n.blockedOn===null);)Bf(n),n.blockedOn===null&&Nn.shift()}var Fr=yn.ReactCurrentBatchConfig,Xo=!0;function ag(e,t,n,r){var i=be,o=Fr.transition;Fr.transition=null;try{be=1,oc(e,t,n,r)}finally{be=i,Fr.transition=o}}function cg(e,t,n,r){var i=be,o=Fr.transition;Fr.transition=null;try{be=4,oc(e,t,n,r)}finally{be=i,Fr.transition=o}}function oc(e,t,n,r){if(Xo){var i=Zl(e,t,n,r);if(i===null)cl(e,t,r,qo,n),gu(e,r);else if(sg(i,e,t,n,r))r.stopPropagation();else if(gu(e,r),t&4&&-1<og.indexOf(e)){for(;i!==null;){var o=no(i);if(o!==null&&Ff(o),o=Zl(e,t,n,r),o===null&&cl(e,t,r,qo,n),o===i)break;i=o}i!==null&&r.stopPropagation()}else cl(e,t,r,null,n)}}var qo=null;function Zl(e,t,n,r){if(qo=null,e=tc(r),e=qn(e),e!==null)if(t=fr(e),t===null)e=null;else if(n=t.tag,n===13){if(e=If(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return qo=e,null}function Vf(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Jp()){case nc:return 1;case Lf:return 4;case Jo:case Zp:return 16;case Rf:return 536870912;default:return 16}default:return 16}}var En=null,sc=null,Ao=null;function Wf(){if(Ao)return Ao;var e,t=sc,n=t.length,r,i="value"in En?En.value:En.textContent,o=i.length;for(e=0;e<n&&t[e]===i[e];e++);var l=n-e;for(r=1;r<=l&&t[n-r]===i[o-r];r++);return Ao=i.slice(e,1<r?1-r:void 0)}function Fo(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function go(){return!0}function vu(){return!1}function Tt(e){function t(n,r,i,o,l){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=o,this.target=l,this.currentTarget=null;for(var u in e)e.hasOwnProperty(u)&&(n=e[u],this[u]=n?n(o):o[u]);return this.isDefaultPrevented=(o.defaultPrevented!=null?o.defaultPrevented:o.returnValue===!1)?go:vu,this.isPropagationStopped=vu,this}return Ve(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=go)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=go)},persist:function(){},isPersistent:go}),t}var ei={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},lc=Tt(ei),to=Ve({},ei,{view:0,detail:0}),ug=Tt(to),el,tl,ui,ks=Ve({},to,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ac,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==ui&&(ui&&e.type==="mousemove"?(el=e.screenX-ui.screenX,tl=e.screenY-ui.screenY):tl=el=0,ui=e),el)},movementY:function(e){return"movementY"in e?e.movementY:tl}}),Su=Tt(ks),dg=Ve({},ks,{dataTransfer:0}),fg=Tt(dg),mg=Ve({},to,{relatedTarget:0}),nl=Tt(mg),hg=Ve({},ei,{animationName:0,elapsedTime:0,pseudoElement:0}),pg=Tt(hg),gg=Ve({},ei,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),yg=Tt(gg),vg=Ve({},ei,{data:0}),wu=Tt(vg),Sg={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},wg={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},xg={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Cg(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=xg[e])?!!t[e]:!1}function ac(){return Cg}var jg=Ve({},to,{key:function(e){if(e.key){var t=Sg[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Fo(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?wg[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ac,charCode:function(e){return e.type==="keypress"?Fo(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Fo(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Ng=Tt(jg),bg=Ve({},ks,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),xu=Tt(bg),kg=Ve({},to,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ac}),Eg=Tt(kg),_g=Ve({},ei,{propertyName:0,elapsedTime:0,pseudoElement:0}),Mg=Tt(_g),Ig=Ve({},ks,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Tg=Tt(Ig),Pg=[9,13,27,32],cc=dn&&"CompositionEvent"in window,ji=null;dn&&"documentMode"in document&&(ji=document.documentMode);var Dg=dn&&"TextEvent"in window&&!ji,Hf=dn&&(!cc||ji&&8<ji&&11>=ji),Cu=" ",ju=!1;function Gf(e,t){switch(e){case"keyup":return Pg.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Qf(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var jr=!1;function Lg(e,t){switch(e){case"compositionend":return Qf(t);case"keypress":return t.which!==32?null:(ju=!0,Cu);case"textInput":return e=t.data,e===Cu&&ju?null:e;default:return null}}function Rg(e,t){if(jr)return e==="compositionend"||!cc&&Gf(e,t)?(e=Wf(),Ao=sc=En=null,jr=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Hf&&t.locale!=="ko"?null:t.data;default:return null}}var Og={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Nu(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!Og[e.type]:t==="textarea"}function Kf(e,t,n,r){bf(r),t=es(t,"onChange"),0<t.length&&(n=new lc("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Ni=null,Oi=null;function Ag(e){om(e,0)}function Es(e){var t=kr(e);if(vf(t))return e}function Fg(e,t){if(e==="change")return t}var Yf=!1;if(dn){var rl;if(dn){var il="oninput"in document;if(!il){var bu=document.createElement("div");bu.setAttribute("oninput","return;"),il=typeof bu.oninput=="function"}rl=il}else rl=!1;Yf=rl&&(!document.documentMode||9<document.documentMode)}function ku(){Ni&&(Ni.detachEvent("onpropertychange",Jf),Oi=Ni=null)}function Jf(e){if(e.propertyName==="value"&&Es(Oi)){var t=[];Kf(t,Oi,e,tc(e)),Mf(Ag,t)}}function zg(e,t,n){e==="focusin"?(ku(),Ni=t,Oi=n,Ni.attachEvent("onpropertychange",Jf)):e==="focusout"&&ku()}function Ug(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Es(Oi)}function $g(e,t){if(e==="click")return Es(t)}function Bg(e,t){if(e==="input"||e==="change")return Es(t)}function Vg(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Ht=typeof Object.is=="function"?Object.is:Vg;function Ai(e,t){if(Ht(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!Dl.call(t,i)||!Ht(e[i],t[i]))return!1}return!0}function Eu(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function _u(e,t){var n=Eu(e);e=0;for(var r;n;){if(n.nodeType===3){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Eu(n)}}function Zf(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?Zf(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function Xf(){for(var e=window,t=Qo();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=Qo(e.document)}return t}function uc(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function Wg(e){var t=Xf(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&Zf(n.ownerDocument.documentElement,n)){if(r!==null&&uc(n)){if(t=r.start,e=r.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var i=n.textContent.length,o=Math.min(r.start,i);r=r.end===void 0?o:Math.min(r.end,i),!e.extend&&o>r&&(i=r,r=o,o=i),i=_u(n,o);var l=_u(n,r);i&&l&&(e.rangeCount!==1||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==l.node||e.focusOffset!==l.offset)&&(t=t.createRange(),t.setStart(i.node,i.offset),e.removeAllRanges(),o>r?(e.addRange(t),e.extend(l.node,l.offset)):(t.setEnd(l.node,l.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var Hg=dn&&"documentMode"in document&&11>=document.documentMode,Nr=null,Xl=null,bi=null,ql=!1;function Mu(e,t,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;ql||Nr==null||Nr!==Qo(r)||(r=Nr,"selectionStart"in r&&uc(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),bi&&Ai(bi,r)||(bi=r,r=es(Xl,"onSelect"),0<r.length&&(t=new lc("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=Nr)))}function yo(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var br={animationend:yo("Animation","AnimationEnd"),animationiteration:yo("Animation","AnimationIteration"),animationstart:yo("Animation","AnimationStart"),transitionend:yo("Transition","TransitionEnd")},ol={},qf={};dn&&(qf=document.createElement("div").style,"AnimationEvent"in window||(delete br.animationend.animation,delete br.animationiteration.animation,delete br.animationstart.animation),"TransitionEvent"in window||delete br.transitionend.transition);function _s(e){if(ol[e])return ol[e];if(!br[e])return e;var t=br[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in qf)return ol[e]=t[n];return e}var em=_s("animationend"),tm=_s("animationiteration"),nm=_s("animationstart"),rm=_s("transitionend"),im=new Map,Iu="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Wn(e,t){im.set(e,t),dr(t,[e])}for(var sl=0;sl<Iu.length;sl++){var ll=Iu[sl],Gg=ll.toLowerCase(),Qg=ll[0].toUpperCase()+ll.slice(1);Wn(Gg,"on"+Qg)}Wn(em,"onAnimationEnd");Wn(tm,"onAnimationIteration");Wn(nm,"onAnimationStart");Wn("dblclick","onDoubleClick");Wn("focusin","onFocus");Wn("focusout","onBlur");Wn(rm,"onTransitionEnd");Br("onMouseEnter",["mouseout","mouseover"]);Br("onMouseLeave",["mouseout","mouseover"]);Br("onPointerEnter",["pointerout","pointerover"]);Br("onPointerLeave",["pointerout","pointerover"]);dr("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));dr("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));dr("onBeforeInput",["compositionend","keypress","textInput","paste"]);dr("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));dr("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));dr("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Si="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Kg=new Set("cancel close invalid load scroll toggle".split(" ").concat(Si));function Tu(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,Gp(r,t,void 0,e),e.currentTarget=null}function om(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var o=void 0;if(t)for(var l=r.length-1;0<=l;l--){var u=r[l],a=u.instance,c=u.currentTarget;if(u=u.listener,a!==o&&i.isPropagationStopped())break e;Tu(i,u,c),o=a}else for(l=0;l<r.length;l++){if(u=r[l],a=u.instance,c=u.currentTarget,u=u.listener,a!==o&&i.isPropagationStopped())break e;Tu(i,u,c),o=a}}}if(Yo)throw e=Kl,Yo=!1,Kl=null,e}function Pe(e,t){var n=t[ia];n===void 0&&(n=t[ia]=new Set);var r=e+"__bubble";n.has(r)||(sm(t,e,2,!1),n.add(r))}function al(e,t,n){var r=0;t&&(r|=4),sm(n,e,r,t)}var vo="_reactListening"+Math.random().toString(36).slice(2);function Fi(e){if(!e[vo]){e[vo]=!0,mf.forEach(function(n){n!=="selectionchange"&&(Kg.has(n)||al(n,!1,e),al(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[vo]||(t[vo]=!0,al("selectionchange",!1,t))}}function sm(e,t,n,r){switch(Vf(t)){case 1:var i=ag;break;case 4:i=cg;break;default:i=oc}n=i.bind(null,t,n,e),i=void 0,!Ql||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(i=!0),r?i!==void 0?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):i!==void 0?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function cl(e,t,n,r,i){var o=r;if(!(t&1)&&!(t&2)&&r!==null)e:for(;;){if(r===null)return;var l=r.tag;if(l===3||l===4){var u=r.stateNode.containerInfo;if(u===i||u.nodeType===8&&u.parentNode===i)break;if(l===4)for(l=r.return;l!==null;){var a=l.tag;if((a===3||a===4)&&(a=l.stateNode.containerInfo,a===i||a.nodeType===8&&a.parentNode===i))return;l=l.return}for(;u!==null;){if(l=qn(u),l===null)return;if(a=l.tag,a===5||a===6){r=o=l;continue e}u=u.parentNode}}r=r.return}Mf(function(){var c=o,d=tc(n),f=[];e:{var g=im.get(e);if(g!==void 0){var S=lc,p=e;switch(e){case"keypress":if(Fo(n)===0)break e;case"keydown":case"keyup":S=Ng;break;case"focusin":p="focus",S=nl;break;case"focusout":p="blur",S=nl;break;case"beforeblur":case"afterblur":S=nl;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":S=Su;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":S=fg;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":S=Eg;break;case em:case tm:case nm:S=pg;break;case rm:S=Mg;break;case"scroll":S=ug;break;case"wheel":S=Tg;break;case"copy":case"cut":case"paste":S=yg;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":S=xu}var v=(t&4)!==0,C=!v&&e==="scroll",m=v?g!==null?g+"Capture":null:g;v=[];for(var h=c,y;h!==null;){y=h;var j=y.stateNode;if(y.tag===5&&j!==null&&(y=j,m!==null&&(j=Pi(h,m),j!=null&&v.push(zi(h,j,y)))),C)break;h=h.return}0<v.length&&(g=new S(g,p,null,n,d),f.push({event:g,listeners:v}))}}if(!(t&7)){e:{if(g=e==="mouseover"||e==="pointerover",S=e==="mouseout"||e==="pointerout",g&&n!==Hl&&(p=n.relatedTarget||n.fromElement)&&(qn(p)||p[fn]))break e;if((S||g)&&(g=d.window===d?d:(g=d.ownerDocument)?g.defaultView||g.parentWindow:window,S?(p=n.relatedTarget||n.toElement,S=c,p=p?qn(p):null,p!==null&&(C=fr(p),p!==C||p.tag!==5&&p.tag!==6)&&(p=null)):(S=null,p=c),S!==p)){if(v=Su,j="onMouseLeave",m="onMouseEnter",h="mouse",(e==="pointerout"||e==="pointerover")&&(v=xu,j="onPointerLeave",m="onPointerEnter",h="pointer"),C=S==null?g:kr(S),y=p==null?g:kr(p),g=new v(j,h+"leave",S,n,d),g.target=C,g.relatedTarget=y,j=null,qn(d)===c&&(v=new v(m,h+"enter",p,n,d),v.target=y,v.relatedTarget=C,j=v),C=j,S&&p)t:{for(v=S,m=p,h=0,y=v;y;y=gr(y))h++;for(y=0,j=m;j;j=gr(j))y++;for(;0<h-y;)v=gr(v),h--;for(;0<y-h;)m=gr(m),y--;for(;h--;){if(v===m||m!==null&&v===m.alternate)break t;v=gr(v),m=gr(m)}v=null}else v=null;S!==null&&Pu(f,g,S,v,!1),p!==null&&C!==null&&Pu(f,C,p,v,!0)}}e:{if(g=c?kr(c):window,S=g.nodeName&&g.nodeName.toLowerCase(),S==="select"||S==="input"&&g.type==="file")var E=Fg;else if(Nu(g))if(Yf)E=Bg;else{E=Ug;var D=zg}else(S=g.nodeName)&&S.toLowerCase()==="input"&&(g.type==="checkbox"||g.type==="radio")&&(E=$g);if(E&&(E=E(e,c))){Kf(f,E,n,d);break e}D&&D(e,g,c),e==="focusout"&&(D=g._wrapperState)&&D.controlled&&g.type==="number"&&Ul(g,"number",g.value)}switch(D=c?kr(c):window,e){case"focusin":(Nu(D)||D.contentEditable==="true")&&(Nr=D,Xl=c,bi=null);break;case"focusout":bi=Xl=Nr=null;break;case"mousedown":ql=!0;break;case"contextmenu":case"mouseup":case"dragend":ql=!1,Mu(f,n,d);break;case"selectionchange":if(Hg)break;case"keydown":case"keyup":Mu(f,n,d)}var _;if(cc)e:{switch(e){case"compositionstart":var M="onCompositionStart";break e;case"compositionend":M="onCompositionEnd";break e;case"compositionupdate":M="onCompositionUpdate";break e}M=void 0}else jr?Gf(e,n)&&(M="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(M="onCompositionStart");M&&(Hf&&n.locale!=="ko"&&(jr||M!=="onCompositionStart"?M==="onCompositionEnd"&&jr&&(_=Wf()):(En=d,sc="value"in En?En.value:En.textContent,jr=!0)),D=es(c,M),0<D.length&&(M=new wu(M,e,null,n,d),f.push({event:M,listeners:D}),_?M.data=_:(_=Qf(n),_!==null&&(M.data=_)))),(_=Dg?Lg(e,n):Rg(e,n))&&(c=es(c,"onBeforeInput"),0<c.length&&(d=new wu("onBeforeInput","beforeinput",null,n,d),f.push({event:d,listeners:c}),d.data=_))}om(f,t)})}function zi(e,t,n){return{instance:e,listener:t,currentTarget:n}}function es(e,t){for(var n=t+"Capture",r=[];e!==null;){var i=e,o=i.stateNode;i.tag===5&&o!==null&&(i=o,o=Pi(e,n),o!=null&&r.unshift(zi(e,o,i)),o=Pi(e,t),o!=null&&r.push(zi(e,o,i))),e=e.return}return r}function gr(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function Pu(e,t,n,r,i){for(var o=t._reactName,l=[];n!==null&&n!==r;){var u=n,a=u.alternate,c=u.stateNode;if(a!==null&&a===r)break;u.tag===5&&c!==null&&(u=c,i?(a=Pi(n,o),a!=null&&l.unshift(zi(n,a,u))):i||(a=Pi(n,o),a!=null&&l.push(zi(n,a,u)))),n=n.return}l.length!==0&&e.push({event:t,listeners:l})}var Yg=/\r\n?/g,Jg=/\u0000|\uFFFD/g;function Du(e){return(typeof e=="string"?e:""+e).replace(Yg,`
`).replace(Jg,"")}function So(e,t,n){if(t=Du(t),Du(e)!==t&&n)throw Error($(425))}function ts(){}var ea=null,ta=null;function na(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var ra=typeof setTimeout=="function"?setTimeout:void 0,Zg=typeof clearTimeout=="function"?clearTimeout:void 0,Lu=typeof Promise=="function"?Promise:void 0,Xg=typeof queueMicrotask=="function"?queueMicrotask:typeof Lu<"u"?function(e){return Lu.resolve(null).then(e).catch(qg)}:ra;function qg(e){setTimeout(function(){throw e})}function ul(e,t){var n=t,r=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){e.removeChild(i),Ri(t);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);Ri(t)}function Ln(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function Ru(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var ti=Math.random().toString(36).slice(2),Zt="__reactFiber$"+ti,Ui="__reactProps$"+ti,fn="__reactContainer$"+ti,ia="__reactEvents$"+ti,ey="__reactListeners$"+ti,ty="__reactHandles$"+ti;function qn(e){var t=e[Zt];if(t)return t;for(var n=e.parentNode;n;){if(t=n[fn]||n[Zt]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=Ru(e);e!==null;){if(n=e[Zt])return n;e=Ru(e)}return t}e=n,n=e.parentNode}return null}function no(e){return e=e[Zt]||e[fn],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function kr(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error($(33))}function Ms(e){return e[Ui]||null}var oa=[],Er=-1;function Hn(e){return{current:e}}function De(e){0>Er||(e.current=oa[Er],oa[Er]=null,Er--)}function Te(e,t){Er++,oa[Er]=e.current,e.current=t}var Bn={},mt=Hn(Bn),Ct=Hn(!1),ir=Bn;function Vr(e,t){var n=e.type.contextTypes;if(!n)return Bn;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i={},o;for(o in n)i[o]=t[o];return r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=i),i}function jt(e){return e=e.childContextTypes,e!=null}function ns(){De(Ct),De(mt)}function Ou(e,t,n){if(mt.current!==Bn)throw Error($(168));Te(mt,t),Te(Ct,n)}function lm(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in t))throw Error($(108,zp(e)||"Unknown",i));return Ve({},n,r)}function rs(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Bn,ir=mt.current,Te(mt,e),Te(Ct,Ct.current),!0}function Au(e,t,n){var r=e.stateNode;if(!r)throw Error($(169));n?(e=lm(e,t,ir),r.__reactInternalMemoizedMergedChildContext=e,De(Ct),De(mt),Te(mt,e)):De(Ct),Te(Ct,n)}var on=null,Is=!1,dl=!1;function am(e){on===null?on=[e]:on.push(e)}function ny(e){Is=!0,am(e)}function Gn(){if(!dl&&on!==null){dl=!0;var e=0,t=be;try{var n=on;for(be=1;e<n.length;e++){var r=n[e];do r=r(!0);while(r!==null)}on=null,Is=!1}catch(i){throw on!==null&&(on=on.slice(e+1)),Df(nc,Gn),i}finally{be=t,dl=!1}}return null}var _r=[],Mr=0,is=null,os=0,Dt=[],Lt=0,or=null,an=1,cn="";function Yn(e,t){_r[Mr++]=os,_r[Mr++]=is,is=e,os=t}function cm(e,t,n){Dt[Lt++]=an,Dt[Lt++]=cn,Dt[Lt++]=or,or=e;var r=an;e=cn;var i=32-Vt(r)-1;r&=~(1<<i),n+=1;var o=32-Vt(t)+i;if(30<o){var l=i-i%5;o=(r&(1<<l)-1).toString(32),r>>=l,i-=l,an=1<<32-Vt(t)+i|n<<i|r,cn=o+e}else an=1<<o|n<<i|r,cn=e}function dc(e){e.return!==null&&(Yn(e,1),cm(e,1,0))}function fc(e){for(;e===is;)is=_r[--Mr],_r[Mr]=null,os=_r[--Mr],_r[Mr]=null;for(;e===or;)or=Dt[--Lt],Dt[Lt]=null,cn=Dt[--Lt],Dt[Lt]=null,an=Dt[--Lt],Dt[Lt]=null}var _t=null,kt=null,Re=!1,Bt=null;function um(e,t){var n=Rt(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function Fu(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,_t=e,kt=Ln(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,_t=e,kt=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=or!==null?{id:an,overflow:cn}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=Rt(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,_t=e,kt=null,!0):!1;default:return!1}}function sa(e){return(e.mode&1)!==0&&(e.flags&128)===0}function la(e){if(Re){var t=kt;if(t){var n=t;if(!Fu(e,t)){if(sa(e))throw Error($(418));t=Ln(n.nextSibling);var r=_t;t&&Fu(e,t)?um(r,n):(e.flags=e.flags&-4097|2,Re=!1,_t=e)}}else{if(sa(e))throw Error($(418));e.flags=e.flags&-4097|2,Re=!1,_t=e}}}function zu(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;_t=e}function wo(e){if(e!==_t)return!1;if(!Re)return zu(e),Re=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!na(e.type,e.memoizedProps)),t&&(t=kt)){if(sa(e))throw dm(),Error($(418));for(;t;)um(e,t),t=Ln(t.nextSibling)}if(zu(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error($(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){kt=Ln(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}kt=null}}else kt=_t?Ln(e.stateNode.nextSibling):null;return!0}function dm(){for(var e=kt;e;)e=Ln(e.nextSibling)}function Wr(){kt=_t=null,Re=!1}function mc(e){Bt===null?Bt=[e]:Bt.push(e)}var ry=yn.ReactCurrentBatchConfig;function di(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error($(309));var r=n.stateNode}if(!r)throw Error($(147,e));var i=r,o=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===o?t.ref:(t=function(l){var u=i.refs;l===null?delete u[o]:u[o]=l},t._stringRef=o,t)}if(typeof e!="string")throw Error($(284));if(!n._owner)throw Error($(290,e))}return e}function xo(e,t){throw e=Object.prototype.toString.call(t),Error($(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Uu(e){var t=e._init;return t(e._payload)}function fm(e){function t(m,h){if(e){var y=m.deletions;y===null?(m.deletions=[h],m.flags|=16):y.push(h)}}function n(m,h){if(!e)return null;for(;h!==null;)t(m,h),h=h.sibling;return null}function r(m,h){for(m=new Map;h!==null;)h.key!==null?m.set(h.key,h):m.set(h.index,h),h=h.sibling;return m}function i(m,h){return m=Fn(m,h),m.index=0,m.sibling=null,m}function o(m,h,y){return m.index=y,e?(y=m.alternate,y!==null?(y=y.index,y<h?(m.flags|=2,h):y):(m.flags|=2,h)):(m.flags|=1048576,h)}function l(m){return e&&m.alternate===null&&(m.flags|=2),m}function u(m,h,y,j){return h===null||h.tag!==6?(h=vl(y,m.mode,j),h.return=m,h):(h=i(h,y),h.return=m,h)}function a(m,h,y,j){var E=y.type;return E===Cr?d(m,h,y.props.children,j,y.key):h!==null&&(h.elementType===E||typeof E=="object"&&E!==null&&E.$$typeof===Cn&&Uu(E)===h.type)?(j=i(h,y.props),j.ref=di(m,h,y),j.return=m,j):(j=Ho(y.type,y.key,y.props,null,m.mode,j),j.ref=di(m,h,y),j.return=m,j)}function c(m,h,y,j){return h===null||h.tag!==4||h.stateNode.containerInfo!==y.containerInfo||h.stateNode.implementation!==y.implementation?(h=Sl(y,m.mode,j),h.return=m,h):(h=i(h,y.children||[]),h.return=m,h)}function d(m,h,y,j,E){return h===null||h.tag!==7?(h=rr(y,m.mode,j,E),h.return=m,h):(h=i(h,y),h.return=m,h)}function f(m,h,y){if(typeof h=="string"&&h!==""||typeof h=="number")return h=vl(""+h,m.mode,y),h.return=m,h;if(typeof h=="object"&&h!==null){switch(h.$$typeof){case co:return y=Ho(h.type,h.key,h.props,null,m.mode,y),y.ref=di(m,null,h),y.return=m,y;case xr:return h=Sl(h,m.mode,y),h.return=m,h;case Cn:var j=h._init;return f(m,j(h._payload),y)}if(yi(h)||si(h))return h=rr(h,m.mode,y,null),h.return=m,h;xo(m,h)}return null}function g(m,h,y,j){var E=h!==null?h.key:null;if(typeof y=="string"&&y!==""||typeof y=="number")return E!==null?null:u(m,h,""+y,j);if(typeof y=="object"&&y!==null){switch(y.$$typeof){case co:return y.key===E?a(m,h,y,j):null;case xr:return y.key===E?c(m,h,y,j):null;case Cn:return E=y._init,g(m,h,E(y._payload),j)}if(yi(y)||si(y))return E!==null?null:d(m,h,y,j,null);xo(m,y)}return null}function S(m,h,y,j,E){if(typeof j=="string"&&j!==""||typeof j=="number")return m=m.get(y)||null,u(h,m,""+j,E);if(typeof j=="object"&&j!==null){switch(j.$$typeof){case co:return m=m.get(j.key===null?y:j.key)||null,a(h,m,j,E);case xr:return m=m.get(j.key===null?y:j.key)||null,c(h,m,j,E);case Cn:var D=j._init;return S(m,h,y,D(j._payload),E)}if(yi(j)||si(j))return m=m.get(y)||null,d(h,m,j,E,null);xo(h,j)}return null}function p(m,h,y,j){for(var E=null,D=null,_=h,M=h=0,z=null;_!==null&&M<y.length;M++){_.index>M?(z=_,_=null):z=_.sibling;var A=g(m,_,y[M],j);if(A===null){_===null&&(_=z);break}e&&_&&A.alternate===null&&t(m,_),h=o(A,h,M),D===null?E=A:D.sibling=A,D=A,_=z}if(M===y.length)return n(m,_),Re&&Yn(m,M),E;if(_===null){for(;M<y.length;M++)_=f(m,y[M],j),_!==null&&(h=o(_,h,M),D===null?E=_:D.sibling=_,D=_);return Re&&Yn(m,M),E}for(_=r(m,_);M<y.length;M++)z=S(_,m,M,y[M],j),z!==null&&(e&&z.alternate!==null&&_.delete(z.key===null?M:z.key),h=o(z,h,M),D===null?E=z:D.sibling=z,D=z);return e&&_.forEach(function(U){return t(m,U)}),Re&&Yn(m,M),E}function v(m,h,y,j){var E=si(y);if(typeof E!="function")throw Error($(150));if(y=E.call(y),y==null)throw Error($(151));for(var D=E=null,_=h,M=h=0,z=null,A=y.next();_!==null&&!A.done;M++,A=y.next()){_.index>M?(z=_,_=null):z=_.sibling;var U=g(m,_,A.value,j);if(U===null){_===null&&(_=z);break}e&&_&&U.alternate===null&&t(m,_),h=o(U,h,M),D===null?E=U:D.sibling=U,D=U,_=z}if(A.done)return n(m,_),Re&&Yn(m,M),E;if(_===null){for(;!A.done;M++,A=y.next())A=f(m,A.value,j),A!==null&&(h=o(A,h,M),D===null?E=A:D.sibling=A,D=A);return Re&&Yn(m,M),E}for(_=r(m,_);!A.done;M++,A=y.next())A=S(_,m,M,A.value,j),A!==null&&(e&&A.alternate!==null&&_.delete(A.key===null?M:A.key),h=o(A,h,M),D===null?E=A:D.sibling=A,D=A);return e&&_.forEach(function(H){return t(m,H)}),Re&&Yn(m,M),E}function C(m,h,y,j){if(typeof y=="object"&&y!==null&&y.type===Cr&&y.key===null&&(y=y.props.children),typeof y=="object"&&y!==null){switch(y.$$typeof){case co:e:{for(var E=y.key,D=h;D!==null;){if(D.key===E){if(E=y.type,E===Cr){if(D.tag===7){n(m,D.sibling),h=i(D,y.props.children),h.return=m,m=h;break e}}else if(D.elementType===E||typeof E=="object"&&E!==null&&E.$$typeof===Cn&&Uu(E)===D.type){n(m,D.sibling),h=i(D,y.props),h.ref=di(m,D,y),h.return=m,m=h;break e}n(m,D);break}else t(m,D);D=D.sibling}y.type===Cr?(h=rr(y.props.children,m.mode,j,y.key),h.return=m,m=h):(j=Ho(y.type,y.key,y.props,null,m.mode,j),j.ref=di(m,h,y),j.return=m,m=j)}return l(m);case xr:e:{for(D=y.key;h!==null;){if(h.key===D)if(h.tag===4&&h.stateNode.containerInfo===y.containerInfo&&h.stateNode.implementation===y.implementation){n(m,h.sibling),h=i(h,y.children||[]),h.return=m,m=h;break e}else{n(m,h);break}else t(m,h);h=h.sibling}h=Sl(y,m.mode,j),h.return=m,m=h}return l(m);case Cn:return D=y._init,C(m,h,D(y._payload),j)}if(yi(y))return p(m,h,y,j);if(si(y))return v(m,h,y,j);xo(m,y)}return typeof y=="string"&&y!==""||typeof y=="number"?(y=""+y,h!==null&&h.tag===6?(n(m,h.sibling),h=i(h,y),h.return=m,m=h):(n(m,h),h=vl(y,m.mode,j),h.return=m,m=h),l(m)):n(m,h)}return C}var Hr=fm(!0),mm=fm(!1),ss=Hn(null),ls=null,Ir=null,hc=null;function pc(){hc=Ir=ls=null}function gc(e){var t=ss.current;De(ss),e._currentValue=t}function aa(e,t,n){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function zr(e,t){ls=e,hc=Ir=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(xt=!0),e.firstContext=null)}function At(e){var t=e._currentValue;if(hc!==e)if(e={context:e,memoizedValue:t,next:null},Ir===null){if(ls===null)throw Error($(308));Ir=e,ls.dependencies={lanes:0,firstContext:e}}else Ir=Ir.next=e;return t}var er=null;function yc(e){er===null?er=[e]:er.push(e)}function hm(e,t,n,r){var i=t.interleaved;return i===null?(n.next=n,yc(t)):(n.next=i.next,i.next=n),t.interleaved=n,mn(e,r)}function mn(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var jn=!1;function vc(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function pm(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function un(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Rn(e,t,n){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,we&2){var i=r.pending;return i===null?t.next=t:(t.next=i.next,i.next=t),r.pending=t,mn(e,n)}return i=r.interleaved,i===null?(t.next=t,yc(r)):(t.next=i.next,i.next=t),r.interleaved=t,mn(e,n)}function zo(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,rc(e,n)}}function $u(e,t){var n=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,o=null;if(n=n.firstBaseUpdate,n!==null){do{var l={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};o===null?i=o=l:o=o.next=l,n=n.next}while(n!==null);o===null?i=o=t:o=o.next=t}else i=o=t;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:o,shared:r.shared,effects:r.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function as(e,t,n,r){var i=e.updateQueue;jn=!1;var o=i.firstBaseUpdate,l=i.lastBaseUpdate,u=i.shared.pending;if(u!==null){i.shared.pending=null;var a=u,c=a.next;a.next=null,l===null?o=c:l.next=c,l=a;var d=e.alternate;d!==null&&(d=d.updateQueue,u=d.lastBaseUpdate,u!==l&&(u===null?d.firstBaseUpdate=c:u.next=c,d.lastBaseUpdate=a))}if(o!==null){var f=i.baseState;l=0,d=c=a=null,u=o;do{var g=u.lane,S=u.eventTime;if((r&g)===g){d!==null&&(d=d.next={eventTime:S,lane:0,tag:u.tag,payload:u.payload,callback:u.callback,next:null});e:{var p=e,v=u;switch(g=t,S=n,v.tag){case 1:if(p=v.payload,typeof p=="function"){f=p.call(S,f,g);break e}f=p;break e;case 3:p.flags=p.flags&-65537|128;case 0:if(p=v.payload,g=typeof p=="function"?p.call(S,f,g):p,g==null)break e;f=Ve({},f,g);break e;case 2:jn=!0}}u.callback!==null&&u.lane!==0&&(e.flags|=64,g=i.effects,g===null?i.effects=[u]:g.push(u))}else S={eventTime:S,lane:g,tag:u.tag,payload:u.payload,callback:u.callback,next:null},d===null?(c=d=S,a=f):d=d.next=S,l|=g;if(u=u.next,u===null){if(u=i.shared.pending,u===null)break;g=u,u=g.next,g.next=null,i.lastBaseUpdate=g,i.shared.pending=null}}while(!0);if(d===null&&(a=f),i.baseState=a,i.firstBaseUpdate=c,i.lastBaseUpdate=d,t=i.shared.interleaved,t!==null){i=t;do l|=i.lane,i=i.next;while(i!==t)}else o===null&&(i.shared.lanes=0);lr|=l,e.lanes=l,e.memoizedState=f}}function Bu(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error($(191,i));i.call(r)}}}var ro={},en=Hn(ro),$i=Hn(ro),Bi=Hn(ro);function tr(e){if(e===ro)throw Error($(174));return e}function Sc(e,t){switch(Te(Bi,t),Te($i,e),Te(en,ro),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:Bl(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=Bl(t,e)}De(en),Te(en,t)}function Gr(){De(en),De($i),De(Bi)}function gm(e){tr(Bi.current);var t=tr(en.current),n=Bl(t,e.type);t!==n&&(Te($i,e),Te(en,n))}function wc(e){$i.current===e&&(De(en),De($i))}var ze=Hn(0);function cs(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var fl=[];function xc(){for(var e=0;e<fl.length;e++)fl[e]._workInProgressVersionPrimary=null;fl.length=0}var Uo=yn.ReactCurrentDispatcher,ml=yn.ReactCurrentBatchConfig,sr=0,$e=null,et=null,nt=null,us=!1,ki=!1,Vi=0,iy=0;function at(){throw Error($(321))}function Cc(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!Ht(e[n],t[n]))return!1;return!0}function jc(e,t,n,r,i,o){if(sr=o,$e=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Uo.current=e===null||e.memoizedState===null?ay:cy,e=n(r,i),ki){o=0;do{if(ki=!1,Vi=0,25<=o)throw Error($(301));o+=1,nt=et=null,t.updateQueue=null,Uo.current=uy,e=n(r,i)}while(ki)}if(Uo.current=ds,t=et!==null&&et.next!==null,sr=0,nt=et=$e=null,us=!1,t)throw Error($(300));return e}function Nc(){var e=Vi!==0;return Vi=0,e}function Jt(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return nt===null?$e.memoizedState=nt=e:nt=nt.next=e,nt}function Ft(){if(et===null){var e=$e.alternate;e=e!==null?e.memoizedState:null}else e=et.next;var t=nt===null?$e.memoizedState:nt.next;if(t!==null)nt=t,et=e;else{if(e===null)throw Error($(310));et=e,e={memoizedState:et.memoizedState,baseState:et.baseState,baseQueue:et.baseQueue,queue:et.queue,next:null},nt===null?$e.memoizedState=nt=e:nt=nt.next=e}return nt}function Wi(e,t){return typeof t=="function"?t(e):t}function hl(e){var t=Ft(),n=t.queue;if(n===null)throw Error($(311));n.lastRenderedReducer=e;var r=et,i=r.baseQueue,o=n.pending;if(o!==null){if(i!==null){var l=i.next;i.next=o.next,o.next=l}r.baseQueue=i=o,n.pending=null}if(i!==null){o=i.next,r=r.baseState;var u=l=null,a=null,c=o;do{var d=c.lane;if((sr&d)===d)a!==null&&(a=a.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),r=c.hasEagerState?c.eagerState:e(r,c.action);else{var f={lane:d,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};a===null?(u=a=f,l=r):a=a.next=f,$e.lanes|=d,lr|=d}c=c.next}while(c!==null&&c!==o);a===null?l=r:a.next=u,Ht(r,t.memoizedState)||(xt=!0),t.memoizedState=r,t.baseState=l,t.baseQueue=a,n.lastRenderedState=r}if(e=n.interleaved,e!==null){i=e;do o=i.lane,$e.lanes|=o,lr|=o,i=i.next;while(i!==e)}else i===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function pl(e){var t=Ft(),n=t.queue;if(n===null)throw Error($(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,o=t.memoizedState;if(i!==null){n.pending=null;var l=i=i.next;do o=e(o,l.action),l=l.next;while(l!==i);Ht(o,t.memoizedState)||(xt=!0),t.memoizedState=o,t.baseQueue===null&&(t.baseState=o),n.lastRenderedState=o}return[o,r]}function ym(){}function vm(e,t){var n=$e,r=Ft(),i=t(),o=!Ht(r.memoizedState,i);if(o&&(r.memoizedState=i,xt=!0),r=r.queue,bc(xm.bind(null,n,r,e),[e]),r.getSnapshot!==t||o||nt!==null&&nt.memoizedState.tag&1){if(n.flags|=2048,Hi(9,wm.bind(null,n,r,i,t),void 0,null),rt===null)throw Error($(349));sr&30||Sm(n,t,i)}return i}function Sm(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=$e.updateQueue,t===null?(t={lastEffect:null,stores:null},$e.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function wm(e,t,n,r){t.value=n,t.getSnapshot=r,Cm(t)&&jm(e)}function xm(e,t,n){return n(function(){Cm(t)&&jm(e)})}function Cm(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!Ht(e,n)}catch{return!0}}function jm(e){var t=mn(e,1);t!==null&&Wt(t,e,1,-1)}function Vu(e){var t=Jt();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Wi,lastRenderedState:e},t.queue=e,e=e.dispatch=ly.bind(null,$e,e),[t.memoizedState,e]}function Hi(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},t=$e.updateQueue,t===null?(t={lastEffect:null,stores:null},$e.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e)),e}function Nm(){return Ft().memoizedState}function $o(e,t,n,r){var i=Jt();$e.flags|=e,i.memoizedState=Hi(1|t,n,void 0,r===void 0?null:r)}function Ts(e,t,n,r){var i=Ft();r=r===void 0?null:r;var o=void 0;if(et!==null){var l=et.memoizedState;if(o=l.destroy,r!==null&&Cc(r,l.deps)){i.memoizedState=Hi(t,n,o,r);return}}$e.flags|=e,i.memoizedState=Hi(1|t,n,o,r)}function Wu(e,t){return $o(8390656,8,e,t)}function bc(e,t){return Ts(2048,8,e,t)}function bm(e,t){return Ts(4,2,e,t)}function km(e,t){return Ts(4,4,e,t)}function Em(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function _m(e,t,n){return n=n!=null?n.concat([e]):null,Ts(4,4,Em.bind(null,t,e),n)}function kc(){}function Mm(e,t){var n=Ft();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&Cc(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Im(e,t){var n=Ft();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&Cc(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function Tm(e,t,n){return sr&21?(Ht(n,t)||(n=Of(),$e.lanes|=n,lr|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,xt=!0),e.memoizedState=n)}function oy(e,t){var n=be;be=n!==0&&4>n?n:4,e(!0);var r=ml.transition;ml.transition={};try{e(!1),t()}finally{be=n,ml.transition=r}}function Pm(){return Ft().memoizedState}function sy(e,t,n){var r=An(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},Dm(e))Lm(t,n);else if(n=hm(e,t,n,r),n!==null){var i=gt();Wt(n,e,r,i),Rm(n,t,r)}}function ly(e,t,n){var r=An(e),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(Dm(e))Lm(t,i);else{var o=e.alternate;if(e.lanes===0&&(o===null||o.lanes===0)&&(o=t.lastRenderedReducer,o!==null))try{var l=t.lastRenderedState,u=o(l,n);if(i.hasEagerState=!0,i.eagerState=u,Ht(u,l)){var a=t.interleaved;a===null?(i.next=i,yc(t)):(i.next=a.next,a.next=i),t.interleaved=i;return}}catch{}finally{}n=hm(e,t,i,r),n!==null&&(i=gt(),Wt(n,e,r,i),Rm(n,t,r))}}function Dm(e){var t=e.alternate;return e===$e||t!==null&&t===$e}function Lm(e,t){ki=us=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function Rm(e,t,n){if(n&4194240){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,rc(e,n)}}var ds={readContext:At,useCallback:at,useContext:at,useEffect:at,useImperativeHandle:at,useInsertionEffect:at,useLayoutEffect:at,useMemo:at,useReducer:at,useRef:at,useState:at,useDebugValue:at,useDeferredValue:at,useTransition:at,useMutableSource:at,useSyncExternalStore:at,useId:at,unstable_isNewReconciler:!1},ay={readContext:At,useCallback:function(e,t){return Jt().memoizedState=[e,t===void 0?null:t],e},useContext:At,useEffect:Wu,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,$o(4194308,4,Em.bind(null,t,e),n)},useLayoutEffect:function(e,t){return $o(4194308,4,e,t)},useInsertionEffect:function(e,t){return $o(4,2,e,t)},useMemo:function(e,t){var n=Jt();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=Jt();return t=n!==void 0?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=sy.bind(null,$e,e),[r.memoizedState,e]},useRef:function(e){var t=Jt();return e={current:e},t.memoizedState=e},useState:Vu,useDebugValue:kc,useDeferredValue:function(e){return Jt().memoizedState=e},useTransition:function(){var e=Vu(!1),t=e[0];return e=oy.bind(null,e[1]),Jt().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=$e,i=Jt();if(Re){if(n===void 0)throw Error($(407));n=n()}else{if(n=t(),rt===null)throw Error($(349));sr&30||Sm(r,t,n)}i.memoizedState=n;var o={value:n,getSnapshot:t};return i.queue=o,Wu(xm.bind(null,r,o,e),[e]),r.flags|=2048,Hi(9,wm.bind(null,r,o,n,t),void 0,null),n},useId:function(){var e=Jt(),t=rt.identifierPrefix;if(Re){var n=cn,r=an;n=(r&~(1<<32-Vt(r)-1)).toString(32)+n,t=":"+t+"R"+n,n=Vi++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=iy++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},cy={readContext:At,useCallback:Mm,useContext:At,useEffect:bc,useImperativeHandle:_m,useInsertionEffect:bm,useLayoutEffect:km,useMemo:Im,useReducer:hl,useRef:Nm,useState:function(){return hl(Wi)},useDebugValue:kc,useDeferredValue:function(e){var t=Ft();return Tm(t,et.memoizedState,e)},useTransition:function(){var e=hl(Wi)[0],t=Ft().memoizedState;return[e,t]},useMutableSource:ym,useSyncExternalStore:vm,useId:Pm,unstable_isNewReconciler:!1},uy={readContext:At,useCallback:Mm,useContext:At,useEffect:bc,useImperativeHandle:_m,useInsertionEffect:bm,useLayoutEffect:km,useMemo:Im,useReducer:pl,useRef:Nm,useState:function(){return pl(Wi)},useDebugValue:kc,useDeferredValue:function(e){var t=Ft();return et===null?t.memoizedState=e:Tm(t,et.memoizedState,e)},useTransition:function(){var e=pl(Wi)[0],t=Ft().memoizedState;return[e,t]},useMutableSource:ym,useSyncExternalStore:vm,useId:Pm,unstable_isNewReconciler:!1};function Ut(e,t){if(e&&e.defaultProps){t=Ve({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}function ca(e,t,n,r){t=e.memoizedState,n=n(r,t),n=n==null?t:Ve({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var Ps={isMounted:function(e){return(e=e._reactInternals)?fr(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=gt(),i=An(e),o=un(r,i);o.payload=t,n!=null&&(o.callback=n),t=Rn(e,o,i),t!==null&&(Wt(t,e,i,r),zo(t,e,i))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=gt(),i=An(e),o=un(r,i);o.tag=1,o.payload=t,n!=null&&(o.callback=n),t=Rn(e,o,i),t!==null&&(Wt(t,e,i,r),zo(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=gt(),r=An(e),i=un(n,r);i.tag=2,t!=null&&(i.callback=t),t=Rn(e,i,r),t!==null&&(Wt(t,e,r,n),zo(t,e,r))}};function Hu(e,t,n,r,i,o,l){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,o,l):t.prototype&&t.prototype.isPureReactComponent?!Ai(n,r)||!Ai(i,o):!0}function Om(e,t,n){var r=!1,i=Bn,o=t.contextType;return typeof o=="object"&&o!==null?o=At(o):(i=jt(t)?ir:mt.current,r=t.contextTypes,o=(r=r!=null)?Vr(e,i):Bn),t=new t(n,o),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=Ps,e.stateNode=t,t._reactInternals=e,r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=o),t}function Gu(e,t,n,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&Ps.enqueueReplaceState(t,t.state,null)}function ua(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs={},vc(e);var o=t.contextType;typeof o=="object"&&o!==null?i.context=At(o):(o=jt(t)?ir:mt.current,i.context=Vr(e,o)),i.state=e.memoizedState,o=t.getDerivedStateFromProps,typeof o=="function"&&(ca(e,t,o,n),i.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(t=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),t!==i.state&&Ps.enqueueReplaceState(i,i.state,null),as(e,n,i,r),i.state=e.memoizedState),typeof i.componentDidMount=="function"&&(e.flags|=4194308)}function Qr(e,t){try{var n="",r=t;do n+=Fp(r),r=r.return;while(r);var i=n}catch(o){i=`
Error generating stack: `+o.message+`
`+o.stack}return{value:e,source:t,stack:i,digest:null}}function gl(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function da(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var dy=typeof WeakMap=="function"?WeakMap:Map;function Am(e,t,n){n=un(-1,n),n.tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){ms||(ms=!0,xa=r),da(e,t)},n}function Fm(e,t,n){n=un(-1,n),n.tag=3;var r=e.type.getDerivedStateFromError;if(typeof r=="function"){var i=t.value;n.payload=function(){return r(i)},n.callback=function(){da(e,t)}}var o=e.stateNode;return o!==null&&typeof o.componentDidCatch=="function"&&(n.callback=function(){da(e,t),typeof r!="function"&&(On===null?On=new Set([this]):On.add(this));var l=t.stack;this.componentDidCatch(t.value,{componentStack:l!==null?l:""})}),n}function Qu(e,t,n){var r=e.pingCache;if(r===null){r=e.pingCache=new dy;var i=new Set;r.set(t,i)}else i=r.get(t),i===void 0&&(i=new Set,r.set(t,i));i.has(n)||(i.add(n),e=by.bind(null,e,t,n),t.then(e,e))}function Ku(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function Yu(e,t,n,r,i){return e.mode&1?(e.flags|=65536,e.lanes=i,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=un(-1,1),t.tag=2,Rn(n,t,1))),n.lanes|=1),e)}var fy=yn.ReactCurrentOwner,xt=!1;function pt(e,t,n,r){t.child=e===null?mm(t,null,n,r):Hr(t,e.child,n,r)}function Ju(e,t,n,r,i){n=n.render;var o=t.ref;return zr(t,i),r=jc(e,t,n,r,o,i),n=Nc(),e!==null&&!xt?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,hn(e,t,i)):(Re&&n&&dc(t),t.flags|=1,pt(e,t,r,i),t.child)}function Zu(e,t,n,r,i){if(e===null){var o=n.type;return typeof o=="function"&&!Lc(o)&&o.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=o,zm(e,t,o,r,i)):(e=Ho(n.type,null,r,t,t.mode,i),e.ref=t.ref,e.return=t,t.child=e)}if(o=e.child,!(e.lanes&i)){var l=o.memoizedProps;if(n=n.compare,n=n!==null?n:Ai,n(l,r)&&e.ref===t.ref)return hn(e,t,i)}return t.flags|=1,e=Fn(o,r),e.ref=t.ref,e.return=t,t.child=e}function zm(e,t,n,r,i){if(e!==null){var o=e.memoizedProps;if(Ai(o,r)&&e.ref===t.ref)if(xt=!1,t.pendingProps=r=o,(e.lanes&i)!==0)e.flags&131072&&(xt=!0);else return t.lanes=e.lanes,hn(e,t,i)}return fa(e,t,n,r,i)}function Um(e,t,n){var r=t.pendingProps,i=r.children,o=e!==null?e.memoizedState:null;if(r.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Te(Pr,bt),bt|=n;else{if(!(n&1073741824))return e=o!==null?o.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Te(Pr,bt),bt|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=o!==null?o.baseLanes:n,Te(Pr,bt),bt|=r}else o!==null?(r=o.baseLanes|n,t.memoizedState=null):r=n,Te(Pr,bt),bt|=r;return pt(e,t,i,n),t.child}function $m(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function fa(e,t,n,r,i){var o=jt(n)?ir:mt.current;return o=Vr(t,o),zr(t,i),n=jc(e,t,n,r,o,i),r=Nc(),e!==null&&!xt?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,hn(e,t,i)):(Re&&r&&dc(t),t.flags|=1,pt(e,t,n,i),t.child)}function Xu(e,t,n,r,i){if(jt(n)){var o=!0;rs(t)}else o=!1;if(zr(t,i),t.stateNode===null)Bo(e,t),Om(t,n,r),ua(t,n,r,i),r=!0;else if(e===null){var l=t.stateNode,u=t.memoizedProps;l.props=u;var a=l.context,c=n.contextType;typeof c=="object"&&c!==null?c=At(c):(c=jt(n)?ir:mt.current,c=Vr(t,c));var d=n.getDerivedStateFromProps,f=typeof d=="function"||typeof l.getSnapshotBeforeUpdate=="function";f||typeof l.UNSAFE_componentWillReceiveProps!="function"&&typeof l.componentWillReceiveProps!="function"||(u!==r||a!==c)&&Gu(t,l,r,c),jn=!1;var g=t.memoizedState;l.state=g,as(t,r,l,i),a=t.memoizedState,u!==r||g!==a||Ct.current||jn?(typeof d=="function"&&(ca(t,n,d,r),a=t.memoizedState),(u=jn||Hu(t,n,u,r,g,a,c))?(f||typeof l.UNSAFE_componentWillMount!="function"&&typeof l.componentWillMount!="function"||(typeof l.componentWillMount=="function"&&l.componentWillMount(),typeof l.UNSAFE_componentWillMount=="function"&&l.UNSAFE_componentWillMount()),typeof l.componentDidMount=="function"&&(t.flags|=4194308)):(typeof l.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=a),l.props=r,l.state=a,l.context=c,r=u):(typeof l.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{l=t.stateNode,pm(e,t),u=t.memoizedProps,c=t.type===t.elementType?u:Ut(t.type,u),l.props=c,f=t.pendingProps,g=l.context,a=n.contextType,typeof a=="object"&&a!==null?a=At(a):(a=jt(n)?ir:mt.current,a=Vr(t,a));var S=n.getDerivedStateFromProps;(d=typeof S=="function"||typeof l.getSnapshotBeforeUpdate=="function")||typeof l.UNSAFE_componentWillReceiveProps!="function"&&typeof l.componentWillReceiveProps!="function"||(u!==f||g!==a)&&Gu(t,l,r,a),jn=!1,g=t.memoizedState,l.state=g,as(t,r,l,i);var p=t.memoizedState;u!==f||g!==p||Ct.current||jn?(typeof S=="function"&&(ca(t,n,S,r),p=t.memoizedState),(c=jn||Hu(t,n,c,r,g,p,a)||!1)?(d||typeof l.UNSAFE_componentWillUpdate!="function"&&typeof l.componentWillUpdate!="function"||(typeof l.componentWillUpdate=="function"&&l.componentWillUpdate(r,p,a),typeof l.UNSAFE_componentWillUpdate=="function"&&l.UNSAFE_componentWillUpdate(r,p,a)),typeof l.componentDidUpdate=="function"&&(t.flags|=4),typeof l.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof l.componentDidUpdate!="function"||u===e.memoizedProps&&g===e.memoizedState||(t.flags|=4),typeof l.getSnapshotBeforeUpdate!="function"||u===e.memoizedProps&&g===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=p),l.props=r,l.state=p,l.context=a,r=c):(typeof l.componentDidUpdate!="function"||u===e.memoizedProps&&g===e.memoizedState||(t.flags|=4),typeof l.getSnapshotBeforeUpdate!="function"||u===e.memoizedProps&&g===e.memoizedState||(t.flags|=1024),r=!1)}return ma(e,t,n,r,o,i)}function ma(e,t,n,r,i,o){$m(e,t);var l=(t.flags&128)!==0;if(!r&&!l)return i&&Au(t,n,!1),hn(e,t,o);r=t.stateNode,fy.current=t;var u=l&&typeof n.getDerivedStateFromError!="function"?null:r.render();return t.flags|=1,e!==null&&l?(t.child=Hr(t,e.child,null,o),t.child=Hr(t,null,u,o)):pt(e,t,u,o),t.memoizedState=r.state,i&&Au(t,n,!0),t.child}function Bm(e){var t=e.stateNode;t.pendingContext?Ou(e,t.pendingContext,t.pendingContext!==t.context):t.context&&Ou(e,t.context,!1),Sc(e,t.containerInfo)}function qu(e,t,n,r,i){return Wr(),mc(i),t.flags|=256,pt(e,t,n,r),t.child}var ha={dehydrated:null,treeContext:null,retryLane:0};function pa(e){return{baseLanes:e,cachePool:null,transitions:null}}function Vm(e,t,n){var r=t.pendingProps,i=ze.current,o=!1,l=(t.flags&128)!==0,u;if((u=l)||(u=e!==null&&e.memoizedState===null?!1:(i&2)!==0),u?(o=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(i|=1),Te(ze,i&1),e===null)return la(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(l=r.children,e=r.fallback,o?(r=t.mode,o=t.child,l={mode:"hidden",children:l},!(r&1)&&o!==null?(o.childLanes=0,o.pendingProps=l):o=Rs(l,r,0,null),e=rr(e,r,n,null),o.return=t,e.return=t,o.sibling=e,t.child=o,t.child.memoizedState=pa(n),t.memoizedState=ha,e):Ec(t,l));if(i=e.memoizedState,i!==null&&(u=i.dehydrated,u!==null))return my(e,t,l,r,u,i,n);if(o){o=r.fallback,l=t.mode,i=e.child,u=i.sibling;var a={mode:"hidden",children:r.children};return!(l&1)&&t.child!==i?(r=t.child,r.childLanes=0,r.pendingProps=a,t.deletions=null):(r=Fn(i,a),r.subtreeFlags=i.subtreeFlags&14680064),u!==null?o=Fn(u,o):(o=rr(o,l,n,null),o.flags|=2),o.return=t,r.return=t,r.sibling=o,t.child=r,r=o,o=t.child,l=e.child.memoizedState,l=l===null?pa(n):{baseLanes:l.baseLanes|n,cachePool:null,transitions:l.transitions},o.memoizedState=l,o.childLanes=e.childLanes&~n,t.memoizedState=ha,r}return o=e.child,e=o.sibling,r=Fn(o,{mode:"visible",children:r.children}),!(t.mode&1)&&(r.lanes=n),r.return=t,r.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=r,t.memoizedState=null,r}function Ec(e,t){return t=Rs({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function Co(e,t,n,r){return r!==null&&mc(r),Hr(t,e.child,null,n),e=Ec(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function my(e,t,n,r,i,o,l){if(n)return t.flags&256?(t.flags&=-257,r=gl(Error($(422))),Co(e,t,l,r)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(o=r.fallback,i=t.mode,r=Rs({mode:"visible",children:r.children},i,0,null),o=rr(o,i,l,null),o.flags|=2,r.return=t,o.return=t,r.sibling=o,t.child=r,t.mode&1&&Hr(t,e.child,null,l),t.child.memoizedState=pa(l),t.memoizedState=ha,o);if(!(t.mode&1))return Co(e,t,l,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var u=r.dgst;return r=u,o=Error($(419)),r=gl(o,r,void 0),Co(e,t,l,r)}if(u=(l&e.childLanes)!==0,xt||u){if(r=rt,r!==null){switch(l&-l){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|l)?0:i,i!==0&&i!==o.retryLane&&(o.retryLane=i,mn(e,i),Wt(r,e,i,-1))}return Dc(),r=gl(Error($(421))),Co(e,t,l,r)}return i.data==="$?"?(t.flags|=128,t.child=e.child,t=ky.bind(null,e),i._reactRetry=t,null):(e=o.treeContext,kt=Ln(i.nextSibling),_t=t,Re=!0,Bt=null,e!==null&&(Dt[Lt++]=an,Dt[Lt++]=cn,Dt[Lt++]=or,an=e.id,cn=e.overflow,or=t),t=Ec(t,r.children),t.flags|=4096,t)}function ed(e,t,n){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),aa(e.return,t,n)}function yl(e,t,n,r,i){var o=e.memoizedState;o===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(o.isBackwards=t,o.rendering=null,o.renderingStartTime=0,o.last=r,o.tail=n,o.tailMode=i)}function Wm(e,t,n){var r=t.pendingProps,i=r.revealOrder,o=r.tail;if(pt(e,t,r.children,n),r=ze.current,r&2)r=r&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&ed(e,n,t);else if(e.tag===19)ed(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(Te(ze,r),!(t.mode&1))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;n!==null;)e=n.alternate,e!==null&&cs(e)===null&&(i=n),n=n.sibling;n=i,n===null?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),yl(t,!1,i,n,o);break;case"backwards":for(n=null,i=t.child,t.child=null;i!==null;){if(e=i.alternate,e!==null&&cs(e)===null){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}yl(t,!0,n,null,o);break;case"together":yl(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Bo(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function hn(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),lr|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error($(153));if(t.child!==null){for(e=t.child,n=Fn(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=Fn(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function hy(e,t,n){switch(t.tag){case 3:Bm(t),Wr();break;case 5:gm(t);break;case 1:jt(t.type)&&rs(t);break;case 4:Sc(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,i=t.memoizedProps.value;Te(ss,r._currentValue),r._currentValue=i;break;case 13:if(r=t.memoizedState,r!==null)return r.dehydrated!==null?(Te(ze,ze.current&1),t.flags|=128,null):n&t.child.childLanes?Vm(e,t,n):(Te(ze,ze.current&1),e=hn(e,t,n),e!==null?e.sibling:null);Te(ze,ze.current&1);break;case 19:if(r=(n&t.childLanes)!==0,e.flags&128){if(r)return Wm(e,t,n);t.flags|=128}if(i=t.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),Te(ze,ze.current),r)break;return null;case 22:case 23:return t.lanes=0,Um(e,t,n)}return hn(e,t,n)}var Hm,ga,Gm,Qm;Hm=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};ga=function(){};Gm=function(e,t,n,r){var i=e.memoizedProps;if(i!==r){e=t.stateNode,tr(en.current);var o=null;switch(n){case"input":i=Fl(e,i),r=Fl(e,r),o=[];break;case"select":i=Ve({},i,{value:void 0}),r=Ve({},r,{value:void 0}),o=[];break;case"textarea":i=$l(e,i),r=$l(e,r),o=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(e.onclick=ts)}Vl(n,r);var l;n=null;for(c in i)if(!r.hasOwnProperty(c)&&i.hasOwnProperty(c)&&i[c]!=null)if(c==="style"){var u=i[c];for(l in u)u.hasOwnProperty(l)&&(n||(n={}),n[l]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(Ii.hasOwnProperty(c)?o||(o=[]):(o=o||[]).push(c,null));for(c in r){var a=r[c];if(u=i!=null?i[c]:void 0,r.hasOwnProperty(c)&&a!==u&&(a!=null||u!=null))if(c==="style")if(u){for(l in u)!u.hasOwnProperty(l)||a&&a.hasOwnProperty(l)||(n||(n={}),n[l]="");for(l in a)a.hasOwnProperty(l)&&u[l]!==a[l]&&(n||(n={}),n[l]=a[l])}else n||(o||(o=[]),o.push(c,n)),n=a;else c==="dangerouslySetInnerHTML"?(a=a?a.__html:void 0,u=u?u.__html:void 0,a!=null&&u!==a&&(o=o||[]).push(c,a)):c==="children"?typeof a!="string"&&typeof a!="number"||(o=o||[]).push(c,""+a):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(Ii.hasOwnProperty(c)?(a!=null&&c==="onScroll"&&Pe("scroll",e),o||u===a||(o=[])):(o=o||[]).push(c,a))}n&&(o=o||[]).push("style",n);var c=o;(t.updateQueue=c)&&(t.flags|=4)}};Qm=function(e,t,n,r){n!==r&&(t.flags|=4)};function fi(e,t){if(!Re)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function ct(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=e,i=i.sibling;else for(i=e.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function py(e,t,n){var r=t.pendingProps;switch(fc(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ct(t),null;case 1:return jt(t.type)&&ns(),ct(t),null;case 3:return r=t.stateNode,Gr(),De(Ct),De(mt),xc(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(wo(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,Bt!==null&&(Na(Bt),Bt=null))),ga(e,t),ct(t),null;case 5:wc(t);var i=tr(Bi.current);if(n=t.type,e!==null&&t.stateNode!=null)Gm(e,t,n,r,i),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(t.stateNode===null)throw Error($(166));return ct(t),null}if(e=tr(en.current),wo(t)){r=t.stateNode,n=t.type;var o=t.memoizedProps;switch(r[Zt]=t,r[Ui]=o,e=(t.mode&1)!==0,n){case"dialog":Pe("cancel",r),Pe("close",r);break;case"iframe":case"object":case"embed":Pe("load",r);break;case"video":case"audio":for(i=0;i<Si.length;i++)Pe(Si[i],r);break;case"source":Pe("error",r);break;case"img":case"image":case"link":Pe("error",r),Pe("load",r);break;case"details":Pe("toggle",r);break;case"input":cu(r,o),Pe("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!o.multiple},Pe("invalid",r);break;case"textarea":du(r,o),Pe("invalid",r)}Vl(n,o),i=null;for(var l in o)if(o.hasOwnProperty(l)){var u=o[l];l==="children"?typeof u=="string"?r.textContent!==u&&(o.suppressHydrationWarning!==!0&&So(r.textContent,u,e),i=["children",u]):typeof u=="number"&&r.textContent!==""+u&&(o.suppressHydrationWarning!==!0&&So(r.textContent,u,e),i=["children",""+u]):Ii.hasOwnProperty(l)&&u!=null&&l==="onScroll"&&Pe("scroll",r)}switch(n){case"input":uo(r),uu(r,o,!0);break;case"textarea":uo(r),fu(r);break;case"select":case"option":break;default:typeof o.onClick=="function"&&(r.onclick=ts)}r=i,t.updateQueue=r,r!==null&&(t.flags|=4)}else{l=i.nodeType===9?i:i.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=xf(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=l.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof r.is=="string"?e=l.createElement(n,{is:r.is}):(e=l.createElement(n),n==="select"&&(l=e,r.multiple?l.multiple=!0:r.size&&(l.size=r.size))):e=l.createElementNS(e,n),e[Zt]=t,e[Ui]=r,Hm(e,t,!1,!1),t.stateNode=e;e:{switch(l=Wl(n,r),n){case"dialog":Pe("cancel",e),Pe("close",e),i=r;break;case"iframe":case"object":case"embed":Pe("load",e),i=r;break;case"video":case"audio":for(i=0;i<Si.length;i++)Pe(Si[i],e);i=r;break;case"source":Pe("error",e),i=r;break;case"img":case"image":case"link":Pe("error",e),Pe("load",e),i=r;break;case"details":Pe("toggle",e),i=r;break;case"input":cu(e,r),i=Fl(e,r),Pe("invalid",e);break;case"option":i=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},i=Ve({},r,{value:void 0}),Pe("invalid",e);break;case"textarea":du(e,r),i=$l(e,r),Pe("invalid",e);break;default:i=r}Vl(n,i),u=i;for(o in u)if(u.hasOwnProperty(o)){var a=u[o];o==="style"?Nf(e,a):o==="dangerouslySetInnerHTML"?(a=a?a.__html:void 0,a!=null&&Cf(e,a)):o==="children"?typeof a=="string"?(n!=="textarea"||a!=="")&&Ti(e,a):typeof a=="number"&&Ti(e,""+a):o!=="suppressContentEditableWarning"&&o!=="suppressHydrationWarning"&&o!=="autoFocus"&&(Ii.hasOwnProperty(o)?a!=null&&o==="onScroll"&&Pe("scroll",e):a!=null&&Za(e,o,a,l))}switch(n){case"input":uo(e),uu(e,r,!1);break;case"textarea":uo(e),fu(e);break;case"option":r.value!=null&&e.setAttribute("value",""+$n(r.value));break;case"select":e.multiple=!!r.multiple,o=r.value,o!=null?Rr(e,!!r.multiple,o,!1):r.defaultValue!=null&&Rr(e,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(e.onclick=ts)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return ct(t),null;case 6:if(e&&t.stateNode!=null)Qm(e,t,e.memoizedProps,r);else{if(typeof r!="string"&&t.stateNode===null)throw Error($(166));if(n=tr(Bi.current),tr(en.current),wo(t)){if(r=t.stateNode,n=t.memoizedProps,r[Zt]=t,(o=r.nodeValue!==n)&&(e=_t,e!==null))switch(e.tag){case 3:So(r.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&So(r.nodeValue,n,(e.mode&1)!==0)}o&&(t.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Zt]=t,t.stateNode=r}return ct(t),null;case 13:if(De(ze),r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(Re&&kt!==null&&t.mode&1&&!(t.flags&128))dm(),Wr(),t.flags|=98560,o=!1;else if(o=wo(t),r!==null&&r.dehydrated!==null){if(e===null){if(!o)throw Error($(318));if(o=t.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error($(317));o[Zt]=t}else Wr(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;ct(t),o=!1}else Bt!==null&&(Na(Bt),Bt=null),o=!0;if(!o)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(r=r!==null,r!==(e!==null&&e.memoizedState!==null)&&r&&(t.child.flags|=8192,t.mode&1&&(e===null||ze.current&1?tt===0&&(tt=3):Dc())),t.updateQueue!==null&&(t.flags|=4),ct(t),null);case 4:return Gr(),ga(e,t),e===null&&Fi(t.stateNode.containerInfo),ct(t),null;case 10:return gc(t.type._context),ct(t),null;case 17:return jt(t.type)&&ns(),ct(t),null;case 19:if(De(ze),o=t.memoizedState,o===null)return ct(t),null;if(r=(t.flags&128)!==0,l=o.rendering,l===null)if(r)fi(o,!1);else{if(tt!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(l=cs(e),l!==null){for(t.flags|=128,fi(o,!1),r=l.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;n!==null;)o=n,e=r,o.flags&=14680066,l=o.alternate,l===null?(o.childLanes=0,o.lanes=e,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=l.childLanes,o.lanes=l.lanes,o.child=l.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=l.memoizedProps,o.memoizedState=l.memoizedState,o.updateQueue=l.updateQueue,o.type=l.type,e=l.dependencies,o.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return Te(ze,ze.current&1|2),t.child}e=e.sibling}o.tail!==null&&Je()>Kr&&(t.flags|=128,r=!0,fi(o,!1),t.lanes=4194304)}else{if(!r)if(e=cs(l),e!==null){if(t.flags|=128,r=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),fi(o,!0),o.tail===null&&o.tailMode==="hidden"&&!l.alternate&&!Re)return ct(t),null}else 2*Je()-o.renderingStartTime>Kr&&n!==1073741824&&(t.flags|=128,r=!0,fi(o,!1),t.lanes=4194304);o.isBackwards?(l.sibling=t.child,t.child=l):(n=o.last,n!==null?n.sibling=l:t.child=l,o.last=l)}return o.tail!==null?(t=o.tail,o.rendering=t,o.tail=t.sibling,o.renderingStartTime=Je(),t.sibling=null,n=ze.current,Te(ze,r?n&1|2:n&1),t):(ct(t),null);case 22:case 23:return Pc(),r=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==r&&(t.flags|=8192),r&&t.mode&1?bt&1073741824&&(ct(t),t.subtreeFlags&6&&(t.flags|=8192)):ct(t),null;case 24:return null;case 25:return null}throw Error($(156,t.tag))}function gy(e,t){switch(fc(t),t.tag){case 1:return jt(t.type)&&ns(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Gr(),De(Ct),De(mt),xc(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return wc(t),null;case 13:if(De(ze),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error($(340));Wr()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return De(ze),null;case 4:return Gr(),null;case 10:return gc(t.type._context),null;case 22:case 23:return Pc(),null;case 24:return null;default:return null}}var jo=!1,dt=!1,yy=typeof WeakSet=="function"?WeakSet:Set,K=null;function Tr(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){Ge(e,t,r)}else n.current=null}function ya(e,t,n){try{n()}catch(r){Ge(e,t,r)}}var td=!1;function vy(e,t){if(ea=Xo,e=Xf(),uc(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,o=r.focusNode;r=r.focusOffset;try{n.nodeType,o.nodeType}catch{n=null;break e}var l=0,u=-1,a=-1,c=0,d=0,f=e,g=null;t:for(;;){for(var S;f!==n||i!==0&&f.nodeType!==3||(u=l+i),f!==o||r!==0&&f.nodeType!==3||(a=l+r),f.nodeType===3&&(l+=f.nodeValue.length),(S=f.firstChild)!==null;)g=f,f=S;for(;;){if(f===e)break t;if(g===n&&++c===i&&(u=l),g===o&&++d===r&&(a=l),(S=f.nextSibling)!==null)break;f=g,g=f.parentNode}f=S}n=u===-1||a===-1?null:{start:u,end:a}}else n=null}n=n||{start:0,end:0}}else n=null;for(ta={focusedElem:e,selectionRange:n},Xo=!1,K=t;K!==null;)if(t=K,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,K=e;else for(;K!==null;){t=K;try{var p=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(p!==null){var v=p.memoizedProps,C=p.memoizedState,m=t.stateNode,h=m.getSnapshotBeforeUpdate(t.elementType===t.type?v:Ut(t.type,v),C);m.__reactInternalSnapshotBeforeUpdate=h}break;case 3:var y=t.stateNode.containerInfo;y.nodeType===1?y.textContent="":y.nodeType===9&&y.documentElement&&y.removeChild(y.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error($(163))}}catch(j){Ge(t,t.return,j)}if(e=t.sibling,e!==null){e.return=t.return,K=e;break}K=t.return}return p=td,td=!1,p}function Ei(e,t,n){var r=t.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&e)===e){var o=i.destroy;i.destroy=void 0,o!==void 0&&ya(t,n,o)}i=i.next}while(i!==r)}}function Ds(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function va(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function Km(e){var t=e.alternate;t!==null&&(e.alternate=null,Km(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[Zt],delete t[Ui],delete t[ia],delete t[ey],delete t[ty])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function Ym(e){return e.tag===5||e.tag===3||e.tag===4}function nd(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Ym(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Sa(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=ts));else if(r!==4&&(e=e.child,e!==null))for(Sa(e,t,n),e=e.sibling;e!==null;)Sa(e,t,n),e=e.sibling}function wa(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(r!==4&&(e=e.child,e!==null))for(wa(e,t,n),e=e.sibling;e!==null;)wa(e,t,n),e=e.sibling}var it=null,$t=!1;function wn(e,t,n){for(n=n.child;n!==null;)Jm(e,t,n),n=n.sibling}function Jm(e,t,n){if(qt&&typeof qt.onCommitFiberUnmount=="function")try{qt.onCommitFiberUnmount(bs,n)}catch{}switch(n.tag){case 5:dt||Tr(n,t);case 6:var r=it,i=$t;it=null,wn(e,t,n),it=r,$t=i,it!==null&&($t?(e=it,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):it.removeChild(n.stateNode));break;case 18:it!==null&&($t?(e=it,n=n.stateNode,e.nodeType===8?ul(e.parentNode,n):e.nodeType===1&&ul(e,n),Ri(e)):ul(it,n.stateNode));break;case 4:r=it,i=$t,it=n.stateNode.containerInfo,$t=!0,wn(e,t,n),it=r,$t=i;break;case 0:case 11:case 14:case 15:if(!dt&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var o=i,l=o.destroy;o=o.tag,l!==void 0&&(o&2||o&4)&&ya(n,t,l),i=i.next}while(i!==r)}wn(e,t,n);break;case 1:if(!dt&&(Tr(n,t),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(u){Ge(n,t,u)}wn(e,t,n);break;case 21:wn(e,t,n);break;case 22:n.mode&1?(dt=(r=dt)||n.memoizedState!==null,wn(e,t,n),dt=r):wn(e,t,n);break;default:wn(e,t,n)}}function rd(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new yy),t.forEach(function(r){var i=Ey.bind(null,e,r);n.has(r)||(n.add(r),r.then(i,i))})}}function zt(e,t){var n=t.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var o=e,l=t,u=l;e:for(;u!==null;){switch(u.tag){case 5:it=u.stateNode,$t=!1;break e;case 3:it=u.stateNode.containerInfo,$t=!0;break e;case 4:it=u.stateNode.containerInfo,$t=!0;break e}u=u.return}if(it===null)throw Error($(160));Jm(o,l,i),it=null,$t=!1;var a=i.alternate;a!==null&&(a.return=null),i.return=null}catch(c){Ge(i,t,c)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)Zm(t,e),t=t.sibling}function Zm(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(zt(t,e),Qt(e),r&4){try{Ei(3,e,e.return),Ds(3,e)}catch(v){Ge(e,e.return,v)}try{Ei(5,e,e.return)}catch(v){Ge(e,e.return,v)}}break;case 1:zt(t,e),Qt(e),r&512&&n!==null&&Tr(n,n.return);break;case 5:if(zt(t,e),Qt(e),r&512&&n!==null&&Tr(n,n.return),e.flags&32){var i=e.stateNode;try{Ti(i,"")}catch(v){Ge(e,e.return,v)}}if(r&4&&(i=e.stateNode,i!=null)){var o=e.memoizedProps,l=n!==null?n.memoizedProps:o,u=e.type,a=e.updateQueue;if(e.updateQueue=null,a!==null)try{u==="input"&&o.type==="radio"&&o.name!=null&&Sf(i,o),Wl(u,l);var c=Wl(u,o);for(l=0;l<a.length;l+=2){var d=a[l],f=a[l+1];d==="style"?Nf(i,f):d==="dangerouslySetInnerHTML"?Cf(i,f):d==="children"?Ti(i,f):Za(i,d,f,c)}switch(u){case"input":zl(i,o);break;case"textarea":wf(i,o);break;case"select":var g=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!o.multiple;var S=o.value;S!=null?Rr(i,!!o.multiple,S,!1):g!==!!o.multiple&&(o.defaultValue!=null?Rr(i,!!o.multiple,o.defaultValue,!0):Rr(i,!!o.multiple,o.multiple?[]:"",!1))}i[Ui]=o}catch(v){Ge(e,e.return,v)}}break;case 6:if(zt(t,e),Qt(e),r&4){if(e.stateNode===null)throw Error($(162));i=e.stateNode,o=e.memoizedProps;try{i.nodeValue=o}catch(v){Ge(e,e.return,v)}}break;case 3:if(zt(t,e),Qt(e),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Ri(t.containerInfo)}catch(v){Ge(e,e.return,v)}break;case 4:zt(t,e),Qt(e);break;case 13:zt(t,e),Qt(e),i=e.child,i.flags&8192&&(o=i.memoizedState!==null,i.stateNode.isHidden=o,!o||i.alternate!==null&&i.alternate.memoizedState!==null||(Ic=Je())),r&4&&rd(e);break;case 22:if(d=n!==null&&n.memoizedState!==null,e.mode&1?(dt=(c=dt)||d,zt(t,e),dt=c):zt(t,e),Qt(e),r&8192){if(c=e.memoizedState!==null,(e.stateNode.isHidden=c)&&!d&&e.mode&1)for(K=e,d=e.child;d!==null;){for(f=K=d;K!==null;){switch(g=K,S=g.child,g.tag){case 0:case 11:case 14:case 15:Ei(4,g,g.return);break;case 1:Tr(g,g.return);var p=g.stateNode;if(typeof p.componentWillUnmount=="function"){r=g,n=g.return;try{t=r,p.props=t.memoizedProps,p.state=t.memoizedState,p.componentWillUnmount()}catch(v){Ge(r,n,v)}}break;case 5:Tr(g,g.return);break;case 22:if(g.memoizedState!==null){od(f);continue}}S!==null?(S.return=g,K=S):od(f)}d=d.sibling}e:for(d=null,f=e;;){if(f.tag===5){if(d===null){d=f;try{i=f.stateNode,c?(o=i.style,typeof o.setProperty=="function"?o.setProperty("display","none","important"):o.display="none"):(u=f.stateNode,a=f.memoizedProps.style,l=a!=null&&a.hasOwnProperty("display")?a.display:null,u.style.display=jf("display",l))}catch(v){Ge(e,e.return,v)}}}else if(f.tag===6){if(d===null)try{f.stateNode.nodeValue=c?"":f.memoizedProps}catch(v){Ge(e,e.return,v)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===e)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===e)break e;for(;f.sibling===null;){if(f.return===null||f.return===e)break e;d===f&&(d=null),f=f.return}d===f&&(d=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:zt(t,e),Qt(e),r&4&&rd(e);break;case 21:break;default:zt(t,e),Qt(e)}}function Qt(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(Ym(n)){var r=n;break e}n=n.return}throw Error($(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(Ti(i,""),r.flags&=-33);var o=nd(e);wa(e,o,i);break;case 3:case 4:var l=r.stateNode.containerInfo,u=nd(e);Sa(e,u,l);break;default:throw Error($(161))}}catch(a){Ge(e,e.return,a)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function Sy(e,t,n){K=e,Xm(e)}function Xm(e,t,n){for(var r=(e.mode&1)!==0;K!==null;){var i=K,o=i.child;if(i.tag===22&&r){var l=i.memoizedState!==null||jo;if(!l){var u=i.alternate,a=u!==null&&u.memoizedState!==null||dt;u=jo;var c=dt;if(jo=l,(dt=a)&&!c)for(K=i;K!==null;)l=K,a=l.child,l.tag===22&&l.memoizedState!==null?sd(i):a!==null?(a.return=l,K=a):sd(i);for(;o!==null;)K=o,Xm(o),o=o.sibling;K=i,jo=u,dt=c}id(e)}else i.subtreeFlags&8772&&o!==null?(o.return=i,K=o):id(e)}}function id(e){for(;K!==null;){var t=K;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:dt||Ds(5,t);break;case 1:var r=t.stateNode;if(t.flags&4&&!dt)if(n===null)r.componentDidMount();else{var i=t.elementType===t.type?n.memoizedProps:Ut(t.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var o=t.updateQueue;o!==null&&Bu(t,o,r);break;case 3:var l=t.updateQueue;if(l!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}Bu(t,l,n)}break;case 5:var u=t.stateNode;if(n===null&&t.flags&4){n=u;var a=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":a.autoFocus&&n.focus();break;case"img":a.src&&(n.src=a.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var c=t.alternate;if(c!==null){var d=c.memoizedState;if(d!==null){var f=d.dehydrated;f!==null&&Ri(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error($(163))}dt||t.flags&512&&va(t)}catch(g){Ge(t,t.return,g)}}if(t===e){K=null;break}if(n=t.sibling,n!==null){n.return=t.return,K=n;break}K=t.return}}function od(e){for(;K!==null;){var t=K;if(t===e){K=null;break}var n=t.sibling;if(n!==null){n.return=t.return,K=n;break}K=t.return}}function sd(e){for(;K!==null;){var t=K;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{Ds(4,t)}catch(a){Ge(t,n,a)}break;case 1:var r=t.stateNode;if(typeof r.componentDidMount=="function"){var i=t.return;try{r.componentDidMount()}catch(a){Ge(t,i,a)}}var o=t.return;try{va(t)}catch(a){Ge(t,o,a)}break;case 5:var l=t.return;try{va(t)}catch(a){Ge(t,l,a)}}}catch(a){Ge(t,t.return,a)}if(t===e){K=null;break}var u=t.sibling;if(u!==null){u.return=t.return,K=u;break}K=t.return}}var wy=Math.ceil,fs=yn.ReactCurrentDispatcher,_c=yn.ReactCurrentOwner,Ot=yn.ReactCurrentBatchConfig,we=0,rt=null,Xe=null,ot=0,bt=0,Pr=Hn(0),tt=0,Gi=null,lr=0,Ls=0,Mc=0,_i=null,wt=null,Ic=0,Kr=1/0,rn=null,ms=!1,xa=null,On=null,No=!1,_n=null,hs=0,Mi=0,Ca=null,Vo=-1,Wo=0;function gt(){return we&6?Je():Vo!==-1?Vo:Vo=Je()}function An(e){return e.mode&1?we&2&&ot!==0?ot&-ot:ry.transition!==null?(Wo===0&&(Wo=Of()),Wo):(e=be,e!==0||(e=window.event,e=e===void 0?16:Vf(e.type)),e):1}function Wt(e,t,n,r){if(50<Mi)throw Mi=0,Ca=null,Error($(185));eo(e,n,r),(!(we&2)||e!==rt)&&(e===rt&&(!(we&2)&&(Ls|=n),tt===4&&bn(e,ot)),Nt(e,r),n===1&&we===0&&!(t.mode&1)&&(Kr=Je()+500,Is&&Gn()))}function Nt(e,t){var n=e.callbackNode;rg(e,t);var r=Zo(e,e===rt?ot:0);if(r===0)n!==null&&pu(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(n!=null&&pu(n),t===1)e.tag===0?ny(ld.bind(null,e)):am(ld.bind(null,e)),Xg(function(){!(we&6)&&Gn()}),n=null;else{switch(Af(r)){case 1:n=nc;break;case 4:n=Lf;break;case 16:n=Jo;break;case 536870912:n=Rf;break;default:n=Jo}n=sh(n,qm.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function qm(e,t){if(Vo=-1,Wo=0,we&6)throw Error($(327));var n=e.callbackNode;if(Ur()&&e.callbackNode!==n)return null;var r=Zo(e,e===rt?ot:0);if(r===0)return null;if(r&30||r&e.expiredLanes||t)t=ps(e,r);else{t=r;var i=we;we|=2;var o=th();(rt!==e||ot!==t)&&(rn=null,Kr=Je()+500,nr(e,t));do try{jy();break}catch(u){eh(e,u)}while(!0);pc(),fs.current=o,we=i,Xe!==null?t=0:(rt=null,ot=0,t=tt)}if(t!==0){if(t===2&&(i=Yl(e),i!==0&&(r=i,t=ja(e,i))),t===1)throw n=Gi,nr(e,0),bn(e,r),Nt(e,Je()),n;if(t===6)bn(e,r);else{if(i=e.current.alternate,!(r&30)&&!xy(i)&&(t=ps(e,r),t===2&&(o=Yl(e),o!==0&&(r=o,t=ja(e,o))),t===1))throw n=Gi,nr(e,0),bn(e,r),Nt(e,Je()),n;switch(e.finishedWork=i,e.finishedLanes=r,t){case 0:case 1:throw Error($(345));case 2:Jn(e,wt,rn);break;case 3:if(bn(e,r),(r&130023424)===r&&(t=Ic+500-Je(),10<t)){if(Zo(e,0)!==0)break;if(i=e.suspendedLanes,(i&r)!==r){gt(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=ra(Jn.bind(null,e,wt,rn),t);break}Jn(e,wt,rn);break;case 4:if(bn(e,r),(r&4194240)===r)break;for(t=e.eventTimes,i=-1;0<r;){var l=31-Vt(r);o=1<<l,l=t[l],l>i&&(i=l),r&=~o}if(r=i,r=Je()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*wy(r/1960))-r,10<r){e.timeoutHandle=ra(Jn.bind(null,e,wt,rn),r);break}Jn(e,wt,rn);break;case 5:Jn(e,wt,rn);break;default:throw Error($(329))}}}return Nt(e,Je()),e.callbackNode===n?qm.bind(null,e):null}function ja(e,t){var n=_i;return e.current.memoizedState.isDehydrated&&(nr(e,t).flags|=256),e=ps(e,t),e!==2&&(t=wt,wt=n,t!==null&&Na(t)),e}function Na(e){wt===null?wt=e:wt.push.apply(wt,e)}function xy(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],o=i.getSnapshot;i=i.value;try{if(!Ht(o(),i))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function bn(e,t){for(t&=~Mc,t&=~Ls,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-Vt(t),r=1<<n;e[n]=-1,t&=~r}}function ld(e){if(we&6)throw Error($(327));Ur();var t=Zo(e,0);if(!(t&1))return Nt(e,Je()),null;var n=ps(e,t);if(e.tag!==0&&n===2){var r=Yl(e);r!==0&&(t=r,n=ja(e,r))}if(n===1)throw n=Gi,nr(e,0),bn(e,t),Nt(e,Je()),n;if(n===6)throw Error($(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Jn(e,wt,rn),Nt(e,Je()),null}function Tc(e,t){var n=we;we|=1;try{return e(t)}finally{we=n,we===0&&(Kr=Je()+500,Is&&Gn())}}function ar(e){_n!==null&&_n.tag===0&&!(we&6)&&Ur();var t=we;we|=1;var n=Ot.transition,r=be;try{if(Ot.transition=null,be=1,e)return e()}finally{be=r,Ot.transition=n,we=t,!(we&6)&&Gn()}}function Pc(){bt=Pr.current,De(Pr)}function nr(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,Zg(n)),Xe!==null)for(n=Xe.return;n!==null;){var r=n;switch(fc(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&ns();break;case 3:Gr(),De(Ct),De(mt),xc();break;case 5:wc(r);break;case 4:Gr();break;case 13:De(ze);break;case 19:De(ze);break;case 10:gc(r.type._context);break;case 22:case 23:Pc()}n=n.return}if(rt=e,Xe=e=Fn(e.current,null),ot=bt=t,tt=0,Gi=null,Mc=Ls=lr=0,wt=_i=null,er!==null){for(t=0;t<er.length;t++)if(n=er[t],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,o=n.pending;if(o!==null){var l=o.next;o.next=i,r.next=l}n.pending=r}er=null}return e}function eh(e,t){do{var n=Xe;try{if(pc(),Uo.current=ds,us){for(var r=$e.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}us=!1}if(sr=0,nt=et=$e=null,ki=!1,Vi=0,_c.current=null,n===null||n.return===null){tt=1,Gi=t,Xe=null;break}e:{var o=e,l=n.return,u=n,a=t;if(t=ot,u.flags|=32768,a!==null&&typeof a=="object"&&typeof a.then=="function"){var c=a,d=u,f=d.tag;if(!(d.mode&1)&&(f===0||f===11||f===15)){var g=d.alternate;g?(d.updateQueue=g.updateQueue,d.memoizedState=g.memoizedState,d.lanes=g.lanes):(d.updateQueue=null,d.memoizedState=null)}var S=Ku(l);if(S!==null){S.flags&=-257,Yu(S,l,u,o,t),S.mode&1&&Qu(o,c,t),t=S,a=c;var p=t.updateQueue;if(p===null){var v=new Set;v.add(a),t.updateQueue=v}else p.add(a);break e}else{if(!(t&1)){Qu(o,c,t),Dc();break e}a=Error($(426))}}else if(Re&&u.mode&1){var C=Ku(l);if(C!==null){!(C.flags&65536)&&(C.flags|=256),Yu(C,l,u,o,t),mc(Qr(a,u));break e}}o=a=Qr(a,u),tt!==4&&(tt=2),_i===null?_i=[o]:_i.push(o),o=l;do{switch(o.tag){case 3:o.flags|=65536,t&=-t,o.lanes|=t;var m=Am(o,a,t);$u(o,m);break e;case 1:u=a;var h=o.type,y=o.stateNode;if(!(o.flags&128)&&(typeof h.getDerivedStateFromError=="function"||y!==null&&typeof y.componentDidCatch=="function"&&(On===null||!On.has(y)))){o.flags|=65536,t&=-t,o.lanes|=t;var j=Fm(o,u,t);$u(o,j);break e}}o=o.return}while(o!==null)}rh(n)}catch(E){t=E,Xe===n&&n!==null&&(Xe=n=n.return);continue}break}while(!0)}function th(){var e=fs.current;return fs.current=ds,e===null?ds:e}function Dc(){(tt===0||tt===3||tt===2)&&(tt=4),rt===null||!(lr&268435455)&&!(Ls&268435455)||bn(rt,ot)}function ps(e,t){var n=we;we|=2;var r=th();(rt!==e||ot!==t)&&(rn=null,nr(e,t));do try{Cy();break}catch(i){eh(e,i)}while(!0);if(pc(),we=n,fs.current=r,Xe!==null)throw Error($(261));return rt=null,ot=0,tt}function Cy(){for(;Xe!==null;)nh(Xe)}function jy(){for(;Xe!==null&&!Kp();)nh(Xe)}function nh(e){var t=oh(e.alternate,e,bt);e.memoizedProps=e.pendingProps,t===null?rh(e):Xe=t,_c.current=null}function rh(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=gy(n,t),n!==null){n.flags&=32767,Xe=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{tt=6,Xe=null;return}}else if(n=py(n,t,bt),n!==null){Xe=n;return}if(t=t.sibling,t!==null){Xe=t;return}Xe=t=e}while(t!==null);tt===0&&(tt=5)}function Jn(e,t,n){var r=be,i=Ot.transition;try{Ot.transition=null,be=1,Ny(e,t,n,r)}finally{Ot.transition=i,be=r}return null}function Ny(e,t,n,r){do Ur();while(_n!==null);if(we&6)throw Error($(327));n=e.finishedWork;var i=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error($(177));e.callbackNode=null,e.callbackPriority=0;var o=n.lanes|n.childLanes;if(ig(e,o),e===rt&&(Xe=rt=null,ot=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||No||(No=!0,sh(Jo,function(){return Ur(),null})),o=(n.flags&15990)!==0,n.subtreeFlags&15990||o){o=Ot.transition,Ot.transition=null;var l=be;be=1;var u=we;we|=4,_c.current=null,vy(e,n),Zm(n,e),Wg(ta),Xo=!!ea,ta=ea=null,e.current=n,Sy(n),Yp(),we=u,be=l,Ot.transition=o}else e.current=n;if(No&&(No=!1,_n=e,hs=i),o=e.pendingLanes,o===0&&(On=null),Xp(n.stateNode),Nt(e,Je()),t!==null)for(r=e.onRecoverableError,n=0;n<t.length;n++)i=t[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(ms)throw ms=!1,e=xa,xa=null,e;return hs&1&&e.tag!==0&&Ur(),o=e.pendingLanes,o&1?e===Ca?Mi++:(Mi=0,Ca=e):Mi=0,Gn(),null}function Ur(){if(_n!==null){var e=Af(hs),t=Ot.transition,n=be;try{if(Ot.transition=null,be=16>e?16:e,_n===null)var r=!1;else{if(e=_n,_n=null,hs=0,we&6)throw Error($(331));var i=we;for(we|=4,K=e.current;K!==null;){var o=K,l=o.child;if(K.flags&16){var u=o.deletions;if(u!==null){for(var a=0;a<u.length;a++){var c=u[a];for(K=c;K!==null;){var d=K;switch(d.tag){case 0:case 11:case 15:Ei(8,d,o)}var f=d.child;if(f!==null)f.return=d,K=f;else for(;K!==null;){d=K;var g=d.sibling,S=d.return;if(Km(d),d===c){K=null;break}if(g!==null){g.return=S,K=g;break}K=S}}}var p=o.alternate;if(p!==null){var v=p.child;if(v!==null){p.child=null;do{var C=v.sibling;v.sibling=null,v=C}while(v!==null)}}K=o}}if(o.subtreeFlags&2064&&l!==null)l.return=o,K=l;else e:for(;K!==null;){if(o=K,o.flags&2048)switch(o.tag){case 0:case 11:case 15:Ei(9,o,o.return)}var m=o.sibling;if(m!==null){m.return=o.return,K=m;break e}K=o.return}}var h=e.current;for(K=h;K!==null;){l=K;var y=l.child;if(l.subtreeFlags&2064&&y!==null)y.return=l,K=y;else e:for(l=h;K!==null;){if(u=K,u.flags&2048)try{switch(u.tag){case 0:case 11:case 15:Ds(9,u)}}catch(E){Ge(u,u.return,E)}if(u===l){K=null;break e}var j=u.sibling;if(j!==null){j.return=u.return,K=j;break e}K=u.return}}if(we=i,Gn(),qt&&typeof qt.onPostCommitFiberRoot=="function")try{qt.onPostCommitFiberRoot(bs,e)}catch{}r=!0}return r}finally{be=n,Ot.transition=t}}return!1}function ad(e,t,n){t=Qr(n,t),t=Am(e,t,1),e=Rn(e,t,1),t=gt(),e!==null&&(eo(e,1,t),Nt(e,t))}function Ge(e,t,n){if(e.tag===3)ad(e,e,n);else for(;t!==null;){if(t.tag===3){ad(t,e,n);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(On===null||!On.has(r))){e=Qr(n,e),e=Fm(t,e,1),t=Rn(t,e,1),e=gt(),t!==null&&(eo(t,1,e),Nt(t,e));break}}t=t.return}}function by(e,t,n){var r=e.pingCache;r!==null&&r.delete(t),t=gt(),e.pingedLanes|=e.suspendedLanes&n,rt===e&&(ot&n)===n&&(tt===4||tt===3&&(ot&130023424)===ot&&500>Je()-Ic?nr(e,0):Mc|=n),Nt(e,t)}function ih(e,t){t===0&&(e.mode&1?(t=ho,ho<<=1,!(ho&130023424)&&(ho=4194304)):t=1);var n=gt();e=mn(e,t),e!==null&&(eo(e,t,n),Nt(e,n))}function ky(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),ih(e,n)}function Ey(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,i=e.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=e.stateNode;break;default:throw Error($(314))}r!==null&&r.delete(t),ih(e,n)}var oh;oh=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||Ct.current)xt=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return xt=!1,hy(e,t,n);xt=!!(e.flags&131072)}else xt=!1,Re&&t.flags&1048576&&cm(t,os,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;Bo(e,t),e=t.pendingProps;var i=Vr(t,mt.current);zr(t,n),i=jc(null,t,r,e,i,n);var o=Nc();return t.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,jt(r)?(o=!0,rs(t)):o=!1,t.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,vc(t),i.updater=Ps,t.stateNode=i,i._reactInternals=t,ua(t,r,e,n),t=ma(null,t,r,!0,o,n)):(t.tag=0,Re&&o&&dc(t),pt(null,t,i,n),t=t.child),t;case 16:r=t.elementType;e:{switch(Bo(e,t),e=t.pendingProps,i=r._init,r=i(r._payload),t.type=r,i=t.tag=My(r),e=Ut(r,e),i){case 0:t=fa(null,t,r,e,n);break e;case 1:t=Xu(null,t,r,e,n);break e;case 11:t=Ju(null,t,r,e,n);break e;case 14:t=Zu(null,t,r,Ut(r.type,e),n);break e}throw Error($(306,r,""))}return t;case 0:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:Ut(r,i),fa(e,t,r,i,n);case 1:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:Ut(r,i),Xu(e,t,r,i,n);case 3:e:{if(Bm(t),e===null)throw Error($(387));r=t.pendingProps,o=t.memoizedState,i=o.element,pm(e,t),as(t,r,null,n);var l=t.memoizedState;if(r=l.element,o.isDehydrated)if(o={element:r,isDehydrated:!1,cache:l.cache,pendingSuspenseBoundaries:l.pendingSuspenseBoundaries,transitions:l.transitions},t.updateQueue.baseState=o,t.memoizedState=o,t.flags&256){i=Qr(Error($(423)),t),t=qu(e,t,r,n,i);break e}else if(r!==i){i=Qr(Error($(424)),t),t=qu(e,t,r,n,i);break e}else for(kt=Ln(t.stateNode.containerInfo.firstChild),_t=t,Re=!0,Bt=null,n=mm(t,null,r,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Wr(),r===i){t=hn(e,t,n);break e}pt(e,t,r,n)}t=t.child}return t;case 5:return gm(t),e===null&&la(t),r=t.type,i=t.pendingProps,o=e!==null?e.memoizedProps:null,l=i.children,na(r,i)?l=null:o!==null&&na(r,o)&&(t.flags|=32),$m(e,t),pt(e,t,l,n),t.child;case 6:return e===null&&la(t),null;case 13:return Vm(e,t,n);case 4:return Sc(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=Hr(t,null,r,n):pt(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:Ut(r,i),Ju(e,t,r,i,n);case 7:return pt(e,t,t.pendingProps,n),t.child;case 8:return pt(e,t,t.pendingProps.children,n),t.child;case 12:return pt(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,i=t.pendingProps,o=t.memoizedProps,l=i.value,Te(ss,r._currentValue),r._currentValue=l,o!==null)if(Ht(o.value,l)){if(o.children===i.children&&!Ct.current){t=hn(e,t,n);break e}}else for(o=t.child,o!==null&&(o.return=t);o!==null;){var u=o.dependencies;if(u!==null){l=o.child;for(var a=u.firstContext;a!==null;){if(a.context===r){if(o.tag===1){a=un(-1,n&-n),a.tag=2;var c=o.updateQueue;if(c!==null){c=c.shared;var d=c.pending;d===null?a.next=a:(a.next=d.next,d.next=a),c.pending=a}}o.lanes|=n,a=o.alternate,a!==null&&(a.lanes|=n),aa(o.return,n,t),u.lanes|=n;break}a=a.next}}else if(o.tag===10)l=o.type===t.type?null:o.child;else if(o.tag===18){if(l=o.return,l===null)throw Error($(341));l.lanes|=n,u=l.alternate,u!==null&&(u.lanes|=n),aa(l,n,t),l=o.sibling}else l=o.child;if(l!==null)l.return=o;else for(l=o;l!==null;){if(l===t){l=null;break}if(o=l.sibling,o!==null){o.return=l.return,l=o;break}l=l.return}o=l}pt(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=t.pendingProps.children,zr(t,n),i=At(i),r=r(i),t.flags|=1,pt(e,t,r,n),t.child;case 14:return r=t.type,i=Ut(r,t.pendingProps),i=Ut(r.type,i),Zu(e,t,r,i,n);case 15:return zm(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:Ut(r,i),Bo(e,t),t.tag=1,jt(r)?(e=!0,rs(t)):e=!1,zr(t,n),Om(t,r,i),ua(t,r,i,n),ma(null,t,r,!0,e,n);case 19:return Wm(e,t,n);case 22:return Um(e,t,n)}throw Error($(156,t.tag))};function sh(e,t){return Df(e,t)}function _y(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Rt(e,t,n,r){return new _y(e,t,n,r)}function Lc(e){return e=e.prototype,!(!e||!e.isReactComponent)}function My(e){if(typeof e=="function")return Lc(e)?1:0;if(e!=null){if(e=e.$$typeof,e===qa)return 11;if(e===ec)return 14}return 2}function Fn(e,t){var n=e.alternate;return n===null?(n=Rt(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Ho(e,t,n,r,i,o){var l=2;if(r=e,typeof e=="function")Lc(e)&&(l=1);else if(typeof e=="string")l=5;else e:switch(e){case Cr:return rr(n.children,i,o,t);case Xa:l=8,i|=8;break;case Ll:return e=Rt(12,n,t,i|2),e.elementType=Ll,e.lanes=o,e;case Rl:return e=Rt(13,n,t,i),e.elementType=Rl,e.lanes=o,e;case Ol:return e=Rt(19,n,t,i),e.elementType=Ol,e.lanes=o,e;case gf:return Rs(n,i,o,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case hf:l=10;break e;case pf:l=9;break e;case qa:l=11;break e;case ec:l=14;break e;case Cn:l=16,r=null;break e}throw Error($(130,e==null?e:typeof e,""))}return t=Rt(l,n,t,i),t.elementType=e,t.type=r,t.lanes=o,t}function rr(e,t,n,r){return e=Rt(7,e,r,t),e.lanes=n,e}function Rs(e,t,n,r){return e=Rt(22,e,r,t),e.elementType=gf,e.lanes=n,e.stateNode={isHidden:!1},e}function vl(e,t,n){return e=Rt(6,e,null,t),e.lanes=n,e}function Sl(e,t,n){return t=Rt(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Iy(e,t,n,r,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=qs(0),this.expirationTimes=qs(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=qs(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function Rc(e,t,n,r,i,o,l,u,a){return e=new Iy(e,t,n,u,a),t===1?(t=1,o===!0&&(t|=8)):t=0,o=Rt(3,null,null,t),e.current=o,o.stateNode=e,o.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},vc(o),e}function Ty(e,t,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:xr,key:r==null?null:""+r,children:e,containerInfo:t,implementation:n}}function lh(e){if(!e)return Bn;e=e._reactInternals;e:{if(fr(e)!==e||e.tag!==1)throw Error($(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(jt(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error($(171))}if(e.tag===1){var n=e.type;if(jt(n))return lm(e,n,t)}return t}function ah(e,t,n,r,i,o,l,u,a){return e=Rc(n,r,!0,e,i,o,l,u,a),e.context=lh(null),n=e.current,r=gt(),i=An(n),o=un(r,i),o.callback=t??null,Rn(n,o,i),e.current.lanes=i,eo(e,i,r),Nt(e,r),e}function Os(e,t,n,r){var i=t.current,o=gt(),l=An(i);return n=lh(n),t.context===null?t.context=n:t.pendingContext=n,t=un(o,l),t.payload={element:e},r=r===void 0?null:r,r!==null&&(t.callback=r),e=Rn(i,t,l),e!==null&&(Wt(e,i,l,o),zo(e,i,l)),l}function gs(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function cd(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function Oc(e,t){cd(e,t),(e=e.alternate)&&cd(e,t)}function Py(){return null}var ch=typeof reportError=="function"?reportError:function(e){console.error(e)};function Ac(e){this._internalRoot=e}As.prototype.render=Ac.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error($(409));Os(e,t,null,null)};As.prototype.unmount=Ac.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;ar(function(){Os(null,e,null,null)}),t[fn]=null}};function As(e){this._internalRoot=e}As.prototype.unstable_scheduleHydration=function(e){if(e){var t=Uf();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Nn.length&&t!==0&&t<Nn[n].priority;n++);Nn.splice(n,0,e),n===0&&Bf(e)}};function Fc(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Fs(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function ud(){}function Dy(e,t,n,r,i){if(i){if(typeof r=="function"){var o=r;r=function(){var c=gs(l);o.call(c)}}var l=ah(t,r,e,0,null,!1,!1,"",ud);return e._reactRootContainer=l,e[fn]=l.current,Fi(e.nodeType===8?e.parentNode:e),ar(),l}for(;i=e.lastChild;)e.removeChild(i);if(typeof r=="function"){var u=r;r=function(){var c=gs(a);u.call(c)}}var a=Rc(e,0,!1,null,null,!1,!1,"",ud);return e._reactRootContainer=a,e[fn]=a.current,Fi(e.nodeType===8?e.parentNode:e),ar(function(){Os(t,a,n,r)}),a}function zs(e,t,n,r,i){var o=n._reactRootContainer;if(o){var l=o;if(typeof i=="function"){var u=i;i=function(){var a=gs(l);u.call(a)}}Os(t,l,e,i)}else l=Dy(n,t,e,i,r);return gs(l)}Ff=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=vi(t.pendingLanes);n!==0&&(rc(t,n|1),Nt(t,Je()),!(we&6)&&(Kr=Je()+500,Gn()))}break;case 13:ar(function(){var r=mn(e,1);if(r!==null){var i=gt();Wt(r,e,1,i)}}),Oc(e,1)}};ic=function(e){if(e.tag===13){var t=mn(e,134217728);if(t!==null){var n=gt();Wt(t,e,134217728,n)}Oc(e,134217728)}};zf=function(e){if(e.tag===13){var t=An(e),n=mn(e,t);if(n!==null){var r=gt();Wt(n,e,t,r)}Oc(e,t)}};Uf=function(){return be};$f=function(e,t){var n=be;try{return be=e,t()}finally{be=n}};Gl=function(e,t,n){switch(t){case"input":if(zl(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=Ms(r);if(!i)throw Error($(90));vf(r),zl(r,i)}}}break;case"textarea":wf(e,n);break;case"select":t=n.value,t!=null&&Rr(e,!!n.multiple,t,!1)}};Ef=Tc;_f=ar;var Ly={usingClientEntryPoint:!1,Events:[no,kr,Ms,bf,kf,Tc]},mi={findFiberByHostInstance:qn,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},Ry={bundleType:mi.bundleType,version:mi.version,rendererPackageName:mi.rendererPackageName,rendererConfig:mi.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:yn.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=Tf(e),e===null?null:e.stateNode},findFiberByHostInstance:mi.findFiberByHostInstance||Py,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var bo=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!bo.isDisabled&&bo.supportsFiber)try{bs=bo.inject(Ry),qt=bo}catch{}}It.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Ly;It.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Fc(t))throw Error($(200));return Ty(e,t,null,n)};It.createRoot=function(e,t){if(!Fc(e))throw Error($(299));var n=!1,r="",i=ch;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onRecoverableError!==void 0&&(i=t.onRecoverableError)),t=Rc(e,1,!1,null,null,n,!1,r,i),e[fn]=t.current,Fi(e.nodeType===8?e.parentNode:e),new Ac(t)};It.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error($(188)):(e=Object.keys(e).join(","),Error($(268,e)));return e=Tf(t),e=e===null?null:e.stateNode,e};It.flushSync=function(e){return ar(e)};It.hydrate=function(e,t,n){if(!Fs(t))throw Error($(200));return zs(null,e,t,!0,n)};It.hydrateRoot=function(e,t,n){if(!Fc(e))throw Error($(405));var r=n!=null&&n.hydratedSources||null,i=!1,o="",l=ch;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(o=n.identifierPrefix),n.onRecoverableError!==void 0&&(l=n.onRecoverableError)),t=ah(t,null,e,1,n??null,i,!1,o,l),e[fn]=t.current,Fi(e),r)for(e=0;e<r.length;e++)n=r[e],i=n._getVersion,i=i(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,i]:t.mutableSourceEagerHydrationData.push(n,i);return new As(t)};It.render=function(e,t,n){if(!Fs(t))throw Error($(200));return zs(null,e,t,!1,n)};It.unmountComponentAtNode=function(e){if(!Fs(e))throw Error($(40));return e._reactRootContainer?(ar(function(){zs(null,null,e,!1,function(){e._reactRootContainer=null,e[fn]=null})}),!0):!1};It.unstable_batchedUpdates=Tc;It.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!Fs(n))throw Error($(200));if(e==null||e._reactInternals===void 0)throw Error($(38));return zs(e,t,n,!1,r)};It.version="18.3.1-next-f1338f8080-20240426";function uh(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(uh)}catch(e){console.error(e)}}uh(),uf.exports=It;var Oy=uf.exports,dd=Oy;Pl.createRoot=dd.createRoot,Pl.hydrateRoot=dd.hydrateRoot;/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Qi(){return Qi=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Qi.apply(this,arguments)}var Mn;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(Mn||(Mn={}));const fd="popstate";function Ay(e){e===void 0&&(e={});function t(i,o){let{pathname:l="/",search:u="",hash:a=""}=mr(i.location.hash.substr(1));return!l.startsWith("/")&&!l.startsWith(".")&&(l="/"+l),ba("",{pathname:l,search:u,hash:a},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function n(i,o){let l=i.document.querySelector("base"),u="";if(l&&l.getAttribute("href")){let a=i.location.href,c=a.indexOf("#");u=c===-1?a:a.slice(0,c)}return u+"#"+(typeof o=="string"?o:ys(o))}function r(i,o){zc(i.pathname.charAt(0)==="/","relative pathnames are not supported in hash history.push("+JSON.stringify(o)+")")}return zy(t,n,r,e)}function Be(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function zc(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function Fy(){return Math.random().toString(36).substr(2,8)}function md(e,t){return{usr:e.state,key:e.key,idx:t}}function ba(e,t,n,r){return n===void 0&&(n=null),Qi({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?mr(t):t,{state:n,key:t&&t.key||r||Fy()})}function ys(e){let{pathname:t="/",search:n="",hash:r=""}=e;return n&&n!=="?"&&(t+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(t+=r.charAt(0)==="#"?r:"#"+r),t}function mr(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substr(r),e=e.substr(0,r)),e&&(t.pathname=e)}return t}function zy(e,t,n,r){r===void 0&&(r={});let{window:i=document.defaultView,v5Compat:o=!1}=r,l=i.history,u=Mn.Pop,a=null,c=d();c==null&&(c=0,l.replaceState(Qi({},l.state,{idx:c}),""));function d(){return(l.state||{idx:null}).idx}function f(){u=Mn.Pop;let C=d(),m=C==null?null:C-c;c=C,a&&a({action:u,location:v.location,delta:m})}function g(C,m){u=Mn.Push;let h=ba(v.location,C,m);n&&n(h,C),c=d()+1;let y=md(h,c),j=v.createHref(h);try{l.pushState(y,"",j)}catch(E){if(E instanceof DOMException&&E.name==="DataCloneError")throw E;i.location.assign(j)}o&&a&&a({action:u,location:v.location,delta:1})}function S(C,m){u=Mn.Replace;let h=ba(v.location,C,m);n&&n(h,C),c=d();let y=md(h,c),j=v.createHref(h);l.replaceState(y,"",j),o&&a&&a({action:u,location:v.location,delta:0})}function p(C){let m=i.location.origin!=="null"?i.location.origin:i.location.href,h=typeof C=="string"?C:ys(C);return h=h.replace(/ $/,"%20"),Be(m,"No window.location.(origin|href) available to create URL for href: "+h),new URL(h,m)}let v={get action(){return u},get location(){return e(i,l)},listen(C){if(a)throw new Error("A history only accepts one active listener");return i.addEventListener(fd,f),a=C,()=>{i.removeEventListener(fd,f),a=null}},createHref(C){return t(i,C)},createURL:p,encodeLocation(C){let m=p(C);return{pathname:m.pathname,search:m.search,hash:m.hash}},push:g,replace:S,go(C){return l.go(C)}};return v}var hd;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(hd||(hd={}));function Uy(e,t,n){return n===void 0&&(n="/"),$y(e,t,n)}function $y(e,t,n,r){let i=typeof t=="string"?mr(t):t,o=Yr(i.pathname||"/",n);if(o==null)return null;let l=dh(e);By(l);let u=null;for(let a=0;u==null&&a<l.length;++a){let c=qy(o);u=Zy(l[a],c)}return u}function dh(e,t,n,r){t===void 0&&(t=[]),n===void 0&&(n=[]),r===void 0&&(r="");let i=(o,l,u)=>{let a={relativePath:u===void 0?o.path||"":u,caseSensitive:o.caseSensitive===!0,childrenIndex:l,route:o};a.relativePath.startsWith("/")&&(Be(a.relativePath.startsWith(r),'Absolute route path "'+a.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),a.relativePath=a.relativePath.slice(r.length));let c=zn([r,a.relativePath]),d=n.concat(a);o.children&&o.children.length>0&&(Be(o.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+c+'".')),dh(o.children,t,d,c)),!(o.path==null&&!o.index)&&t.push({path:c,score:Yy(c,o.index),routesMeta:d})};return e.forEach((o,l)=>{var u;if(o.path===""||!((u=o.path)!=null&&u.includes("?")))i(o,l);else for(let a of fh(o.path))i(o,l,a)}),t}function fh(e){let t=e.split("/");if(t.length===0)return[];let[n,...r]=t,i=n.endsWith("?"),o=n.replace(/\?$/,"");if(r.length===0)return i?[o,""]:[o];let l=fh(r.join("/")),u=[];return u.push(...l.map(a=>a===""?o:[o,a].join("/"))),i&&u.push(...l),u.map(a=>e.startsWith("/")&&a===""?"/":a)}function By(e){e.sort((t,n)=>t.score!==n.score?n.score-t.score:Jy(t.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const Vy=/^:[\w-]+$/,Wy=3,Hy=2,Gy=1,Qy=10,Ky=-2,pd=e=>e==="*";function Yy(e,t){let n=e.split("/"),r=n.length;return n.some(pd)&&(r+=Ky),t&&(r+=Hy),n.filter(i=>!pd(i)).reduce((i,o)=>i+(Vy.test(o)?Wy:o===""?Gy:Qy),r)}function Jy(e,t){return e.length===t.length&&e.slice(0,-1).every((r,i)=>r===t[i])?e[e.length-1]-t[t.length-1]:0}function Zy(e,t,n){let{routesMeta:r}=e,i={},o="/",l=[];for(let u=0;u<r.length;++u){let a=r[u],c=u===r.length-1,d=o==="/"?t:t.slice(o.length)||"/",f=ka({path:a.relativePath,caseSensitive:a.caseSensitive,end:c},d),g=a.route;if(!f)return null;Object.assign(i,f.params),l.push({params:i,pathname:zn([o,f.pathname]),pathnameBase:rv(zn([o,f.pathnameBase])),route:g}),f.pathnameBase!=="/"&&(o=zn([o,f.pathnameBase]))}return l}function ka(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=Xy(e.path,e.caseSensitive,e.end),i=t.match(n);if(!i)return null;let o=i[0],l=o.replace(/(.)\/+$/,"$1"),u=i.slice(1);return{params:r.reduce((c,d,f)=>{let{paramName:g,isOptional:S}=d;if(g==="*"){let v=u[f]||"";l=o.slice(0,o.length-v.length).replace(/(.)\/+$/,"$1")}const p=u[f];return S&&!p?c[g]=void 0:c[g]=(p||"").replace(/%2F/g,"/"),c},{}),pathname:o,pathnameBase:l,pattern:e}}function Xy(e,t,n){t===void 0&&(t=!1),n===void 0&&(n=!0),zc(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let r=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(l,u,a)=>(r.push({paramName:u,isOptional:a!=null}),a?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(r.push({paramName:"*"}),i+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":e!==""&&e!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,t?void 0:"i"),r]}function qy(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return zc(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function Yr(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&r!=="/"?null:e.slice(n)||"/"}function ev(e,t){t===void 0&&(t="/");let{pathname:n,search:r="",hash:i=""}=typeof e=="string"?mr(e):e;return{pathname:n?n.startsWith("/")?n:tv(n,t):t,search:iv(r),hash:ov(i)}}function tv(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function wl(e,t,n,r){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function nv(e){return e.filter((t,n)=>n===0||t.route.path&&t.route.path.length>0)}function Uc(e,t){let n=nv(e);return t?n.map((r,i)=>i===n.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function $c(e,t,n,r){r===void 0&&(r=!1);let i;typeof e=="string"?i=mr(e):(i=Qi({},e),Be(!i.pathname||!i.pathname.includes("?"),wl("?","pathname","search",i)),Be(!i.pathname||!i.pathname.includes("#"),wl("#","pathname","hash",i)),Be(!i.search||!i.search.includes("#"),wl("#","search","hash",i)));let o=e===""||i.pathname==="",l=o?"/":i.pathname,u;if(l==null)u=n;else{let f=t.length-1;if(!r&&l.startsWith("..")){let g=l.split("/");for(;g[0]==="..";)g.shift(),f-=1;i.pathname=g.join("/")}u=f>=0?t[f]:"/"}let a=ev(i,u),c=l&&l!=="/"&&l.endsWith("/"),d=(o||l===".")&&n.endsWith("/");return!a.pathname.endsWith("/")&&(c||d)&&(a.pathname+="/"),a}const zn=e=>e.join("/").replace(/\/\/+/g,"/"),rv=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),iv=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,ov=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function sv(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const mh=["post","put","patch","delete"];new Set(mh);const lv=["get",...mh];new Set(lv);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Ki(){return Ki=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Ki.apply(this,arguments)}const Us=w.createContext(null),hh=w.createContext(null),vn=w.createContext(null),$s=w.createContext(null),Sn=w.createContext({outlet:null,matches:[],isDataRoute:!1}),ph=w.createContext(null);function av(e,t){let{relative:n}=t===void 0?{}:t;ni()||Be(!1);let{basename:r,navigator:i}=w.useContext(vn),{hash:o,pathname:l,search:u}=Bs(e,{relative:n}),a=l;return r!=="/"&&(a=l==="/"?r:zn([r,l])),i.createHref({pathname:a,search:u,hash:o})}function ni(){return w.useContext($s)!=null}function hr(){return ni()||Be(!1),w.useContext($s).location}function gh(e){w.useContext(vn).static||w.useLayoutEffect(e)}function io(){let{isDataRoute:e}=w.useContext(Sn);return e?Cv():cv()}function cv(){ni()||Be(!1);let e=w.useContext(Us),{basename:t,future:n,navigator:r}=w.useContext(vn),{matches:i}=w.useContext(Sn),{pathname:o}=hr(),l=JSON.stringify(Uc(i,n.v7_relativeSplatPath)),u=w.useRef(!1);return gh(()=>{u.current=!0}),w.useCallback(function(c,d){if(d===void 0&&(d={}),!u.current)return;if(typeof c=="number"){r.go(c);return}let f=$c(c,JSON.parse(l),o,d.relative==="path");e==null&&t!=="/"&&(f.pathname=f.pathname==="/"?t:zn([t,f.pathname])),(d.replace?r.replace:r.push)(f,d.state,d)},[t,r,l,o,e])}function uv(){let{matches:e}=w.useContext(Sn),t=e[e.length-1];return t?t.params:{}}function Bs(e,t){let{relative:n}=t===void 0?{}:t,{future:r}=w.useContext(vn),{matches:i}=w.useContext(Sn),{pathname:o}=hr(),l=JSON.stringify(Uc(i,r.v7_relativeSplatPath));return w.useMemo(()=>$c(e,JSON.parse(l),o,n==="path"),[e,l,o,n])}function dv(e,t){return fv(e,t)}function fv(e,t,n,r){ni()||Be(!1);let{navigator:i}=w.useContext(vn),{matches:o}=w.useContext(Sn),l=o[o.length-1],u=l?l.params:{};l&&l.pathname;let a=l?l.pathnameBase:"/";l&&l.route;let c=hr(),d;if(t){var f;let C=typeof t=="string"?mr(t):t;a==="/"||(f=C.pathname)!=null&&f.startsWith(a)||Be(!1),d=C}else d=c;let g=d.pathname||"/",S=g;if(a!=="/"){let C=a.replace(/^\//,"").split("/");S="/"+g.replace(/^\//,"").split("/").slice(C.length).join("/")}let p=Uy(e,{pathname:S}),v=yv(p&&p.map(C=>Object.assign({},C,{params:Object.assign({},u,C.params),pathname:zn([a,i.encodeLocation?i.encodeLocation(C.pathname).pathname:C.pathname]),pathnameBase:C.pathnameBase==="/"?a:zn([a,i.encodeLocation?i.encodeLocation(C.pathnameBase).pathname:C.pathnameBase])})),o,n,r);return t&&v?w.createElement($s.Provider,{value:{location:Ki({pathname:"/",search:"",hash:"",state:null,key:"default"},d),navigationType:Mn.Pop}},v):v}function mv(){let e=xv(),t=sv(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return w.createElement(w.Fragment,null,w.createElement("h2",null,"Unexpected Application Error!"),w.createElement("h3",{style:{fontStyle:"italic"}},t),n?w.createElement("pre",{style:i},n):null,null)}const hv=w.createElement(mv,null);class pv extends w.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,n){return n.location!==t.location||n.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:n.error,location:n.location,revalidation:t.revalidation||n.revalidation}}componentDidCatch(t,n){console.error("React Router caught the following error during render",t,n)}render(){return this.state.error!==void 0?w.createElement(Sn.Provider,{value:this.props.routeContext},w.createElement(ph.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function gv(e){let{routeContext:t,match:n,children:r}=e,i=w.useContext(Us);return i&&i.static&&i.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=n.route.id),w.createElement(Sn.Provider,{value:t},r)}function yv(e,t,n,r){var i;if(t===void 0&&(t=[]),n===void 0&&(n=null),r===void 0&&(r=null),e==null){var o;if(!n)return null;if(n.errors)e=n.matches;else if((o=r)!=null&&o.v7_partialHydration&&t.length===0&&!n.initialized&&n.matches.length>0)e=n.matches;else return null}let l=e,u=(i=n)==null?void 0:i.errors;if(u!=null){let d=l.findIndex(f=>f.route.id&&(u==null?void 0:u[f.route.id])!==void 0);d>=0||Be(!1),l=l.slice(0,Math.min(l.length,d+1))}let a=!1,c=-1;if(n&&r&&r.v7_partialHydration)for(let d=0;d<l.length;d++){let f=l[d];if((f.route.HydrateFallback||f.route.hydrateFallbackElement)&&(c=d),f.route.id){let{loaderData:g,errors:S}=n,p=f.route.loader&&g[f.route.id]===void 0&&(!S||S[f.route.id]===void 0);if(f.route.lazy||p){a=!0,c>=0?l=l.slice(0,c+1):l=[l[0]];break}}}return l.reduceRight((d,f,g)=>{let S,p=!1,v=null,C=null;n&&(S=u&&f.route.id?u[f.route.id]:void 0,v=f.route.errorElement||hv,a&&(c<0&&g===0?(jv("route-fallback"),p=!0,C=null):c===g&&(p=!0,C=f.route.hydrateFallbackElement||null)));let m=t.concat(l.slice(0,g+1)),h=()=>{let y;return S?y=v:p?y=C:f.route.Component?y=w.createElement(f.route.Component,null):f.route.element?y=f.route.element:y=d,w.createElement(gv,{match:f,routeContext:{outlet:d,matches:m,isDataRoute:n!=null},children:y})};return n&&(f.route.ErrorBoundary||f.route.errorElement||g===0)?w.createElement(pv,{location:n.location,revalidation:n.revalidation,component:v,error:S,children:h(),routeContext:{outlet:null,matches:m,isDataRoute:!0}}):h()},null)}var yh=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(yh||{}),vh=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(vh||{});function vv(e){let t=w.useContext(Us);return t||Be(!1),t}function Sv(e){let t=w.useContext(hh);return t||Be(!1),t}function wv(e){let t=w.useContext(Sn);return t||Be(!1),t}function Sh(e){let t=wv(),n=t.matches[t.matches.length-1];return n.route.id||Be(!1),n.route.id}function xv(){var e;let t=w.useContext(ph),n=Sv(),r=Sh();return t!==void 0?t:(e=n.errors)==null?void 0:e[r]}function Cv(){let{router:e}=vv(yh.UseNavigateStable),t=Sh(vh.UseNavigateStable),n=w.useRef(!1);return gh(()=>{n.current=!0}),w.useCallback(function(i,o){o===void 0&&(o={}),n.current&&(typeof i=="number"?e.navigate(i):e.navigate(i,Ki({fromRouteId:t},o)))},[e,t])}const gd={};function jv(e,t,n){gd[e]||(gd[e]=!0)}function Nv(e,t){e==null||e.v7_startTransition,e==null||e.v7_relativeSplatPath}function bv(e){let{to:t,replace:n,state:r,relative:i}=e;ni()||Be(!1);let{future:o,static:l}=w.useContext(vn),{matches:u}=w.useContext(Sn),{pathname:a}=hr(),c=io(),d=$c(t,Uc(u,o.v7_relativeSplatPath),a,i==="path"),f=JSON.stringify(d);return w.useEffect(()=>c(JSON.parse(f),{replace:n,state:r,relative:i}),[c,f,i,n,r]),null}function Zn(e){Be(!1)}function kv(e){let{basename:t="/",children:n=null,location:r,navigationType:i=Mn.Pop,navigator:o,static:l=!1,future:u}=e;ni()&&Be(!1);let a=t.replace(/^\/*/,"/"),c=w.useMemo(()=>({basename:a,navigator:o,static:l,future:Ki({v7_relativeSplatPath:!1},u)}),[a,u,o,l]);typeof r=="string"&&(r=mr(r));let{pathname:d="/",search:f="",hash:g="",state:S=null,key:p="default"}=r,v=w.useMemo(()=>{let C=Yr(d,a);return C==null?null:{location:{pathname:C,search:f,hash:g,state:S,key:p},navigationType:i}},[a,d,f,g,S,p,i]);return v==null?null:w.createElement(vn.Provider,{value:c},w.createElement($s.Provider,{children:n,value:v}))}function Ev(e){let{children:t,location:n}=e;return dv(Ea(t),n)}new Promise(()=>{});function Ea(e,t){t===void 0&&(t=[]);let n=[];return w.Children.forEach(e,(r,i)=>{if(!w.isValidElement(r))return;let o=[...t,i];if(r.type===w.Fragment){n.push.apply(n,Ea(r.props.children,o));return}r.type!==Zn&&Be(!1),!r.props.index||!r.props.children||Be(!1);let l={id:r.props.id||o.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(l.children=Ea(r.props.children,o)),n.push(l)}),n}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function vs(){return vs=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},vs.apply(this,arguments)}function wh(e,t){if(e==null)return{};var n={},r=Object.keys(e),i,o;for(o=0;o<r.length;o++)i=r[o],!(t.indexOf(i)>=0)&&(n[i]=e[i]);return n}function _v(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function Mv(e,t){return e.button===0&&(!t||t==="_self")&&!_v(e)}const Iv=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],Tv=["aria-current","caseSensitive","className","end","style","to","viewTransition","children"],Pv="6";try{window.__reactRouterVersion=Pv}catch{}const Dv=w.createContext({isTransitioning:!1}),Lv="startTransition",yd=bp[Lv];function Rv(e){let{basename:t,children:n,future:r,window:i}=e,o=w.useRef();o.current==null&&(o.current=Ay({window:i,v5Compat:!0}));let l=o.current,[u,a]=w.useState({action:l.action,location:l.location}),{v7_startTransition:c}=r||{},d=w.useCallback(f=>{c&&yd?yd(()=>a(f)):a(f)},[a,c]);return w.useLayoutEffect(()=>l.listen(d),[l,d]),w.useEffect(()=>Nv(r),[r]),w.createElement(kv,{basename:t,children:n,location:u.location,navigationType:u.action,navigator:l,future:r})}const Ov=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",Av=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Fv=w.forwardRef(function(t,n){let{onClick:r,relative:i,reloadDocument:o,replace:l,state:u,target:a,to:c,preventScrollReset:d,viewTransition:f}=t,g=wh(t,Iv),{basename:S}=w.useContext(vn),p,v=!1;if(typeof c=="string"&&Av.test(c)&&(p=c,Ov))try{let y=new URL(window.location.href),j=c.startsWith("//")?new URL(y.protocol+c):new URL(c),E=Yr(j.pathname,S);j.origin===y.origin&&E!=null?c=E+j.search+j.hash:v=!0}catch{}let C=av(c,{relative:i}),m=Uv(c,{replace:l,state:u,target:a,preventScrollReset:d,relative:i,viewTransition:f});function h(y){r&&r(y),y.defaultPrevented||m(y)}return w.createElement("a",vs({},g,{href:p||C,onClick:v||o?r:h,ref:n,target:a}))}),ko=w.forwardRef(function(t,n){let{"aria-current":r="page",caseSensitive:i=!1,className:o="",end:l=!1,style:u,to:a,viewTransition:c,children:d}=t,f=wh(t,Tv),g=Bs(a,{relative:f.relative}),S=hr(),p=w.useContext(hh),{navigator:v,basename:C}=w.useContext(vn),m=p!=null&&$v(g)&&c===!0,h=v.encodeLocation?v.encodeLocation(g).pathname:g.pathname,y=S.pathname,j=p&&p.navigation&&p.navigation.location?p.navigation.location.pathname:null;i||(y=y.toLowerCase(),j=j?j.toLowerCase():null,h=h.toLowerCase()),j&&C&&(j=Yr(j,C)||j);const E=h!=="/"&&h.endsWith("/")?h.length-1:h.length;let D=y===h||!l&&y.startsWith(h)&&y.charAt(E)==="/",_=j!=null&&(j===h||!l&&j.startsWith(h)&&j.charAt(h.length)==="/"),M={isActive:D,isPending:_,isTransitioning:m},z=D?r:void 0,A;typeof o=="function"?A=o(M):A=[o,D?"active":null,_?"pending":null,m?"transitioning":null].filter(Boolean).join(" ");let U=typeof u=="function"?u(M):u;return w.createElement(Fv,vs({},f,{"aria-current":z,className:A,ref:n,style:U,to:a,viewTransition:c}),typeof d=="function"?d(M):d)});var _a;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(_a||(_a={}));var vd;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(vd||(vd={}));function zv(e){let t=w.useContext(Us);return t||Be(!1),t}function Uv(e,t){let{target:n,replace:r,state:i,preventScrollReset:o,relative:l,viewTransition:u}=t===void 0?{}:t,a=io(),c=hr(),d=Bs(e,{relative:l});return w.useCallback(f=>{if(Mv(f,n)){f.preventDefault();let g=r!==void 0?r:ys(c)===ys(d);a(e,{replace:g,state:i,preventScrollReset:o,relative:l,viewTransition:u})}},[c,a,d,r,i,n,e,o,l,u])}function $v(e,t){t===void 0&&(t={});let n=w.useContext(Dv);n==null&&Be(!1);let{basename:r}=zv(_a.useViewTransitionState),i=Bs(e,{relative:t.relative});if(!n.isTransitioning)return!1;let o=Yr(n.currentLocation.pathname,r)||n.currentLocation.pathname,l=Yr(n.nextLocation.pathname,r)||n.nextLocation.pathname;return ka(i.pathname,l)!=null||ka(i.pathname,o)!=null}function Bv(e={}){const{nonce:t,onScriptLoadSuccess:n,onScriptLoadError:r}=e,[i,o]=w.useState(!1),l=w.useRef(n);l.current=n;const u=w.useRef(r);return u.current=r,w.useEffect(()=>{const a=document.createElement("script");return a.src="https://accounts.google.com/gsi/client",a.async=!0,a.defer=!0,a.nonce=t,a.onload=()=>{var c;o(!0),(c=l.current)===null||c===void 0||c.call(l)},a.onerror=()=>{var c;o(!1),(c=u.current)===null||c===void 0||c.call(u)},document.body.appendChild(a),()=>{document.body.removeChild(a)}},[t]),i}const xh=w.createContext(null);function Vv({clientId:e,nonce:t,onScriptLoadSuccess:n,onScriptLoadError:r,children:i}){const o=Bv({nonce:t,onScriptLoadSuccess:n,onScriptLoadError:r}),l=w.useMemo(()=>({clientId:e,scriptLoadedSuccessfully:o}),[e,o]);return xe.createElement(xh.Provider,{value:l},i)}function Wv(){const e=w.useContext(xh);if(!e)throw new Error("Google OAuth components must be used within GoogleOAuthProvider");return e}function Hv(e){var t;return(t=e==null?void 0:e.clientId)!==null&&t!==void 0?t:e==null?void 0:e.client_id}const Gv={large:40,medium:32,small:20};function Qv({onSuccess:e,onError:t,useOneTap:n,promptMomentNotification:r,type:i="standard",theme:o="outline",size:l="large",text:u,shape:a,logo_alignment:c,width:d,locale:f,click_listener:g,containerProps:S,...p}){const v=w.useRef(null),{clientId:C,scriptLoadedSuccessfully:m}=Wv(),h=w.useRef(e);h.current=e;const y=w.useRef(t);y.current=t;const j=w.useRef(r);return j.current=r,w.useEffect(()=>{var E,D,_,M,z,A,U,H,te;if(m)return(_=(D=(E=window==null?void 0:window.google)===null||E===void 0?void 0:E.accounts)===null||D===void 0?void 0:D.id)===null||_===void 0||_.initialize({client_id:C,callback:k=>{var L;if(!(k!=null&&k.credential))return(L=y.current)===null||L===void 0?void 0:L.call(y);const{credential:x,select_by:T}=k;h.current({credential:x,clientId:Hv(k),select_by:T})},...p}),(A=(z=(M=window==null?void 0:window.google)===null||M===void 0?void 0:M.accounts)===null||z===void 0?void 0:z.id)===null||A===void 0||A.renderButton(v.current,{type:i,theme:o,size:l,text:u,shape:a,logo_alignment:c,width:d,locale:f,click_listener:g}),n&&((te=(H=(U=window==null?void 0:window.google)===null||U===void 0?void 0:U.accounts)===null||H===void 0?void 0:H.id)===null||te===void 0||te.prompt(j.current)),()=>{var k,L,x;n&&((x=(L=(k=window==null?void 0:window.google)===null||k===void 0?void 0:k.accounts)===null||L===void 0?void 0:L.id)===null||x===void 0||x.cancel())}},[C,m,n,i,o,l,u,a,c,d,f]),xe.createElement("div",{...S,ref:v,style:{height:Gv[l],...S==null?void 0:S.style}})}function Sd(){var o,l,u,a;const e=new Intl.DateTimeFormat("en-US",{timeZone:"Asia/Manila",weekday:"long",month:"short",day:"2-digit",year:"numeric"}).formatToParts(new Date),t=(((o=e.find(c=>c.type==="weekday"))==null?void 0:o.value)||"").toUpperCase(),n=((l=e.find(c=>c.type==="month"))==null?void 0:l.value)||"Jan",r=parseInt(((u=e.find(c=>c.type==="day"))==null?void 0:u.value)||"01",10),i=((a=e.find(c=>c.type==="year"))==null?void 0:a.value)||"0000";return{weekday:t,text:`${n}-${r}, ${i}`}}function Kv({onLogout:e=()=>{}}){const[t,n]=w.useState(Sd());return w.useEffect(()=>{const r=()=>n(Sd()),i=setInterval(r,6e4);return r(),()=>clearInterval(i)},[]),s.jsxs("aside",{className:"sidebar",children:[s.jsx("div",{className:"brand",children:s.jsx("img",{src:"/kusgan-frontend/kusgan-logo.png",alt:"Kusgan logo",className:"brand-logo",style:{width:350,height:"auto"}})}),s.jsx("div",{className:"sidebar-info",children:s.jsxs("div",{className:"date",children:[s.jsx("div",{style:{fontSize:"14px",fontStyle:"italic",color:"#e9e9ee",marginBottom:"5px"},children:"Today is"}),s.jsxs("div",{style:{fontWeight:"600",fontSize:"20px",color:"#e9e9ee",marginBottom:"25px"},children:[t.weekday," ",t.text]})]})}),s.jsxs("nav",{className:"nav",children:[s.jsx(ko,{to:"/",end:!0,children:" Dashboard"}),s.jsx(ko,{to:"/attendance",children:" Staff Attendance"}),s.jsx(ko,{to:"/members",children:" All Members"}),s.jsx(ko,{to:"/checkin",children:" Member Check-In"})]}),s.jsx("div",{className:"sidebar-footer",children:s.jsx("button",{className:"button logout-btn",onClick:e,children:"Logout"})})]})}var Yv="Expected a function",wd=NaN,Jv="[object Symbol]",Zv=/^\s+|\s+$/g,Xv=/^[-+]0x[0-9a-f]+$/i,qv=/^0b[01]+$/i,e0=/^0o[0-7]+$/i,t0=parseInt,n0=typeof lo=="object"&&lo&&lo.Object===Object&&lo,r0=typeof self=="object"&&self&&self.Object===Object&&self,i0=n0||r0||Function("return this")(),o0=Object.prototype,s0=o0.toString,l0=Math.max,a0=Math.min,xl=function(){return i0.Date.now()};function c0(e,t,n){var r,i,o,l,u,a,c=0,d=!1,f=!1,g=!0;if(typeof e!="function")throw new TypeError(Yv);t=xd(t)||0,Ma(n)&&(d=!!n.leading,f="maxWait"in n,o=f?l0(xd(n.maxWait)||0,t):o,g="trailing"in n?!!n.trailing:g);function S(D){var _=r,M=i;return r=i=void 0,c=D,l=e.apply(M,_),l}function p(D){return c=D,u=setTimeout(m,t),d?S(D):l}function v(D){var _=D-a,M=D-c,z=t-_;return f?a0(z,o-M):z}function C(D){var _=D-a,M=D-c;return a===void 0||_>=t||_<0||f&&M>=o}function m(){var D=xl();if(C(D))return h(D);u=setTimeout(m,v(D))}function h(D){return u=void 0,g&&r?S(D):(r=i=void 0,l)}function y(){u!==void 0&&clearTimeout(u),c=0,r=a=i=u=void 0}function j(){return u===void 0?l:h(xl())}function E(){var D=xl(),_=C(D);if(r=arguments,i=this,a=D,_){if(u===void 0)return p(a);if(f)return u=setTimeout(m,t),S(a)}return u===void 0&&(u=setTimeout(m,t)),l}return E.cancel=y,E.flush=j,E}function Ma(e){var t=typeof e;return!!e&&(t=="object"||t=="function")}function u0(e){return!!e&&typeof e=="object"}function d0(e){return typeof e=="symbol"||u0(e)&&s0.call(e)==Jv}function xd(e){if(typeof e=="number")return e;if(d0(e))return wd;if(Ma(e)){var t=typeof e.valueOf=="function"?e.valueOf():e;e=Ma(t)?t+"":t}if(typeof e!="string")return e===0?e:+e;e=e.replace(Zv,"");var n=qv.test(e);return n||e0.test(e)?t0(e.slice(2),n?2:8):Xv.test(e)?wd:+e}var f0=c0;const m0=Zd(f0),$r=new Map;function h0(e,t){return $r.has(e)||$r.set(e,new Set),$r.get(e).add(t),()=>Ch(e,t)}function Ch(e,t){const n=$r.get(e);n&&(n.delete(t),n.size||$r.delete(e))}function p0(e,t){const n=$r.get(e);if(n)for(const r of Array.from(n))try{r(t)}catch(i){console.error("event handler error",i)}}const Ue={on:h0,off:Ch,emit:p0};m0(async e=>await tn(e),300);async function g0(e){try{return{data:await tn(e),error:null}}catch(t){return{data:null,error:t}}}const Dr="https://script.google.com/macros/s/AKfycbxQYykhjDNC1sJ-3no2LJcuc-LdzJ7d6WyBBAkr9jLR1RKFoqrDPRmjXSueiyrlRrQkxg/exec".trim(),Cd="Attendance".trim();function Et(e){if(!Dr)throw new Error("VITE_APPS_SCRIPT_URL is missing");if(!e)return Dr;const t=Dr.includes("?")?"&":"?";return`${Dr}${t}${e.replace(/^\?/,"")}`}async function jh(e,t){const n=await e.text();if(!e.ok)throw new Error(`HTTP ${e.status} ${e.statusText} from ${t}: ${n.slice(0,200)}`);const r=n.trim();if(!(r.startsWith("{")||r.startsWith("[")))throw new Error(`Expected JSON from ${t}. Got: ${r.slice(0,120)}`);return JSON.parse(r)}async function Yi(e){console.debug("API GET ->",e);const t=await fetch(e,{cache:"no-store",mode:"cors"});return jh(t,e)}const Ia=new Map;try{Ia.clear()}catch{}function Pt(e){try{for(const t of Array.from(Ia.keys()))t.includes(e)&&Ia.delete(t)}catch{}}function jd(e){return!1}function Nd(e){try{if(!Array.isArray(e))return e;const t=new Set,n=[];for(const r of e){const i=`${String((r==null?void 0:r.Staff)||"").trim().toLowerCase()}|${String((r==null?void 0:r.Date)||"").slice(0,10)}|${String((r==null?void 0:r.TimeIn)||"").trim()}|${String((r==null?void 0:r.TimeOut)||"").trim()}`;t.has(i)||(t.add(i),n.push(r))}return n}catch{return e}}function pn(e,t=3e4){return Yi(e).then(n=>JSON.parse(JSON.stringify(n)))}function ut(e,...t){if(!e)return"";for(const n of t){if(e[n]!==void 0&&e[n]!==null&&String(e[n]).trim()!=="")return e[n];const r=String(n).toLowerCase(),i=Object.keys(e||{}).find(o=>String(o||"").toLowerCase().replace(/\s+/g,"")===r.replace(/\s+/g,""));if(i&&e[i]!==void 0&&e[i]!==null&&String(e[i]).trim()!=="")return e[i]}return""}function Bc(e){if(!e)return null;const t=e||{},n={};return n.memberid=String(ut(t,"MemberID","memberId","member_id","ID","Id")||"").trim(),n.lastname=ut(t,"LastName","Last Name","lastname","last_name"),n.firstname=ut(t,"FirstName","First Name","firstname","first_name"),n.middlename=ut(t,"MiddleName","Middle Name","middlename","middle_name"),n.nickname=ut(t,"NickName","Nick Name","nickname","nick_name"),n.gender=ut(t,"Gender","gender"),n.birthday=ut(t,"Birthday","birth_date","dob","Birth Date"),n.street=ut(t,"Street","street","House No","House No."),n.brgy=ut(t,"Brgy","Barangay","brgy","barangay"),n.municipality=ut(t,"Municipality","City","municipality","city"),n.email=ut(t,"Email","email"),n.mobile=ut(t,"Mobile","Phone","mobile","phone"),n.member_since=ut(t,"MemberSince","Member Since","member_since","join_date"),n.photo=ut(t,"PhotoURL","photoUrl","photo_url","photo"),n.student=ut(t,"Student","student"),n.validid=ut(t,"ValidID","Valid Id","valid_id"),n._raw=t,n}async function Gt(e){const t=await fetch(Dr,{method:"POST",body:new URLSearchParams(e)}),n=await jh(t,Dr+" [POST form]");if(n&&n.ok===!1)throw new Error(n.error||JSON.stringify(n));try{const r=e&&e.op;if(r==="insert"){const i=String(e.sheet||"").toLowerCase();if(i==="members"){try{const o=JSON.parse(e.row||"{}");}catch{}try{const o=JSON.parse(e.row||"{}");Ue.emit("member:added",o)}catch{}}else if(i==="gymentries"){try{const o=JSON.parse(e.row||"{}");jd(o)}catch{Pt("sheet=GymEntries"),Pt("action=attendance")}try{const o=JSON.parse(e.row||"{}");Ue.emit("gymEntry:added",o)}catch{}}else Pt(`sheet=${i}`)}else if(r==="updatemember"||r==="upsertmember"){try{const i=JSON.parse(e.row||"{}");}catch{}try{const i=JSON.parse(e.row||"{}");Ue.emit("member:updated",i)}catch{}}else if(r==="quick_attendance_append"||r==="quick_gym_append"||r==="gymclockin"||r==="gymclockout"){try{if(r==="quick_attendance_append")Pt("action=attendance"),Pt("sheet=GymEntries"),Pt("sheet=Attendance");else{const i={};e.MemberID&&(i.MemberID=e.MemberID),e.Staff&&(i.Staff=e.Staff),e.TimeIn&&(i.TimeIn=e.TimeIn),e.Date&&(i.Date=e.Date),Object.keys(i).length?jd(i):(Pt("action=attendance"),Pt("sheet=GymEntries"))}}catch{Pt("action=attendance"),Pt("sheet=GymEntries")}try{const i={};e.MemberID&&(i.MemberID=e.MemberID),e.Staff&&(i.Staff=e.Staff),e.TimeIn&&(i.TimeIn=e.TimeIn),e.Date&&(i.Date=e.Date),Object.keys(i).length&&Ue.emit("gymEntry:added",i)}catch{}}else if(r==="addpayment"){Pt("action=payments"),Pt("action=dashboard");try{Ue.emit("payment:added",{request:e,response:n})}catch{}}}catch{}return n}async function tn(e){const t=Et(`sheet=${encodeURIComponent(e)}`);return pn(t,3e4)}async function ri(e,t){return Gt({op:"insert",sheet:e,row:JSON.stringify(t)})}async function Un(){return pn(Et("action=members"),3e4)}async function Nh(){return Un()}async function Vc(e){return ri("Members",e)}async function bh(e){return Vc(e)}async function Wc(e){return Gt({op:"updatemember",row:JSON.stringify(e)})}async function Ss({memberId:e,filename:t,mime:n,data:r}){return Gt({op:"uploadphoto",memberId:e,filename:t,mime:n,data:r})}async function y0(e){return new Promise((t,n)=>{const r=new FileReader;r.onerror=()=>n(new Error("Failed to read file")),r.onload=()=>{const i=String(r.result||""),o=i.indexOf(","),l=o>=0?i.slice(o+1):i;t(l)},r.readAsDataURL(e)})}async function Vs(e,t){if(e instanceof Blob){const n=e,r=n&&n.name||`photo-${Date.now()}.jpg`,i=n&&n.type||"image/jpeg",o=await y0(n);return Ss({memberId:t||"",filename:r,mime:i,data:o})}return Ss(e||{})}async function Hc(e){const t=await tn("Members"),r=((t==null?void 0:t.rows)||(t==null?void 0:t.data)||[]).find(i=>String(i.MemberID||i.memberid||i.id||"").trim()===String(e).trim())||null;return Bc(r)||null}async function kh(e){const t=await Yi(Et(`sheet=${encodeURIComponent("Members")}`)),n=(t==null?void 0:t.rows)||(t==null?void 0:t.data)||[];try{console.debug("[sheets] fetchMemberByIdFresh",{memberId:e,rowsCount:(n||[]).length})}catch{}const r=n.find(i=>String(i.MemberID||i.memberid||i.id||"").trim()===String(e).trim())||null;if(!r)try{const i=(n||[]).slice(0,30).map(o=>String(o.MemberID||o.memberid||o.id||"").trim());console.debug("[sheets] fetchMemberByIdFresh: no match found for",e,"sample ids=",i),n&&n.length&&console.debug("[sheets] fetchMemberByIdFresh: sample row[0]=",n[0])}catch{}if(!r)return null;try{const i=Bc(r);i&&(r._canonical=i)}catch{}return r}async function Jr(e){if(!e)throw new Error("memberId is required");const[t,n,r,i]=await Promise.all([tn("Members"),cr(),tn("GymEntries"),tn("ProgressTracker")]),o=S=>{const p={};try{Object.entries(S||{}).forEach(([v,C])=>{p[String(v||"").trim().toLowerCase().replace(/\s+/g,"_")]=C})}catch{}return p},l=String(e).trim(),u=(t==null?void 0:t.rows)||(t==null?void 0:t.data)||[];try{console.debug("[sheets] fetchMemberBundle",{memberId:l,memRows:u.length})}catch{}const a=u.find(S=>{try{const p=o(S);return String(p.memberid||p.member_id||p.id||"").trim()===l}catch{return!1}})||null;if(!a)try{const S=u.slice(0,20).map(p=>{try{return String(p.MemberID||p.memberid||p.id||"").trim()}catch{return""}});console.debug("[sheets] fetchMemberBundle: member not found for",l,"sampleIds=",S),u&&u.length&&console.debug("[sheets] fetchMemberBundle: sample row[0]=",u[0])}catch{}const c=a?Bc(a):null,d=((n==null?void 0:n.rows)||(n==null?void 0:n.data)||[]).filter(S=>{try{const p=o(S);return String(p.memberid||p.member_id||p.id||"").trim()===l}catch{return!1}}),f=((r==null?void 0:r.rows)||(r==null?void 0:r.data)||[]).filter(S=>{try{const p=o(S);return String(p.memberid||p.member_id||p.id||"").trim()===l}catch{return!1}}),g=((i==null?void 0:i.rows)||(i==null?void 0:i.data)||[]).filter(S=>{try{const p=o(S);return String(p.memberid||p.member_id||p.id||"").trim()===l}catch{return!1}});return a&&c&&(a._canonical=c),{member:a||null,payments:d,gymEntries:f,progress:g}}async function Gc(e,t=!1){const n=e?`action=attendance&date=${encodeURIComponent(e)}`:"action=attendance",i=await(async()=>t?Yi(Et(n)).catch(()=>({rows:[]})):pn(Et(n),5e3).catch(()=>({rows:[]})))(),o=(i==null?void 0:i.rows)||(i==null?void 0:i.data)||[];if(o&&o.length){const l=Nd(Array.isArray(i==null?void 0:i.rows)?i.rows:(i==null?void 0:i.data)||[]);return Array.isArray(i==null?void 0:i.rows)?{rows:l}:{data:l}}try{const l=t?await Yi(Et(`sheet=${encodeURIComponent(Cd)}`)).catch(()=>({rows:[]})):await pn(Et(`sheet=${encodeURIComponent(Cd)}`),5e3).catch(()=>({rows:[]})),u=(l==null?void 0:l.rows)||(l==null?void 0:l.data)||[];if(u&&u.length){const a=Nd(Array.isArray(l==null?void 0:l.rows)?l.rows:(l==null?void 0:l.data)||[]);return Array.isArray(l==null?void 0:l.rows)?{rows:a}:{data:a}}}catch{}return i}async function Qc(e){const t=typeof e=="string"?e:(e==null?void 0:e.staff)||(e==null?void 0:e.Staff)||"";if(!t)throw new Error("staff is required");try{return await Ji(t)}catch(n){return console.warn("attendanceQuickAppend failed, falling back to clockin",n),Gt({op:"clockin",staff:t})}}async function Kc(e){const t=typeof e=="string"?e:(e==null?void 0:e.staff)||(e==null?void 0:e.Staff)||"";if(!t)throw new Error("staff is required");try{return await Ji(t,{wantsOut:!0})}catch(n){return console.warn("attendanceQuickAppend failed, falling back to clockout",n),Gt({op:"clockout",staff:t})}}async function Eh(e){const t=e&&e.TimeOut,n=(e==null?void 0:e.Staff)||(e==null?void 0:e.staff)||"";return t?Kc(n):Qc(n)}async function Ji(e,t={}){if(!e)throw new Error("staff is required");return Gt({op:"quick_attendance_append",Staff:e,...t})}async function Zr(){return pn(Et("sheet=GymEntries"),3e4)}async function Go(){return Yi(Et("sheet=GymEntries"))}async function _h(e){return ri("GymEntries",e)}async function Mh(e,t={}){if(!e)throw new Error("memberId is required");return Gt({op:"gymclockin",MemberID:e,...t})}async function Ih(e){if(!e)throw new Error("memberId is required");const t=arguments&&arguments.length>1&&typeof arguments[1]=="object"?arguments[1]:{};return Gt({op:"gymclockout",MemberID:e,...t})}async function Th({memberId:e,coach:t,focus:n,timeOut:r,TimeIn:i,Date:o,rowNumber:l,Workouts:u,Comments:a}){if(!e)throw new Error("memberId is required");const c={op:"upsertgymentry",MemberID:e};return r&&(c.TimeOut=r),t&&(c.Coach=t),n&&(c.Focus=n),i&&(c.TimeIn=i),o&&(c.Date=o),l&&(c.rowNumber=l),u&&(c.Workouts=u),a&&(c.Comments=a),Gt(c)}async function ws(e,t={}){if(!e)throw new Error("memberId is required");return Gt({op:"quick_gym_append",MemberID:e,...t})}async function Yc(){return pn(Et("sheet=ProgressTracker"),3e4)}async function Jc(e){return ri("ProgressTracker",e)}async function gn(){return pn(Et("action=pricing"),3e4)}async function cr(){return pn(Et("action=payments"),3e4)}async function Zc(e){return Gt({op:"addpayment",...e})}async function Xc(){return pn(Et("action=dashboard"),1e4)}const v0={fetchSheet:tn,insertRow:ri,fetchMembers:Un,fetchMembersFresh:Nh,addMember:Vc,saveMember:bh,uploadPhoto:Ss,uploadMemberPhoto:Vs,fetchMemberById:Hc,fetchMemberBundle:Jr,updateMember:Wc,fetchAttendance:Gc,clockIn:Qc,clockOut:Kc,upsertAttendance:Eh,fetchGymEntries:Zr,addGymEntry:_h,gymQuickAppend:ws,fetchProgressTracker:Yc,addProgressRow:Jc,fetchPricing:gn,fetchPayments:cr,addPayment:Zc,fetchDashboard:Xc};function bd(e){const n=String(e||"").trim().match(/^(\d{1,2}):(\d{2})\s*([AP]M)?$/i);if(!n)return 1/0;let r=parseInt(n[1],10),i=parseInt(n[2],10);const o=(n[3]||"").toUpperCase();return o==="PM"&&r!==12&&(r+=12),o==="AM"&&r===12&&(r=0),r*60+i}function S0(e=[]){const t=e.filter(r=>{const i=String((r==null?void 0:r.TimeOut)??"").trim();return i===""||i==="-"||i===""});if(!t.length)return null;t.sort((r,i)=>bd((r==null?void 0:r.TimeIn)||(r==null?void 0:r.SignIn)||(r==null?void 0:r.timeIn))-bd((i==null?void 0:i.TimeIn)||(i==null?void 0:i.SignIn)||(i==null?void 0:i.timeIn)));const n=t[0];return(n==null?void 0:n.Staff)||(n==null?void 0:n.staff)||(n==null?void 0:n.StaffName)||null}const Ta=Object.freeze(Object.defineProperty({__proto__:null,addGymEntry:_h,addMember:Vc,addPayment:Zc,addProgressRow:Jc,attendanceQuickAppend:Ji,clockIn:Qc,clockOut:Kc,default:v0,derivePrimaryFromAttendance:S0,fetchAttendance:Gc,fetchDashboard:Xc,fetchGymEntries:Zr,fetchGymEntriesFresh:Go,fetchMemberBundle:Jr,fetchMemberById:Hc,fetchMemberByIdFresh:kh,fetchMembers:Un,fetchMembersFresh:Nh,fetchPayments:cr,fetchPricing:gn,fetchProgressTracker:Yc,fetchSheet:tn,gymClockIn:Mh,gymClockOut:Ih,gymQuickAppend:ws,insertRow:ri,saveMember:bh,updateMember:Wc,uploadMemberPhoto:Vs,uploadPhoto:Ss,upsertAttendance:Eh,upsertGymEntry:Th,useSheetData:g0},Symbol.toStringTag,{value:"Module"})),kd=w.createContext(!1);function pr({open:e,onClose:t,title:n,children:r,width:i=760,maxHeight:o="90vh",noWrapper:l=!1,noInternalScroll:u=!1}){if(!e)return null;const a=w.useContext(kd),d={width:"min(1000px, 96vw)",background:"#fff",borderRadius:14,padding:16,border:"1px solid var(--light-border)",boxShadow:"0 20px 60px rgba(0,0,0,.2)",maxHeight:o,overflowY:"auto",overflowX:"hidden",boxSizing:"border-box"};return a&&!l?s.jsx("div",{style:d,children:r}):s.jsx(kd.Provider,{value:!0,children:s.jsx("div",{onClick:f=>{f.target===f.currentTarget&&t&&t()},style:{position:"fixed",inset:0,background:"rgba(0,0,0,.45)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:9999},children:l?(()=>{const f={width:`min(${i}px, 96vw)`,background:"#fff",borderRadius:14,padding:16,border:"1px solid var(--light-border)",boxShadow:"0 20px 60px rgba(0,0,0,.2)",maxHeight:"98vh",overflow:"visible",boxSizing:"border-box"};return s.jsxs("div",{style:f,onClick:g=>g.stopPropagation(),children:[s.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",marginBottom:8},children:[n?s.jsx("div",{style:{fontWeight:800,fontSize:18},children:n}):s.jsx("div",{}),s.jsx("button",{type:"button",className:"button",onClick:t,style:{background:"#eee",color:"#333"},children:""})]}),r]})})():u?(()=>{const f={...d,maxHeight:"98vh",overflowY:"visible"};return s.jsxs("div",{style:f,onClick:g=>g.stopPropagation(),children:[s.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",marginBottom:10},children:[n?s.jsx("div",{style:{fontWeight:800,fontSize:18},children:n}):s.jsx("div",{}),s.jsx("button",{type:"button",className:"button",onClick:t,style:{background:"#eee",color:"#333"},children:""})]}),r]})})():s.jsxs("div",{style:d,onClick:f=>f.stopPropagation(),children:[s.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",marginBottom:10},children:[n?s.jsx("div",{style:{fontWeight:800,fontSize:18},children:n}):s.jsx("div",{}),s.jsx("button",{type:"button",className:"button",onClick:t,style:{background:"#eee",color:"#333"},children:""})]}),r]})})})}const Ws="Asia/Manila",hi=()=>new Intl.DateTimeFormat("en-CA",{timeZone:Ws,year:"numeric",month:"2-digit",day:"2-digit"}).format(new Date),yr=e=>{if(!e)return"";const t=e instanceof Date?e:new Date(e);return isNaN(t)?"":new Intl.DateTimeFormat("en-CA",{timeZone:Ws,year:"numeric",month:"2-digit",day:"2-digit"}).format(t)},Eo=e=>{var l,u,a;if(!e)return"-";let t;if(typeof e=="string"&&/^\d{4}-\d{2}-\d{2}$/.test(e)){const[c,d,f]=e.split("-").map(Number);t=new Date(Date.UTC(c,d-1,f))}else t=e instanceof Date?e:new Date(e);if(isNaN(t))return"-";const n=new Intl.DateTimeFormat("en-US",{timeZone:Ws,month:"short",day:"numeric",year:"numeric"}).formatToParts(t),r=((l=n.find(c=>c.type==="month"))==null?void 0:l.value)||"",i=((u=n.find(c=>c.type==="day"))==null?void 0:u.value)||"",o=((a=n.find(c=>c.type==="year"))==null?void 0:a.value)||"";return`${r}-${i}, ${o}`},pi=(e,t)=>{if(!e||!t)return"";const[n,r,i]=e.split("-").map(Number),o=new Date(Date.UTC(n,r-1,i));return o.setUTCDate(o.getUTCDate()+Math.max(0,Number(t)-1)),new Intl.DateTimeFormat("en-CA",{timeZone:"UTC",year:"numeric",month:"2-digit",day:"2-digit"}).format(o)},vr=(e,t)=>{if(!e)return"";const[n,r,i]=e.split("-").map(Number),o=new Date(Date.UTC(n,r-1,i));return o.setUTCDate(o.getUTCDate()+Number(t)),new Intl.DateTimeFormat("en-CA",{timeZone:"UTC",year:"numeric",month:"2-digit",day:"2-digit"}).format(o)};function w0({open:e,onClose:t,memberId:n,onSaved:r,membershipEnd:i,coachEnd:o,isStudent:l,birthDate:u}){const[a,c]=w.useState([]),[d,f]=w.useState(!1),[g,S]=w.useState(""),[p,v]=w.useState({Particulars:"",StartDate:hi(),EndDate:"",Mode:"",Cost:""});w.useEffect(()=>{e&&(S(""),v({Particulars:"",StartDate:hi(),EndDate:"",Mode:"",Cost:""}),(async()=>{try{const _=await gn();c((_==null?void 0:_.rows)||(_==null?void 0:_.data)||_||[])}catch(_){S(_.message||"Failed to load pricing")}})())},[e]);const C=w.useMemo(()=>{if(!u)return!1;const _=u instanceof Date?u:new Date(u);if(isNaN(_))return!1;const M=new Date;let z=M.getFullYear()-_.getFullYear();const A=M.getMonth()-_.getMonth();return(A<0||A===0&&M.getDate()<_.getDate())&&z--,z>=60},[u]),m=w.useMemo(()=>{var z;const _=new Intl.DateTimeFormat("en-US",{timeZone:Ws,hour12:!1,hour:"2-digit",minute:"2-digit"}).formatToParts(new Date);return Number(((z=_.find(A=>A.type==="hour"))==null?void 0:z.value)||"0")<15},[]),h=w.useMemo(()=>{const _=!!(l||C);return(a||[]).filter(M=>{const z=String(M.Particulars||""),A=/(student|senior|discount|disc)/i.test(z);return!(/off\s*-?\s*peak/i.test(z)&&!m||A&&!_)})},[a,l,C,m]);w.useEffect(()=>{if(!p.Particulars)return;h.some(M=>String(M.Particulars)===String(p.Particulars))||v(M=>({...M,Particulars:"",Cost:"",EndDate:""}))},[h]);const y=_=>{const M=String(_??"").trim().toLowerCase();return M==="yes"||M==="y"||M==="true"||M==="1"},j=_=>{if(!_)return{gym:!1,coach:!1};const M=Object.entries(_||{}),z=H=>{for(const[te,k]of M){const L=te.toLowerCase().replace(/\s+/g,"");if(H.some(x=>L===x.toLowerCase().replace(/\s+/g,"")))return k}},A=y(z(["Gym membership","Gym Membership","GymMembership","Membership"])),U=y(z(["Coach subscription","Coach Subscription","CoachSubscription","Coach"]));return{gym:A,coach:U}},E=_=>{const M=(h||[]).find(b=>String(b.Particulars)===String(_)),z=M?(parseFloat(M.Cost)||0).toFixed(2):"",A=M?Number(M.Validity||0):0,U=j(M),H=hi(),te=i?yr(i):"",k=o?yr(o):"",L=U.gym?te&&te>=H?vr(te,1):H:null,x=U.coach?k&&k>=H?vr(k,1):H:null;let T=H;U.gym&&U.coach?T=H:U.gym&&L?T=L:U.coach&&x?T=x:T=H,v(b=>{const N=T||b.StartDate||H;return{...b,Particulars:_,Cost:z,StartDate:N,EndDate:A?pi(N,A):""}})},D=async _=>{if(_.preventDefault(),!n)return S("Missing MemberID");if(!p.Particulars)return S("Select Particulars.");if(!p.Mode)return S("Select a payment mode.");if(!p.Cost)return S("Cost is missing for this item.");f(!0),S("");try{const M=(h||[]).find(b=>String(b.Particulars)===String(p.Particulars)),z=M?Number(M.Validity||0):0,A=j(M),U=hi(),H=i?yr(i):"",te=o?yr(o):"",k=A.gym?H&&H>=U?vr(H,1):p.StartDate||U:null,L=A.coach?te&&te>=U?vr(te,1):p.StartDate||U:null,x=k&&z?pi(k,z):"",T=L&&z?pi(L,z):"";await Zc({MemberID:n,Particulars:p.Particulars,StartDate:p.StartDate||"",EndDate:p.EndDate||"",GymValidUntil:x,CoachValidUntil:T,Mode:p.Mode,Cost:String(p.Cost).trim()}),r&&r(),t&&t()}catch(M){const z=(M==null?void 0:M.message)||"Failed to add payment";S(z);try{Ue.emit("modal:error",{message:z,source:"PaymentModal",error:String(M)})}catch{}}finally{f(!1)}};return e?s.jsx(pr,{open:e,onClose:t,title:"Add Payment",width:560,noInternalScroll:!0,children:s.jsxs("form",{onSubmit:D,style:{width:"100%"},children:[g&&s.jsx("div",{className:"small-error",style:{marginBottom:8},children:g}),s.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:10,marginBottom:10},children:[s.jsxs("div",{style:{background:"#f9fafb",border:"1px solid #e5e7eb",borderRadius:10,padding:10},children:[s.jsx("div",{style:{fontSize:12,color:"#6b7280",marginBottom:4},children:"Gym Membership - Valid until"}),s.jsx("div",{style:{fontWeight:700},children:i?Eo(i):"-"})]}),s.jsxs("div",{style:{background:"#f9fafb",border:"1px solid #e5e7eb",borderRadius:10,padding:10},children:[s.jsx("div",{style:{fontSize:12,color:"#6b7280",marginBottom:4},children:"Coach Subscription - Valid until"}),s.jsx("div",{style:{fontWeight:700},children:o?Eo(o):"-"})]})]}),s.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:12},children:[s.jsxs("label",{className:"field",style:{gridColumn:"1 / span 2"},children:[s.jsx("span",{className:"label",children:"Particulars"}),s.jsxs("select",{value:p.Particulars,onChange:_=>E(_.target.value),required:!0,children:[s.jsx("option",{value:"",children:"Choose product/service"}),h.map((_,M)=>s.jsx("option",{value:_.Particulars,children:_.Particulars},`${_.Particulars}-${M}`))]}),p.Particulars&&(()=>{const _=(h||[]).find(T=>String(T.Particulars)===String(p.Particulars)),M=j(_),z=_?Number(_.Validity||0):0;if(!z)return null;const A=hi(),U=i?yr(i):"",H=o?yr(o):"",te=M.gym?U&&U>=A?vr(U,1):p.StartDate||A:null,k=M.coach?H&&H>=A?vr(H,1):p.StartDate||A:null,L=te?pi(te,z):null,x=k?pi(k,z):null;return!L&&!x?null:s.jsxs("div",{style:{background:"#fde8ef",border:"1px solid #ffd7e3",color:"#8b1a3b",marginTop:8,padding:8,borderRadius:8,fontSize:13,lineHeight:1.35},children:[L&&s.jsxs("div",{children:["New Gym valid until: ",s.jsx("b",{children:Eo(L)})]}),x&&s.jsxs("div",{children:["New Coach valid until: ",s.jsx("b",{children:Eo(x)})]})]})})()]}),s.jsxs("label",{className:"field",children:[s.jsx("span",{className:"label",children:"Mode"}),s.jsxs("select",{value:p.Mode,onChange:_=>v(M=>({...M,Mode:_.target.value})),required:!0,children:[s.jsx("option",{value:"",children:"Select mode"}),s.jsx("option",{value:"Cash",children:"Cash"}),s.jsx("option",{value:"GCash",children:"GCash"})]})]}),s.jsxs("label",{className:"field",children:[s.jsx("span",{className:"label",children:"Cost"}),s.jsx("input",{type:"number",step:"0.01",min:"0",value:p.Cost,readOnly:!0,disabled:!0})]})]}),s.jsx("div",{style:{marginTop:8,color:"var(--muted)",fontSize:12},children:"Validity is applied inclusive of the Start Date."}),s.jsxs("div",{style:{marginTop:12,display:"flex",gap:10,justifyContent:"flex-end"},children:[s.jsx("button",{type:"button",className:"back-btn",onClick:t,style:{background:"#e5e7eb",color:"#111",fontWeight:700},children:"Cancel"}),s.jsx("button",{type:"submit",className:"primary-btn",disabled:d,children:"+ Add Payment"})]})]})}):null}function Ph({open:e,onClose:t,onCapture:n}){const r=w.useRef(null),i=w.useRef(null),o=w.useRef(!1),[l,u]=w.useState([]),[a,c]=w.useState(""),[d,f]=w.useState(""),[g,S]=w.useState(!1),p=()=>{i.current&&(i.current.getTracks().forEach(h=>h.stop()),i.current=null)},v=async(h="")=>{if(!o.current){o.current=!0,S(!0),f(""),p();try{const y=h?{video:{deviceId:{exact:h},width:{ideal:1280},height:{ideal:720}},audio:!1}:{video:{facingMode:{ideal:"environment"},width:{ideal:1280},height:{ideal:720}},audio:!1};let j;try{j=await navigator.mediaDevices.getUserMedia(y)}catch(E){try{const D=h?{video:{deviceId:{ideal:h}},audio:!1}:{video:!0,audio:!1};j=await navigator.mediaDevices.getUserMedia(D)}catch(D){const _=D||E,M=_&&_.name?String(_.name):"";f(M==="NotAllowedError"?"Camera permission denied. Please allow camera access in the browser site settings and macOS Privacy > Camera.":M==="NotReadableError"?"Camera is busy or not readable. Close other apps using the camera (e.g., Zoom/Meet/FaceTime) and try again.":M==="OverconstrainedError"||M==="ConstraintNotSatisfiedError"?"Selected camera doesn't meet constraints. Try choosing a different camera.":M==="NotFoundError"?"No camera found. Plug in a camera or check system permissions.":"Cannot access camera. Check site permissions and OS privacy settings.");return}}if(i.current=j,r.current){r.current.srcObject=j;try{await r.current.play()}catch{}}try{await C()}catch{}}catch{f("Cannot access camera. Check site permissions and OS privacy settings.")}finally{o.current=!1,S(!1)}}},C=async()=>{try{const y=(await navigator.mediaDevices.enumerateDevices()).filter(j=>j.kind==="videoinput");u(y),!a&&y[0]&&c(y[0].deviceId)}catch{}};w.useEffect(()=>{var h,y;if(!e){p();return}return(async()=>(f(""),await v(a||"")))(),(y=(h=navigator.mediaDevices)==null?void 0:h.addEventListener)==null||y.call(h,"devicechange",C),()=>{var j,E;(E=(j=navigator.mediaDevices)==null?void 0:j.removeEventListener)==null||E.call(j,"devicechange",C),p()}},[e]),w.useEffect(()=>{var h,y,j,E;if(!(!e||!a)){try{const D=((E=(j=(y=(h=i.current)==null?void 0:h.getVideoTracks)==null?void 0:y.call(h)[0])==null?void 0:j.getSettings)==null?void 0:E.call(j).deviceId)||"";if(D&&D===a)return}catch{}v(a)}},[a]);const m=()=>{if(!r.current)return;const h=r.current,y=document.createElement("canvas"),j=h.videoWidth||1280,E=h.videoHeight||720;y.width=j,y.height=E,y.getContext("2d").drawImage(h,0,0,j,E);const _=y.toDataURL("image/jpeg",.9);n==null||n(_),t==null||t()};return e?s.jsxs(pr,{open:e,onClose:t,width:720,noWrapper:!0,children:[s.jsxs("div",{style:{display:"flex",gap:8,alignItems:"center",marginBottom:8},children:[s.jsx("label",{style:{fontWeight:600,fontSize:14},children:"Camera:"}),s.jsxs("select",{value:a,onChange:h=>c(h.target.value),style:{flex:1,padding:"8px 10px",borderRadius:8,border:"1px solid #e7e8ef"},children:[l.length===0&&s.jsx("option",{value:"",children:"(No camera found)"}),l.map(h=>s.jsx("option",{value:h.deviceId,children:h.label||"Camera"},h.deviceId))]})]}),!d&&!i.current&&s.jsx("div",{style:{color:"#666",marginBottom:8},children:"Initializing camera please allow the browser prompt."}),d?s.jsx("div",{style:{color:"#d33",marginBottom:12},children:d}):s.jsx("video",{ref:r,playsInline:!0,muted:!0,style:{width:"100%",borderRadius:10,background:"#000"}}),s.jsx("div",{style:{display:"flex",gap:10,marginTop:12,justifyContent:"flex-end"},children:s.jsx("button",{className:"button btn-lg",onClick:m,disabled:!!d||!i.current,children:"Capture"})})]}):null}const x0=["Isabel","Merida","Palompon","Ormoc","Matag-ob"],C0={Isabel:["Anislag","Antipolo","Apale","Bantigue","Binog","Bilwang","Can-andan","Cangag","Consolacion","Honan","Libertad","Mahayag","Marvel (Poblacion)","Matlang","Monte Alegre","Puting Bato","San Francisco","San Roque","Santa Cruz Relocation","Santo Nio (Poblacion)","Santo Rosario","Tabunok","Tolingon","Tubod"],Merida:["Benabaye","Cabaliwan","Calunangan","Calunasan","Cambalong","Can-unzo","Canbantug","Casilda","Lamanoc","Libas","Libjo","Lundag","Macario","Mahalit","Mahayag","Masumbang","Mat-e","Poblacion","Puerto Bello","San Isidro","San Jose","Tubod"],Palompon:["Baguinbin","Belen","Buenavista","Caduhaan","Cambakbak","Cambinoy","Cangcosme","Cangmuya","Canipaan","Cantandoy","Cantuhaon","Catigahan","Central 1 (Poblacion)","Central 2 (Poblacion)","Cruz","Duljugan","Guiwan 1 (Poblacion)","Guiwan 2 (Poblacion)","Himarco","Hinablayan (Poblacion)","Hinagbuan","Lat-osan","Liberty","Lomonon","Mabini","Magsaysay","Masaba","Mazawalo (Poblacion)","Parilla","Pinagdait (Poblacion Ypil I)","Pinaghi-usa (Poblacion Ypil II)","Plaridel","Rizal","Sabang","San Guillermo","San Isidro","San Joaquin","San Juan","San Miguel","San Pablo","San Pedro","San Roque","Santiago","Taberna","Tabunok","Tambis","Tinabilan","Tinago","Tinubdan","Bitaog (Poblacion Ypil III)"],Ormoc:["Airport","Alegria","Alta Vista","Bagongbong","Bagong Buhay","Bantigue","Batuan","Bayog","Biliboy","Borok","Cabaon-an","Cabintan","Cabulihan","Cagbuhangin","Camp Downes","Can-adieng","Can-untog","Catmon","Cogon Combado","Concepcion","Curva","Danhug","Dayhagan","Dolores","Domonar","Don Felipe Larrazabal","Don Potenciano Larrazabal","Doa Feliza Z. Mejia","Donghol","Esperanza","Gaas","Green Valley","Guintigui-an","Hibunawon","Hugpa","Ipil","Juaton","Kadaohan","Labrador (Balion)","Lao","Leondoni","Libertad","Liberty","Licuma","Liloan","Linao","Luna","Mabato","Mabini","Macabug","Magaswi","Mahayag","Mahayahay","Manlilinao","Margen","Mas-in","Matica-a","Milagro","Monterico","Nasunogan","Naungan","Nueva Sociedad","Nueva Vista","Patag","Punta","Quezon Jr.","Rufina M. Tan (Rawis)","Sabang Bao","Salvacion","San Antonio","San Isidro","San Jose","San Juan","San Pablo (Simangan)","San Vicente","Santo Nio","Sumangga","Tambulilid","Tongonan","Valencia","East (Poblacion)","West (Poblacion)","North (Poblacion)","South (Poblacion)"],"Matag-ob":["Balagtas","Bonoy","Bulak","Cambadbad","Candelaria","Cansoso","Imelda","Malazarte","Mansaha-on","Mansalip","Masaba","Naulayan","Riverside (Poblacion)","San Dionesio","San Guillermo (Poblacion)","San Marcelino","San Sebastian","San Vicente","Santa Rosa","Santo Rosario","Talisay (Poblacion)"]};function j0(e){return C0[e]||[]}const N0=e=>{const t={};return Object.entries(e||{}).forEach(([n,r])=>t[String(n).toLowerCase()]=r),t},Ne=(e,...t)=>{if(!e)return"";for(const n of t){if(e[n]!==void 0&&e[n]!==null&&e[n]!=="")return e[n];const r=String(n).toLowerCase(),i=N0(e);if(i[r]!==void 0&&i[r]!=="")return i[r];const o=r.replace(/\s+/g,"");if(i[o]!==void 0&&i[o]!=="")return i[o];const l=r.replace(/\s+/g,"_");if(i[l]!==void 0&&i[l]!=="")return i[l]}return""};function b0(e,t=`photo-${Date.now()}.jpg`){const n=e.split(","),r=n[0].match(/:(.*?);/)[1]||"image/jpeg",i=atob(n[1]);let o=i.length;const l=new Uint8Array(o);for(;o--;)l[o]=i.charCodeAt(o);return new File([l],t,{type:r})}function k0({open:e,onClose:t,member:n,onSaved:r}){const[i,o]=w.useState({lastName:"",firstName:"",middleName:"",nickName:"",gender:"",birthday:"",street:"",brgy:"",municipality:"",email:"",mobile:"",validId:"",student:!1}),[l,u]=w.useState(""),[a,c]=w.useState(""),[d,f]=w.useState(""),[g,S]=w.useState(null),p=w.useRef(null),[v,C]=w.useState(!1),[m,h]=w.useState(""),[y,j]=w.useState(!1),[E,D]=w.useState(""),_=w.useRef(!1),M=j0(i.municipality),z=L=>{const T=String(L||"").match(/(?:\/file\/d\/|[?&]id=|\/uc\?[^#]*id=)([^/&?#]+)/);return T&&T[1]?T[1]:""},A=L=>{const x=String(L||"");if(!x)return"";const T=x.match(/https?:\/\/[^\s}]+/);if(T){const N=T[0];if(/googleusercontent\.com\//.test(N))return N;const I=N.match(/(?:\/file\/d\/|[?&]id=|\/uc\?[^#]*id=)([^/&?#]+)/);return I&&I[1]?`https://drive.google.com/uc?export=view&id=${I[1]}`:N}if(/googleusercontent\.com\//.test(x))return x;const b=z(x);return b?`https://drive.google.com/uc?export=view&id=${b}`:x},U=L=>{const x=String(L||"");if(/googleusercontent\.com\//.test(x))return x;const T=z(x);return T?`https://drive.google.com/thumbnail?id=${T}&sz=w1000`:x};w.useEffect(()=>{let L=!1;if(!e){_.current=!1;return}if(_.current)return;const x=n||{},T=String(Ne(x,"MemberID","memberId","member_id","id")||"").trim();return u(T),(async()=>{try{if(T){const b=await Hc(String(T).trim());if(!L&&b){const N=Ne(b,"LastName","lastName","last_name","Last"),I=Ne(b,"FirstName","firstName","first_name","First"),P=Ne(b,"MiddleName","middleName","middle_name"),O=Ne(b,"NickName","nickname","nick_name","Nick Name"),R=Ne(b,"Gender","gender"),F=Ne(b,"Birthday","birth_date","dob","Birth Date"),W=Ne(b,"Street","street"),re=Ne(b,"Brgy","Barangay","brgy","barangay"),le=Ne(b,"Municipality","City","municipality","city"),de=Ne(b,"Email","email"),ye=Ne(b,"Mobile","Phone","mobile","phone"),ne=Ne(b,"ValidID","Valid Id","Valid ID","validId","valid_id"),fe=String(Ne(b,"Student","student")||"").toLowerCase().startsWith("y"),ce=Ne(b,"PhotoURL","photoUrl","photo_url","photo"),Y=ce?U(A(ce)):"";c(ce||""),f(Y),S(null),h("");const B=String(re||"");o({lastName:String(N||""),firstName:String(I||""),middleName:String(P||""),nickName:String(O||""),gender:String(R||""),birthday:F?new Date(F).toISOString().slice(0,10):"",street:String(W||""),brgy:B,municipality:String(le||""),email:String(de||""),mobile:String(ye||""),validId:String(ne||""),student:fe}),_.current=!0;return}}}catch{}if(!L){const b=Ne(x,"LastName","lastName","last_name","Last"),N=Ne(x,"FirstName","firstName","first_name","First"),I=Ne(x,"MiddleName","middleName","middle_name"),P=Ne(x,"NickName","nickname","nick_name","Nick Name"),O=Ne(x,"Gender","gender"),R=Ne(x,"Birthday","birth_date","dob","Birth Date"),F=Ne(x,"Street","street"),W=Ne(x,"Brgy","Barangay","brgy","barangay"),re=Ne(x,"Municipality","City","municipality","city"),le=Ne(x,"Email","email"),de=Ne(x,"Mobile","Phone","mobile","phone"),ye=Ne(x,"ValidID","Valid Id","Valid ID","validId","valid_id"),ne=String(Ne(x,"Student","student")||"").toLowerCase().startsWith("y"),fe=Ne(x,"PhotoURL","photoUrl","photo_url","photo"),ce=fe?U(A(fe)):"";c(fe||""),f(ce),S(null),h("");const Y=String(W||"");o({lastName:String(b||""),firstName:String(N||""),middleName:String(I||""),nickName:String(P||""),gender:String(O||""),birthday:R?new Date(R).toISOString().slice(0,10):"",street:String(F||""),brgy:Y,municipality:String(re||""),email:String(le||""),mobile:String(de||""),validId:String(ye||""),student:ne}),_.current=!0}})(),()=>{L=!0}},[e,n]);const H=L=>{const{name:x,value:T,type:b,checked:N}=L.target;if(x==="student-select"){o(I=>({...I,student:String(T)==="Yes"}));return}if(x==="municipality"){o(I=>({...I,municipality:T,brgy:""}));return}o(I=>({...I,[x]:b==="checkbox"?N:T}))},te=L=>{try{const x=b0(L);p.current&&(URL.revokeObjectURL(p.current),p.current=null);const T=URL.createObjectURL(x);p.current=T,S(x),f(T)}catch{}};w.useEffect(()=>()=>{p.current&&(URL.revokeObjectURL(p.current),p.current=null)},[]);const k=async L=>{var T;if((T=L==null?void 0:L.preventDefault)==null||T.call(L),!l){h("Missing MemberID");return}const x={MemberID:l,LastName:i.lastName.trim(),FirstName:i.firstName.trim(),MiddleName:i.middleName.trim(),NickName:String(i.nickName||"").trim().toUpperCase(),Gender:i.gender,Birthday:i.birthday||"",Street:i.street.trim(),Brgy:i.brgy.trim(),Municipality:i.municipality.trim(),Email:i.email.trim(),Mobile:i.mobile.trim(),ValidID:i.validId.trim(),Student:i.student?"Yes":"No",PhotoURL:d||a||""};try{console.debug("[EditMemberModal] optimisticPayload",x)}catch{}C(!0),h("");try{let b=a||"";if(g){const P=await Vs(g,String(l).toLowerCase());try{console.debug("[EditMemberModal] uploadMemberPhoto result",P)}catch{}b=typeof P=="string"?P:(P==null?void 0:P.url)||b}const N={...x,PhotoURL:b};let I=null;try{try{console.debug("[EditMemberModal] sending update payload",N)}catch{}const P=await Wc(N);try{console.debug("[EditMemberModal] updateMember response",P)}catch{}P&&typeof P=="object"&&(P.row&&typeof P.row=="object"?I=P.row:P.updated&&typeof P.updated=="object"?I=P.updated:P.data&&typeof P.data=="object"?I=P.data:["MemberID","memberid","LastName","FirstName"].some(R=>Object.prototype.hasOwnProperty.call(P,R))&&(I=P));try{console.debug("[EditMemberModal] authoritative after response",I)}catch{}}catch(P){try{console.debug("[EditMemberModal] updateMember error",String(P))}catch{}h(String(P)||"Failed to update member"),Ue.emit("modal:error",{message:"Failed to update member",source:"EditMemberModal",error:String(P)})}if(!I)try{try{console.debug("[EditMemberModal] fetching fresh member by id",String(l).trim())}catch{}const P=await kh(String(l).trim());try{console.debug("[EditMemberModal] fetchMemberByIdFresh result",P)}catch{}P&&(I=P)}catch(P){try{console.debug("[EditMemberModal] fetchMemberByIdFresh failed",String(P))}catch{}}I||(I=N);try{console.debug("[EditMemberModal] final authoritative row passed to parent",I)}catch{}try{r==null||r(I)}catch{}try{t==null||t()}catch{}}catch(b){Ue.emit("modal:error",{message:"Background member update failed",source:"EditMemberModal",error:String(b)}),h(String(b)||"Background member update failed")}finally{C(!1)}};return e?s.jsx(pr,{open:e,onClose:t,title:i.nickName||"Edit Member",width:1e3,noInternalScroll:!0,children:s.jsxs("form",{onSubmit:k,style:{width:"100%",padding:0,background:"transparent",border:"none",boxShadow:"none",overflow:"visible"},children:[m&&s.jsx("div",{className:"small-error",style:{marginBottom:8},children:m}),E&&s.jsx("div",{style:{position:"fixed",top:20,right:20,background:"#16a34a",color:"#fff",padding:"8px 12px",borderRadius:10,boxShadow:"0 6px 16px rgba(0,0,0,.15)",zIndex:1e4},children:E}),s.jsxs("div",{style:{display:"grid",gridTemplateColumns:"240px 1fr",gap:16},children:[s.jsxs("div",{children:[s.jsx("div",{style:{width:240,height:240,border:"1px solid var(--light-border)",borderRadius:12,background:"#fafbff",overflow:"hidden",display:"flex",alignItems:"center",justifyContent:"center"},children:d?s.jsx("img",{src:d,alt:"preview",style:{width:"100%",height:"100%",objectFit:"cover"}}):s.jsx("div",{style:{color:"var(--muted)"},children:"No photo"})}),s.jsx("div",{style:{display:"flex",gap:8,marginTop:10},children:s.jsx("button",{type:"button",className:"button",onClick:()=>j(!0),disabled:v,style:{flex:"1 1 auto"},children:" Change Photo"})})]}),s.jsxs("div",{style:{display:"grid",gap:12},children:[s.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 160px",gap:12,alignItems:"end"},children:[s.jsxs("label",{className:"field",style:{margin:0},children:[s.jsx("span",{className:"label",children:"Valid ID *"}),s.jsx("input",{name:"validId",value:i.validId,onChange:H,required:!0})]}),s.jsxs("label",{className:"field",style:{margin:0},children:[s.jsx("span",{className:"label",children:"Student"}),s.jsxs("select",{name:"student-select",value:i.student?"Yes":"No",onChange:H,children:[s.jsx("option",{children:"Yes"}),s.jsx("option",{children:"No"})]})]})]}),s.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr 1fr",gap:12},children:[s.jsxs("label",{className:"field",children:[s.jsx("span",{className:"label",children:"Last Name *"}),s.jsx("input",{name:"lastName",value:i.lastName,onChange:H,required:!0})]}),s.jsxs("label",{className:"field",children:[s.jsx("span",{className:"label",children:"First Name *"}),s.jsx("input",{name:"firstName",value:i.firstName,onChange:H,required:!0})]}),s.jsxs("label",{className:"field",children:[s.jsx("span",{className:"label",children:"Middle Name"}),s.jsx("input",{name:"middleName",value:i.middleName,onChange:H})]})]}),s.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:12},children:[s.jsxs("label",{className:"field",children:[s.jsx("span",{className:"label",children:"Birthday *"}),s.jsx("input",{type:"date",name:"birthday",value:i.birthday,onChange:H,required:!0})]}),s.jsxs("label",{className:"field",children:[s.jsx("span",{className:"label",children:"Gender *"}),s.jsxs("select",{name:"gender",value:i.gender,onChange:H,required:!0,children:[s.jsx("option",{value:"",children:" Select "}),s.jsx("option",{children:"Male"}),s.jsx("option",{children:"Female"})]})]})]}),s.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:12},children:[s.jsxs("label",{className:"field",children:[s.jsx("span",{className:"label",children:"Mobile No. *"}),s.jsx("input",{name:"mobile",value:i.mobile,onChange:H,placeholder:"09XXXXXXXXX",required:!0})]}),s.jsxs("label",{className:"field",children:[s.jsx("span",{className:"label",children:"Email Address"}),s.jsx("input",{name:"email",value:i.email,onChange:H,placeholder:"name@example.com"})]})]}),s.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr 2fr",gap:12},children:[s.jsxs("label",{className:"field",children:[s.jsx("span",{className:"label",children:"Municipality / City"}),s.jsxs("select",{name:"municipality",value:i.municipality,onChange:H,children:[s.jsx("option",{value:""}),x0.map(L=>s.jsx("option",{value:L,children:L},L))]})]}),s.jsxs("label",{className:"field",children:[s.jsx("span",{className:"label",children:"Brgy."}),s.jsxs("select",{name:"brgy",value:i.brgy,onChange:H,disabled:!i.municipality,children:[s.jsx("option",{value:""}),M.map(L=>s.jsx("option",{value:L,children:L},L))]})]}),s.jsxs("label",{className:"field",children:[s.jsx("span",{className:"label",children:"House No. / Street Name / Sitio"}),s.jsx("input",{name:"street",value:i.street,onChange:H})]})]})]})]}),s.jsxs("div",{style:{marginTop:12,display:"flex",gap:10,justifyContent:"flex-end"},children:[s.jsx("button",{type:"button",className:"back-btn",onClick:t,style:{background:"#e5e7eb",color:"#111",fontWeight:700},children:"Cancel"}),s.jsx("button",{type:"submit",className:"primary-btn",disabled:v,children:" Save Changes"})]}),s.jsx(Ph,{open:y,onClose:()=>j(!1),onCapture:te})]})}):null}var E0=Object.defineProperty,xs=Object.getOwnPropertySymbols,Dh=Object.prototype.hasOwnProperty,Lh=Object.prototype.propertyIsEnumerable,Ed=(e,t,n)=>t in e?E0(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Pa=(e,t)=>{for(var n in t||(t={}))Dh.call(t,n)&&Ed(e,n,t[n]);if(xs)for(var n of xs(t))Lh.call(t,n)&&Ed(e,n,t[n]);return e},Da=(e,t)=>{var n={};for(var r in e)Dh.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&xs)for(var r of xs(e))t.indexOf(r)<0&&Lh.call(e,r)&&(n[r]=e[r]);return n};/**
 * @license QR Code generator library (TypeScript)
 * Copyright (c) Project Nayuki.
 * SPDX-License-Identifier: MIT
 */var ur;(e=>{const t=class pe{constructor(a,c,d,f){if(this.version=a,this.errorCorrectionLevel=c,this.modules=[],this.isFunction=[],a<pe.MIN_VERSION||a>pe.MAX_VERSION)throw new RangeError("Version value out of range");if(f<-1||f>7)throw new RangeError("Mask value out of range");this.size=a*4+17;let g=[];for(let p=0;p<this.size;p++)g.push(!1);for(let p=0;p<this.size;p++)this.modules.push(g.slice()),this.isFunction.push(g.slice());this.drawFunctionPatterns();const S=this.addEccAndInterleave(d);if(this.drawCodewords(S),f==-1){let p=1e9;for(let v=0;v<8;v++){this.applyMask(v),this.drawFormatBits(v);const C=this.getPenaltyScore();C<p&&(f=v,p=C),this.applyMask(v)}}i(0<=f&&f<=7),this.mask=f,this.applyMask(f),this.drawFormatBits(f),this.isFunction=[]}static encodeText(a,c){const d=e.QrSegment.makeSegments(a);return pe.encodeSegments(d,c)}static encodeBinary(a,c){const d=e.QrSegment.makeBytes(a);return pe.encodeSegments([d],c)}static encodeSegments(a,c,d=1,f=40,g=-1,S=!0){if(!(pe.MIN_VERSION<=d&&d<=f&&f<=pe.MAX_VERSION)||g<-1||g>7)throw new RangeError("Invalid value");let p,v;for(p=d;;p++){const y=pe.getNumDataCodewords(p,c)*8,j=l.getTotalBits(a,p);if(j<=y){v=j;break}if(p>=f)throw new RangeError("Data too long")}for(const y of[pe.Ecc.MEDIUM,pe.Ecc.QUARTILE,pe.Ecc.HIGH])S&&v<=pe.getNumDataCodewords(p,y)*8&&(c=y);let C=[];for(const y of a){n(y.mode.modeBits,4,C),n(y.numChars,y.mode.numCharCountBits(p),C);for(const j of y.getData())C.push(j)}i(C.length==v);const m=pe.getNumDataCodewords(p,c)*8;i(C.length<=m),n(0,Math.min(4,m-C.length),C),n(0,(8-C.length%8)%8,C),i(C.length%8==0);for(let y=236;C.length<m;y^=253)n(y,8,C);let h=[];for(;h.length*8<C.length;)h.push(0);return C.forEach((y,j)=>h[j>>>3]|=y<<7-(j&7)),new pe(p,c,h,g)}getModule(a,c){return 0<=a&&a<this.size&&0<=c&&c<this.size&&this.modules[c][a]}getModules(){return this.modules}drawFunctionPatterns(){for(let d=0;d<this.size;d++)this.setFunctionModule(6,d,d%2==0),this.setFunctionModule(d,6,d%2==0);this.drawFinderPattern(3,3),this.drawFinderPattern(this.size-4,3),this.drawFinderPattern(3,this.size-4);const a=this.getAlignmentPatternPositions(),c=a.length;for(let d=0;d<c;d++)for(let f=0;f<c;f++)d==0&&f==0||d==0&&f==c-1||d==c-1&&f==0||this.drawAlignmentPattern(a[d],a[f]);this.drawFormatBits(0),this.drawVersion()}drawFormatBits(a){const c=this.errorCorrectionLevel.formatBits<<3|a;let d=c;for(let g=0;g<10;g++)d=d<<1^(d>>>9)*1335;const f=(c<<10|d)^21522;i(f>>>15==0);for(let g=0;g<=5;g++)this.setFunctionModule(8,g,r(f,g));this.setFunctionModule(8,7,r(f,6)),this.setFunctionModule(8,8,r(f,7)),this.setFunctionModule(7,8,r(f,8));for(let g=9;g<15;g++)this.setFunctionModule(14-g,8,r(f,g));for(let g=0;g<8;g++)this.setFunctionModule(this.size-1-g,8,r(f,g));for(let g=8;g<15;g++)this.setFunctionModule(8,this.size-15+g,r(f,g));this.setFunctionModule(8,this.size-8,!0)}drawVersion(){if(this.version<7)return;let a=this.version;for(let d=0;d<12;d++)a=a<<1^(a>>>11)*7973;const c=this.version<<12|a;i(c>>>18==0);for(let d=0;d<18;d++){const f=r(c,d),g=this.size-11+d%3,S=Math.floor(d/3);this.setFunctionModule(g,S,f),this.setFunctionModule(S,g,f)}}drawFinderPattern(a,c){for(let d=-4;d<=4;d++)for(let f=-4;f<=4;f++){const g=Math.max(Math.abs(f),Math.abs(d)),S=a+f,p=c+d;0<=S&&S<this.size&&0<=p&&p<this.size&&this.setFunctionModule(S,p,g!=2&&g!=4)}}drawAlignmentPattern(a,c){for(let d=-2;d<=2;d++)for(let f=-2;f<=2;f++)this.setFunctionModule(a+f,c+d,Math.max(Math.abs(f),Math.abs(d))!=1)}setFunctionModule(a,c,d){this.modules[c][a]=d,this.isFunction[c][a]=!0}addEccAndInterleave(a){const c=this.version,d=this.errorCorrectionLevel;if(a.length!=pe.getNumDataCodewords(c,d))throw new RangeError("Invalid argument");const f=pe.NUM_ERROR_CORRECTION_BLOCKS[d.ordinal][c],g=pe.ECC_CODEWORDS_PER_BLOCK[d.ordinal][c],S=Math.floor(pe.getNumRawDataModules(c)/8),p=f-S%f,v=Math.floor(S/f);let C=[];const m=pe.reedSolomonComputeDivisor(g);for(let y=0,j=0;y<f;y++){let E=a.slice(j,j+v-g+(y<p?0:1));j+=E.length;const D=pe.reedSolomonComputeRemainder(E,m);y<p&&E.push(0),C.push(E.concat(D))}let h=[];for(let y=0;y<C[0].length;y++)C.forEach((j,E)=>{(y!=v-g||E>=p)&&h.push(j[y])});return i(h.length==S),h}drawCodewords(a){if(a.length!=Math.floor(pe.getNumRawDataModules(this.version)/8))throw new RangeError("Invalid argument");let c=0;for(let d=this.size-1;d>=1;d-=2){d==6&&(d=5);for(let f=0;f<this.size;f++)for(let g=0;g<2;g++){const S=d-g,v=(d+1&2)==0?this.size-1-f:f;!this.isFunction[v][S]&&c<a.length*8&&(this.modules[v][S]=r(a[c>>>3],7-(c&7)),c++)}}i(c==a.length*8)}applyMask(a){if(a<0||a>7)throw new RangeError("Mask value out of range");for(let c=0;c<this.size;c++)for(let d=0;d<this.size;d++){let f;switch(a){case 0:f=(d+c)%2==0;break;case 1:f=c%2==0;break;case 2:f=d%3==0;break;case 3:f=(d+c)%3==0;break;case 4:f=(Math.floor(d/3)+Math.floor(c/2))%2==0;break;case 5:f=d*c%2+d*c%3==0;break;case 6:f=(d*c%2+d*c%3)%2==0;break;case 7:f=((d+c)%2+d*c%3)%2==0;break;default:throw new Error("Unreachable")}!this.isFunction[c][d]&&f&&(this.modules[c][d]=!this.modules[c][d])}}getPenaltyScore(){let a=0;for(let g=0;g<this.size;g++){let S=!1,p=0,v=[0,0,0,0,0,0,0];for(let C=0;C<this.size;C++)this.modules[g][C]==S?(p++,p==5?a+=pe.PENALTY_N1:p>5&&a++):(this.finderPenaltyAddHistory(p,v),S||(a+=this.finderPenaltyCountPatterns(v)*pe.PENALTY_N3),S=this.modules[g][C],p=1);a+=this.finderPenaltyTerminateAndCount(S,p,v)*pe.PENALTY_N3}for(let g=0;g<this.size;g++){let S=!1,p=0,v=[0,0,0,0,0,0,0];for(let C=0;C<this.size;C++)this.modules[C][g]==S?(p++,p==5?a+=pe.PENALTY_N1:p>5&&a++):(this.finderPenaltyAddHistory(p,v),S||(a+=this.finderPenaltyCountPatterns(v)*pe.PENALTY_N3),S=this.modules[C][g],p=1);a+=this.finderPenaltyTerminateAndCount(S,p,v)*pe.PENALTY_N3}for(let g=0;g<this.size-1;g++)for(let S=0;S<this.size-1;S++){const p=this.modules[g][S];p==this.modules[g][S+1]&&p==this.modules[g+1][S]&&p==this.modules[g+1][S+1]&&(a+=pe.PENALTY_N2)}let c=0;for(const g of this.modules)c=g.reduce((S,p)=>S+(p?1:0),c);const d=this.size*this.size,f=Math.ceil(Math.abs(c*20-d*10)/d)-1;return i(0<=f&&f<=9),a+=f*pe.PENALTY_N4,i(0<=a&&a<=2568888),a}getAlignmentPatternPositions(){if(this.version==1)return[];{const a=Math.floor(this.version/7)+2,c=this.version==32?26:Math.ceil((this.version*4+4)/(a*2-2))*2;let d=[6];for(let f=this.size-7;d.length<a;f-=c)d.splice(1,0,f);return d}}static getNumRawDataModules(a){if(a<pe.MIN_VERSION||a>pe.MAX_VERSION)throw new RangeError("Version number out of range");let c=(16*a+128)*a+64;if(a>=2){const d=Math.floor(a/7)+2;c-=(25*d-10)*d-55,a>=7&&(c-=36)}return i(208<=c&&c<=29648),c}static getNumDataCodewords(a,c){return Math.floor(pe.getNumRawDataModules(a)/8)-pe.ECC_CODEWORDS_PER_BLOCK[c.ordinal][a]*pe.NUM_ERROR_CORRECTION_BLOCKS[c.ordinal][a]}static reedSolomonComputeDivisor(a){if(a<1||a>255)throw new RangeError("Degree out of range");let c=[];for(let f=0;f<a-1;f++)c.push(0);c.push(1);let d=1;for(let f=0;f<a;f++){for(let g=0;g<c.length;g++)c[g]=pe.reedSolomonMultiply(c[g],d),g+1<c.length&&(c[g]^=c[g+1]);d=pe.reedSolomonMultiply(d,2)}return c}static reedSolomonComputeRemainder(a,c){let d=c.map(f=>0);for(const f of a){const g=f^d.shift();d.push(0),c.forEach((S,p)=>d[p]^=pe.reedSolomonMultiply(S,g))}return d}static reedSolomonMultiply(a,c){if(a>>>8||c>>>8)throw new RangeError("Byte out of range");let d=0;for(let f=7;f>=0;f--)d=d<<1^(d>>>7)*285,d^=(c>>>f&1)*a;return i(d>>>8==0),d}finderPenaltyCountPatterns(a){const c=a[1];i(c<=this.size*3);const d=c>0&&a[2]==c&&a[3]==c*3&&a[4]==c&&a[5]==c;return(d&&a[0]>=c*4&&a[6]>=c?1:0)+(d&&a[6]>=c*4&&a[0]>=c?1:0)}finderPenaltyTerminateAndCount(a,c,d){return a&&(this.finderPenaltyAddHistory(c,d),c=0),c+=this.size,this.finderPenaltyAddHistory(c,d),this.finderPenaltyCountPatterns(d)}finderPenaltyAddHistory(a,c){c[0]==0&&(a+=this.size),c.pop(),c.unshift(a)}};t.MIN_VERSION=1,t.MAX_VERSION=40,t.PENALTY_N1=3,t.PENALTY_N2=3,t.PENALTY_N3=40,t.PENALTY_N4=10,t.ECC_CODEWORDS_PER_BLOCK=[[-1,7,10,15,20,26,18,20,24,30,18,20,24,26,30,22,24,28,30,28,28,28,28,30,30,26,28,30,30,30,30,30,30,30,30,30,30,30,30,30,30],[-1,10,16,26,18,24,16,18,22,22,26,30,22,22,24,24,28,28,26,26,26,26,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28],[-1,13,22,18,26,18,24,18,22,20,24,28,26,24,20,30,24,28,28,26,30,28,30,30,30,30,28,30,30,30,30,30,30,30,30,30,30,30,30,30,30],[-1,17,28,22,16,22,28,26,26,24,28,24,28,22,24,24,30,28,28,26,28,30,24,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30]],t.NUM_ERROR_CORRECTION_BLOCKS=[[-1,1,1,1,1,1,2,2,2,2,4,4,4,4,4,6,6,6,6,7,8,8,9,9,10,12,12,12,13,14,15,16,17,18,19,19,20,21,22,24,25],[-1,1,1,1,2,2,4,4,4,5,5,5,8,9,9,10,10,11,13,14,16,17,17,18,20,21,23,25,26,28,29,31,33,35,37,38,40,43,45,47,49],[-1,1,1,2,2,4,4,6,6,8,8,8,10,12,16,12,17,16,18,21,20,23,23,25,27,29,34,34,35,38,40,43,45,48,51,53,56,59,62,65,68],[-1,1,1,2,4,4,4,5,6,8,8,11,11,16,16,18,16,19,21,25,25,25,34,30,32,35,37,40,42,45,48,51,54,57,60,63,66,70,74,77,81]],e.QrCode=t;function n(u,a,c){if(a<0||a>31||u>>>a)throw new RangeError("Value out of range");for(let d=a-1;d>=0;d--)c.push(u>>>d&1)}function r(u,a){return(u>>>a&1)!=0}function i(u){if(!u)throw new Error("Assertion error")}const o=class He{constructor(a,c,d){if(this.mode=a,this.numChars=c,this.bitData=d,c<0)throw new RangeError("Invalid argument");this.bitData=d.slice()}static makeBytes(a){let c=[];for(const d of a)n(d,8,c);return new He(He.Mode.BYTE,a.length,c)}static makeNumeric(a){if(!He.isNumeric(a))throw new RangeError("String contains non-numeric characters");let c=[];for(let d=0;d<a.length;){const f=Math.min(a.length-d,3);n(parseInt(a.substring(d,d+f),10),f*3+1,c),d+=f}return new He(He.Mode.NUMERIC,a.length,c)}static makeAlphanumeric(a){if(!He.isAlphanumeric(a))throw new RangeError("String contains unencodable characters in alphanumeric mode");let c=[],d;for(d=0;d+2<=a.length;d+=2){let f=He.ALPHANUMERIC_CHARSET.indexOf(a.charAt(d))*45;f+=He.ALPHANUMERIC_CHARSET.indexOf(a.charAt(d+1)),n(f,11,c)}return d<a.length&&n(He.ALPHANUMERIC_CHARSET.indexOf(a.charAt(d)),6,c),new He(He.Mode.ALPHANUMERIC,a.length,c)}static makeSegments(a){return a==""?[]:He.isNumeric(a)?[He.makeNumeric(a)]:He.isAlphanumeric(a)?[He.makeAlphanumeric(a)]:[He.makeBytes(He.toUtf8ByteArray(a))]}static makeEci(a){let c=[];if(a<0)throw new RangeError("ECI assignment value out of range");if(a<128)n(a,8,c);else if(a<16384)n(2,2,c),n(a,14,c);else if(a<1e6)n(6,3,c),n(a,21,c);else throw new RangeError("ECI assignment value out of range");return new He(He.Mode.ECI,0,c)}static isNumeric(a){return He.NUMERIC_REGEX.test(a)}static isAlphanumeric(a){return He.ALPHANUMERIC_REGEX.test(a)}getData(){return this.bitData.slice()}static getTotalBits(a,c){let d=0;for(const f of a){const g=f.mode.numCharCountBits(c);if(f.numChars>=1<<g)return 1/0;d+=4+g+f.bitData.length}return d}static toUtf8ByteArray(a){a=encodeURI(a);let c=[];for(let d=0;d<a.length;d++)a.charAt(d)!="%"?c.push(a.charCodeAt(d)):(c.push(parseInt(a.substring(d+1,d+3),16)),d+=2);return c}};o.NUMERIC_REGEX=/^[0-9]*$/,o.ALPHANUMERIC_REGEX=/^[A-Z0-9 $%*+.\/:-]*$/,o.ALPHANUMERIC_CHARSET="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ $%*+-./:";let l=o;e.QrSegment=o})(ur||(ur={}));(e=>{(t=>{const n=class{constructor(i,o){this.ordinal=i,this.formatBits=o}};n.LOW=new n(0,1),n.MEDIUM=new n(1,0),n.QUARTILE=new n(2,3),n.HIGH=new n(3,2),t.Ecc=n})(e.QrCode||(e.QrCode={}))})(ur||(ur={}));(e=>{(t=>{const n=class{constructor(i,o){this.modeBits=i,this.numBitsCharCount=o}numCharCountBits(i){return this.numBitsCharCount[Math.floor((i+7)/17)]}};n.NUMERIC=new n(1,[10,12,14]),n.ALPHANUMERIC=new n(2,[9,11,13]),n.BYTE=new n(4,[8,16,16]),n.KANJI=new n(8,[8,10,12]),n.ECI=new n(7,[0,0,0]),t.Mode=n})(e.QrSegment||(e.QrSegment={}))})(ur||(ur={}));var Lr=ur;/**
 * @license qrcode.react
 * Copyright (c) Paul O'Shannessy
 * SPDX-License-Identifier: ISC
 */var _0={L:Lr.QrCode.Ecc.LOW,M:Lr.QrCode.Ecc.MEDIUM,Q:Lr.QrCode.Ecc.QUARTILE,H:Lr.QrCode.Ecc.HIGH},Rh=128,Oh="L",Ah="#FFFFFF",Fh="#000000",zh=!1,Uh=1,M0=4,I0=0,T0=.1;function $h(e,t=0){const n=[];return e.forEach(function(r,i){let o=null;r.forEach(function(l,u){if(!l&&o!==null){n.push(`M${o+t} ${i+t}h${u-o}v1H${o+t}z`),o=null;return}if(u===r.length-1){if(!l)return;o===null?n.push(`M${u+t},${i+t} h1v1H${u+t}z`):n.push(`M${o+t},${i+t} h${u+1-o}v1H${o+t}z`);return}l&&o===null&&(o=u)})}),n.join("")}function Bh(e,t){return e.slice().map((n,r)=>r<t.y||r>=t.y+t.h?n:n.map((i,o)=>o<t.x||o>=t.x+t.w?i:!1))}function P0(e,t,n,r){if(r==null)return null;const i=e.length+n*2,o=Math.floor(t*T0),l=i/t,u=(r.width||o)*l,a=(r.height||o)*l,c=r.x==null?e.length/2-u/2:r.x*l,d=r.y==null?e.length/2-a/2:r.y*l,f=r.opacity==null?1:r.opacity;let g=null;if(r.excavate){let p=Math.floor(c),v=Math.floor(d),C=Math.ceil(u+c-p),m=Math.ceil(a+d-v);g={x:p,y:v,w:C,h:m}}const S=r.crossOrigin;return{x:c,y:d,h:a,w:u,excavation:g,opacity:f,crossOrigin:S}}function D0(e,t){return t!=null?Math.max(Math.floor(t),0):e?M0:I0}function Vh({value:e,level:t,minVersion:n,includeMargin:r,marginSize:i,imageSettings:o,size:l,boostLevel:u}){let a=xe.useMemo(()=>{const p=(Array.isArray(e)?e:[e]).reduce((v,C)=>(v.push(...Lr.QrSegment.makeSegments(C)),v),[]);return Lr.QrCode.encodeSegments(p,_0[t],n,void 0,void 0,u)},[e,t,n,u]);const{cells:c,margin:d,numCells:f,calculatedImageSettings:g}=xe.useMemo(()=>{let S=a.getModules();const p=D0(r,i),v=S.length+p*2,C=P0(S,l,p,o);return{cells:S,margin:p,numCells:v,calculatedImageSettings:C}},[a,l,o,r,i]);return{qrcode:a,margin:d,cells:c,numCells:f,calculatedImageSettings:g}}var L0=function(){try{new Path2D().addPath(new Path2D)}catch{return!1}return!0}(),R0=xe.forwardRef(function(t,n){const r=t,{value:i,size:o=Rh,level:l=Oh,bgColor:u=Ah,fgColor:a=Fh,includeMargin:c=zh,minVersion:d=Uh,boostLevel:f,marginSize:g,imageSettings:S}=r,v=Da(r,["value","size","level","bgColor","fgColor","includeMargin","minVersion","boostLevel","marginSize","imageSettings"]),{style:C}=v,m=Da(v,["style"]),h=S==null?void 0:S.src,y=xe.useRef(null),j=xe.useRef(null),E=xe.useCallback(k=>{y.current=k,typeof n=="function"?n(k):n&&(n.current=k)},[n]),[D,_]=xe.useState(!1),{margin:M,cells:z,numCells:A,calculatedImageSettings:U}=Vh({value:i,level:l,minVersion:d,boostLevel:f,includeMargin:c,marginSize:g,imageSettings:S,size:o});xe.useEffect(()=>{if(y.current!=null){const k=y.current,L=k.getContext("2d");if(!L)return;let x=z;const T=j.current,b=U!=null&&T!==null&&T.complete&&T.naturalHeight!==0&&T.naturalWidth!==0;b&&U.excavation!=null&&(x=Bh(z,U.excavation));const N=window.devicePixelRatio||1;k.height=k.width=o*N;const I=o/A*N;L.scale(I,I),L.fillStyle=u,L.fillRect(0,0,A,A),L.fillStyle=a,L0?L.fill(new Path2D($h(x,M))):z.forEach(function(P,O){P.forEach(function(R,F){R&&L.fillRect(F+M,O+M,1,1)})}),U&&(L.globalAlpha=U.opacity),b&&L.drawImage(T,U.x+M,U.y+M,U.w,U.h)}}),xe.useEffect(()=>{_(!1)},[h]);const H=Pa({height:o,width:o},C);let te=null;return h!=null&&(te=xe.createElement("img",{src:h,key:h,style:{display:"none"},onLoad:()=>{_(!0)},ref:j,crossOrigin:U==null?void 0:U.crossOrigin})),xe.createElement(xe.Fragment,null,xe.createElement("canvas",Pa({style:H,height:o,width:o,ref:E,role:"img"},m)),te)});R0.displayName="QRCodeCanvas";var Wh=xe.forwardRef(function(t,n){const r=t,{value:i,size:o=Rh,level:l=Oh,bgColor:u=Ah,fgColor:a=Fh,includeMargin:c=zh,minVersion:d=Uh,boostLevel:f,title:g,marginSize:S,imageSettings:p}=r,v=Da(r,["value","size","level","bgColor","fgColor","includeMargin","minVersion","boostLevel","title","marginSize","imageSettings"]),{margin:C,cells:m,numCells:h,calculatedImageSettings:y}=Vh({value:i,level:l,minVersion:d,boostLevel:f,includeMargin:c,marginSize:S,imageSettings:p,size:o});let j=m,E=null;p!=null&&y!=null&&(y.excavation!=null&&(j=Bh(m,y.excavation)),E=xe.createElement("image",{href:p.src,height:y.h,width:y.w,x:y.x+C,y:y.y+C,preserveAspectRatio:"none",opacity:y.opacity,crossOrigin:y.crossOrigin}));const D=$h(j,C);return xe.createElement("svg",Pa({height:o,width:o,viewBox:`0 0 ${h} ${h}`,ref:n,role:"img"},v),!!g&&xe.createElement("title",null,g),xe.createElement("path",{fill:u,d:`M0,0 h${h}v${h}H0z`,shapeRendering:"crispEdges"}),xe.createElement("path",{fill:a,d:D,shapeRendering:"crispEdges"}),E)});Wh.displayName="QRCodeSVG";function O0({open:e,onClose:t,memberId:n="",nickname:r="",firstName:i="",lastName:o=""}){if(w.useEffect(()=>{if(!e)return;function a(c){c.key==="Escape"&&t&&t()}return window.addEventListener("keydown",a),()=>window.removeEventListener("keydown",a)},[e,t]),!e)return null;const l=r||i||o||"Member",u=String(n||l);return s.jsx("div",{onClick:a=>{a.target===a.currentTarget&&t&&t()},style:{position:"fixed",inset:0,background:"rgba(0,0,0,.45)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:9999},children:s.jsxs("div",{style:{width:"min(98vw, 820px)",boxSizing:"border-box",padding:20,background:"#fff",borderRadius:14,border:"1px solid var(--light-border)",boxShadow:"0 20px 60px rgba(0,0,0,.2)",overflow:"visible"},onClick:a=>a.stopPropagation(),children:[s.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",marginBottom:12},children:[s.jsx("div",{style:{fontWeight:800,fontSize:18}}),s.jsx("button",{type:"button",className:"button",onClick:t,style:{background:"#eee",color:"#333"},children:""})]}),s.jsx("div",{style:{display:"flex",justifyContent:"center"},children:s.jsx("div",{style:{width:520,maxWidth:"78vw",aspectRatio:"1 / 1",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center"},children:s.jsxs("div",{style:{width:"100%",height:"100%",borderRadius:10,border:"6px solid var(--kusgan-magenta, #c51c8a)",boxSizing:"border-box",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",position:"relative",background:"#fff"},children:[s.jsx("div",{style:{position:"absolute",top:10,left:"50%",transform:"translateX(-50%)",fontSize:16,color:"var(--kusgan-magenta, #c51c8a)",fontWeight:700},children:"kusgan"}),s.jsx("div",{style:{width:"72%",height:"72%",display:"flex",alignItems:"center",justifyContent:"center"},children:s.jsx(Wh,{value:u,size:Math.min(700,Math.floor(window.innerWidth*.7))})}),s.jsx("div",{style:{position:"absolute",bottom:10,left:"50%",transform:"translateX(-50%)",fontSize:16,color:"#333",fontWeight:600},children:l})]})})})]})})}const Hh="Asia/Manila",A0=()=>new Intl.DateTimeFormat("en-CA",{timeZone:Hh,year:"numeric",month:"2-digit",day:"2-digit"}).format(new Date),F0=e=>{var l,u,a;if(!e)return"-";let t;if(typeof e=="string"&&/^\d{4}-\d{2}-\d{2}$/.test(e)){const[c,d,f]=e.split("-").map(Number);t=new Date(Date.UTC(c,d-1,f))}else t=e instanceof Date?e:new Date(e);if(isNaN(t))return"-";const n=new Intl.DateTimeFormat("en-US",{timeZone:Hh,month:"short",day:"numeric",year:"numeric"}).formatToParts(t),r=((l=n.find(c=>c.type==="month"))==null?void 0:l.value)||"",i=((u=n.find(c=>c.type==="day"))==null?void 0:u.value)||"",o=((a=n.find(c=>c.type==="year"))==null?void 0:a.value)||"";return`${r}-${i}, ${o}`};function z0(e,t){if(!e||!t)return 1;const[n,r,i]=e.split("-").map(Number),[o,l,u]=t.split("-").map(Number),a=Date.UTC(n,r-1,i),c=Date.UTC(o,l-1,u),d=Math.floor((c-a)/864e5);return Math.max(1,d+1)}function U0(e,t=`photo-${Date.now()}.jpg`){var n;try{const r=e.split(","),i=((n=r[0].match(/:(.*?);/))==null?void 0:n[1])||"image/jpeg",o=atob(r[1]);let l=o.length;const u=new Uint8Array(l);for(;l--;)u[l]=o.charCodeAt(l);return new File([u],t,{type:i})}catch{return null}}function $0({open:e,onClose:t,memberId:n,memberSinceYMD:r,onSaved:i}){const o=A0(),l=w.useMemo(()=>z0(r,o),[r,o]),[u,a]=w.useState(""),[c,d]=w.useState(""),[f,g]=w.useState(""),[S,p]=w.useState(""),[v,C]=w.useState(""),[m,h]=w.useState(""),[y,j]=w.useState(""),[E,D]=w.useState(""),[_,M]=w.useState(""),[z,A]=w.useState(""),[U,H]=w.useState(""),[te,k]=w.useState(""),[L,x]=w.useState(""),[T,b]=w.useState(""),[N,I]=w.useState(""),[P,O]=w.useState(""),[R,F]=w.useState([]),[W,re]=w.useState(!1),[le,de]=w.useState(-1),[ye,ne]=w.useState(""),fe=w.useMemo(()=>{const V=Number(u)||0,ae=(Number(c)||0)/100;return!V||!ae?0:Math.round(V/(ae*ae)*10)/10},[u,c]),ce=w.useMemo(()=>Math.round((Number(u)||0)*2.20462262185*10)/10,[u]),Y=w.useMemo(()=>Math.round((Number(c)||0)/2.54*10)/10,[c]);w.useEffect(()=>{e&&(a(""),d(""),g(""),p(""),C(""),h(""),j(""),D(""),M(""),A(""),H(""),k(""),x(""),b(""),I(""),O(""),F([]),de(-1))},[e]);const B=async V=>{try{const ae=U0(V,`progress-${Date.now()}.jpg`);if(!ae)return;const oe=String(n||"").toLowerCase(),G=await Vs(ae,oe),ke=typeof G=="string"?G:(G==null?void 0:G.url)||"";F(je=>{const Oe=Array.isArray(je)?[...je]:[];for(;Oe.length<3;)Oe.push("");const Ee=le>=0&&le<3?le:Oe.findIndex(Q=>!Q);return Ee===-1||(Oe[Ee]=ke),Oe})}catch(ae){const oe=(ae==null?void 0:ae.message)||"Failed to upload photo";ne(oe);try{Ue.emit("modal:error",{message:oe,source:"ProgressModal",error:String(ae)})}catch{}}finally{re(!1),de(-1)}},q=V=>{F(ae=>{const oe=Array.isArray(ae)?[...ae]:[];if(V<0||V>=3)return oe;if(oe.length<3)for(;oe.length<3;)oe.push("");return oe[V]="",oe})},ee=V=>{de(V),re(!0)},ue=async V=>{var oe;if((oe=V==null?void 0:V.preventDefault)==null||oe.call(V),!n)return;ne("");const ae={MemberID:n,Date:o,No:`Day ${l}`,"Weight (lbs)":ce?String(ce):"","Weight(lbs)":ce?String(ce):"",Weight:ce?String(ce):"",Weight_lbs:ce?String(ce):"",BMI:fe?String(fe):"",MuscleMass:f?String(f):"",BodyFat:S?String(S):"",VisceralFat:v?String(v):"",Photo1URL:R[0]||"",Photo2URL:R[1]||"",Photo3URL:R[2]||"","Height (inches)":Y?String(Y):"","Height(inches)":Y?String(Y):"",Height_in:Y?String(Y):"",Chest:m?String(m):"",Waist:y?String(y):"",Hips:E?String(E):"",Shoulders:_?String(_):"",Arms:z?String(z):"",Forearms:U?String(U):"",Thighs:te?String(te):"",Calves:L?String(L):"",BloodPressure:T,"RestingHeart Rate":N,Comments:P};try{await Jc(ae),i==null||i(),t==null||t()}catch(G){const ke=(G==null?void 0:G.message)||"Failed to save progress entry";ne(ke);try{Ue.emit("modal:error",{message:ke,source:"ProgressModal",error:String(G)})}catch{}}};return e?s.jsxs(pr,{open:e,onClose:t,title:"Progress Entry",width:900,noInternalScroll:!0,children:[ye&&s.jsx("div",{className:"small-error",style:{marginBottom:8},children:ye}),s.jsxs("form",{onSubmit:ue,style:{width:"100%",padding:0,background:"transparent",border:"none",boxShadow:"none",overflow:"visible"},children:[s.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr 1fr",gap:12,marginBottom:12},children:[s.jsxs("div",{style:{background:"#f9fafb",border:"1px solid #e5e7eb",borderRadius:10,padding:10},children:[s.jsx("div",{style:{fontSize:12,color:"#6b7280",marginBottom:4},children:"Member ID"}),s.jsx("div",{style:{fontWeight:700},children:n})]}),s.jsxs("div",{style:{background:"#f9fafb",border:"1px solid #e5e7eb",borderRadius:10,padding:10},children:[s.jsx("div",{style:{fontSize:12,color:"#6b7280",marginBottom:4},children:"Date"}),s.jsx("div",{style:{fontWeight:700},children:F0(o)})]}),s.jsxs("div",{style:{background:"#f9fafb",border:"1px solid #e5e7eb",borderRadius:10,padding:10},children:[s.jsx("div",{style:{fontSize:12,color:"#6b7280",marginBottom:4},children:"No."}),s.jsx("div",{style:{fontWeight:700},children:`Day ${l}`})]})]}),s.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(3, 1fr)",gap:12},children:[s.jsxs("label",{className:"field",children:[s.jsx("span",{className:"label",children:"Weight (kg)"}),s.jsx("input",{type:"number",step:"0.1",min:"0",value:u,onChange:V=>a(V.target.value)})]}),s.jsxs("label",{className:"field",children:[s.jsx("span",{className:"label",children:"Height (cm)"}),s.jsx("input",{type:"number",step:"0.1",min:"0",value:c,onChange:V=>d(V.target.value)})]}),s.jsxs("div",{className:"field",children:[s.jsx("span",{className:"label",children:"BMI"}),s.jsx("div",{style:{background:"#f9fafb",border:"1px solid #e5e7eb",borderRadius:10,padding:10,fontWeight:700},children:fe||"-"})]}),s.jsxs("label",{className:"field",children:[s.jsx("span",{className:"label",children:"Muscle Mass"}),s.jsx("input",{type:"number",step:"0.1",min:"0",value:f,onChange:V=>g(V.target.value)})]}),s.jsxs("label",{className:"field",children:[s.jsx("span",{className:"label",children:"Body Fat (%)"}),s.jsx("input",{type:"number",step:"0.1",min:"0",value:S,onChange:V=>p(V.target.value)})]}),s.jsxs("label",{className:"field",children:[s.jsx("span",{className:"label",children:"Visceral Fat"}),s.jsx("input",{type:"number",step:"0.1",min:"0",value:v,onChange:V=>C(V.target.value)})]}),s.jsxs("label",{className:"field",children:[s.jsx("span",{className:"label",children:"Chest (cm)"}),s.jsx("input",{type:"number",step:"0.1",min:"0",value:m,onChange:V=>h(V.target.value)})]}),s.jsxs("label",{className:"field",children:[s.jsx("span",{className:"label",children:"Waist (cm)"}),s.jsx("input",{type:"number",step:"0.1",min:"0",value:y,onChange:V=>j(V.target.value)})]}),s.jsxs("label",{className:"field",children:[s.jsx("span",{className:"label",children:"Hips (cm)"}),s.jsx("input",{type:"number",step:"0.1",min:"0",value:E,onChange:V=>D(V.target.value)})]}),s.jsxs("label",{className:"field",children:[s.jsx("span",{className:"label",children:"Shoulders (cm)"}),s.jsx("input",{type:"number",step:"0.1",min:"0",value:_,onChange:V=>M(V.target.value)})]}),s.jsxs("label",{className:"field",children:[s.jsx("span",{className:"label",children:"Arms (cm)"}),s.jsx("input",{type:"number",step:"0.1",min:"0",value:z,onChange:V=>A(V.target.value)})]}),s.jsxs("label",{className:"field",children:[s.jsx("span",{className:"label",children:"Forearms (cm)"}),s.jsx("input",{type:"number",step:"0.1",min:"0",value:U,onChange:V=>H(V.target.value)})]}),s.jsxs("label",{className:"field",children:[s.jsx("span",{className:"label",children:"Thighs (cm)"}),s.jsx("input",{type:"number",step:"0.1",min:"0",value:te,onChange:V=>k(V.target.value)})]}),s.jsxs("label",{className:"field",children:[s.jsx("span",{className:"label",children:"Calves (cm)"}),s.jsx("input",{type:"number",step:"0.1",min:"0",value:L,onChange:V=>x(V.target.value)})]}),s.jsxs("label",{className:"field",children:[s.jsx("span",{className:"label",children:"Blood Pressure"}),s.jsx("input",{placeholder:"120/80",value:T,onChange:V=>b(V.target.value)})]}),s.jsxs("label",{className:"field",children:[s.jsx("span",{className:"label",children:"Resting Heart Rate"}),s.jsx("input",{type:"number",step:"1",min:"0",value:N,onChange:V=>I(V.target.value)})]}),s.jsx("div",{})]}),s.jsxs("div",{style:{marginTop:12},children:[s.jsx("div",{className:"label",style:{marginBottom:6},children:"Photos (max 3)"}),s.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(3, 1fr)",gap:12},children:[0,1,2].map(V=>{const ae=R[V]||"";return s.jsxs("div",{style:{position:"relative"},children:[s.jsx("div",{onClick:()=>ee(V),style:{position:"relative",width:"100%",height:0,paddingTop:"133.333%",borderRadius:8,border:ae?"1px solid #e5e7eb":"1px dashed #e5e7eb",cursor:"pointer",overflow:"hidden",background:ae?"#fff":"#fafafa"},children:ae?s.jsx("img",{src:ae,alt:`Photo ${V+1}`,style:{position:"absolute",inset:0,width:"100%",height:"100%",objectFit:"cover"}}):s.jsx("div",{style:{position:"absolute",inset:0,display:"flex",alignItems:"center",justifyContent:"center",color:"#999"},children:"Click to add"})}),ae&&s.jsx("button",{type:"button","aria-label":"Remove",onClick:()=>q(V),style:{position:"absolute",top:6,right:6,background:"rgba(0,0,0,.55)",color:"#fff",borderRadius:6,padding:"4px 6px",border:0},children:""})]},V)})})]}),s.jsxs("div",{className:"field",style:{marginTop:12},children:[s.jsx("span",{className:"label",children:"Comments"}),s.jsx("textarea",{rows:4,value:P,onChange:V=>O(V.target.value),style:{width:"100%",borderRadius:8,border:"1px solid #e5e7eb",padding:12,fontFamily:"inherit",resize:"vertical",fontSize:16}})]}),s.jsxs("div",{style:{marginTop:12,display:"flex",gap:10,justifyContent:"flex-end"},children:[s.jsx("button",{type:"button",className:"back-btn",onClick:t,style:{background:"#e5e7eb",color:"#111",fontWeight:700},children:"Cancel"}),s.jsx("button",{type:"submit",className:"primary-btn",children:" Save Progress"})]}),s.jsx(Ph,{open:W,onClose:()=>re(!1),onCapture:B})]})]}):null}const B0=(e="")=>{const t=String(e||"").match(/(?:\/file\/d\/|[?&]id=|\/uc\?[^#]*id=)([^\/&#?]+)/);return t&&t[1]?t[1]:""},V0=(e="")=>{const t=String(e||"");if(/googleusercontent\.com\//.test(t))return t;const n=B0(t);return n?`https://drive.google.com/thumbnail?id=${n}&sz=w1000`:t},Fe=(e,t=[])=>{if(!e)return"";for(const n of t){if(Object.prototype.hasOwnProperty.call(e,n))return e[n];const r=Object.keys(e).find(i=>i.toLowerCase().replace(/\s+/g,"")===n.toLowerCase().replace(/\s+/g,""));if(r)return e[r]}return""};function W0({open:e,onClose:t,row:n}){if(!e)return null;const r=n||{},i=Fe(r,["MemberID","memberid","member_id","id"]),o=Fe(r,["Date","date","recorded","log_date","timestamp"]),l=Fe(r,["No","no","entry_no","seq","number"]),u=Fe(r,["Weight (lbs)","Weight(lbs)","Weight","Weight_lbs","weight","weight_lbs","weight_(lbs)"]),a=Fe(r,["BMI","bmi"]),c=Fe(r,["Height (inches)","Height(inches)","Height_in","height_in","height_inches"]),d=Fe(r,["MuscleMass","muscle_mass","muscle","Muscle"]),f=Fe(r,["BodyFat","body_fat","bf"]),g=Fe(r,["VisceralFat","visceral_fat"]),S=Fe(r,["Chest"]),p=Fe(r,["Waist"]),v=Fe(r,["Hips"]),C=Fe(r,["Shoulders"]),m=Fe(r,["Arms"]),h=Fe(r,["Forearms"]),y=Fe(r,["Thighs"]),j=Fe(r,["Calves"]),E=Fe(r,["BloodPressure","blood_pressure"]),D=Fe(r,["RestingHeart Rate","RestingHeartRate","resting_heart_rate"]),_=Fe(r,["Comments","comments","notes"]),M=Fe(r,["Photo1URL","Photo1","photo1","photo_url","photo"]),z=Fe(r,["Photo2URL","Photo2","photo2"]),A=Fe(r,["Photo3URL","Photo3","photo3"]);return s.jsxs(pr,{open:e,onClose:t,title:"Progress Details",noWrapper:!0,children:[s.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr 1fr",gap:12,marginBottom:12},children:[s.jsxs("div",{style:{background:"#f9fafb",border:"1px solid #e5e7eb",borderRadius:10,padding:10},children:[s.jsx("span",{style:{fontSize:14,fontStyle:"italic",color:"var(--muted)",display:"block",marginBottom:4},children:"Member ID"}),s.jsx("div",{style:{fontWeight:700,fontSize:20},children:i||"-"})]}),s.jsxs("div",{style:{background:"#f9fafb",border:"1px solid #e5e7eb",borderRadius:10,padding:10},children:[s.jsx("span",{style:{fontSize:14,fontStyle:"italic",color:"var(--muted)",display:"block",marginBottom:4},children:"Date"}),s.jsx("div",{style:{fontWeight:700,fontSize:20},children:G0(o)||"-"})]}),s.jsxs("div",{style:{background:"#f9fafb",border:"1px solid #e5e7eb",borderRadius:10,padding:10},children:[s.jsx("span",{style:{fontSize:14,fontStyle:"italic",color:"var(--muted)",display:"block",marginBottom:4},children:"No."}),s.jsx("div",{style:{fontWeight:700,fontSize:20},children:l||"-"})]})]}),s.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(3, 1fr)",gap:12},children:[["Weight",u],["Height (in)",c],["BMI",a],["Muscle Mass",d],["Body Fat",f],["Visceral Fat",g],["Chest",S],["Waist",p],["Hips",v],["Shoulders",C],["Arms",m],["Forearms",h],["Thighs",y],["Calves",j],["Blood Pressure",E],["Resting Heart Rate",D]].map(([U,H])=>s.jsxs("div",{className:"field",children:[s.jsx("span",{className:"label",style:{display:"block",marginBottom:6},children:U}),s.jsx("div",{style:{background:"#f9fafb",border:"1px solid #e5e7eb",borderRadius:10,padding:10,fontWeight:700,fontSize:20},children:!H||String(H).trim()==="0"?"-":String(H)})]},U))}),s.jsxs("div",{className:"field",style:{marginTop:12},children:[s.jsx("span",{className:"label",children:"Comments"}),s.jsx("div",{style:{background:"#f9fafb",border:"1px solid #e5e7eb",borderRadius:10,padding:12,fontSize:16,minHeight:72},children:_?String(_):"-"})]}),s.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(3, 1fr)",gap:12,marginTop:12},children:[M,z,A].map((U,H)=>s.jsx("div",{style:{position:"relative"},children:s.jsx("div",{style:{position:"relative",width:"100%",height:0,paddingTop:"133.333%",borderRadius:8,border:U?"1px solid #e5e7eb":"1px dashed #e5e7eb",overflow:"hidden"},children:U?s.jsx("img",{src:V0(U),alt:`Photo ${H+1}`,style:{position:"absolute",inset:0,width:"100%",height:"100%",objectFit:"cover"}}):s.jsx("div",{style:{position:"absolute",inset:0,display:"flex",alignItems:"center",justifyContent:"center",color:"#999"},children:"No photo"})})},H))})]})}const H0="Asia/Manila";function G0(e){var l,u,a;if(!e)return"";let t;if(typeof e=="string")if(/^\d{4}-\d{2}-\d{2}$/.test(e)){const[c,d,f]=e.split("-").map(Number);t=new Date(Date.UTC(c,d-1,f))}else{const c=new Date(e);isNaN(c)||(t=c)}else e instanceof Date&&(t=e);if(!t||isNaN(t))return String(e);const n=new Intl.DateTimeFormat("en-US",{timeZone:H0,month:"short",day:"numeric",year:"numeric"}).formatToParts(t),r=((l=n.find(c=>c.type==="month"))==null?void 0:l.value)||"",i=((u=n.find(c=>c.type==="day"))==null?void 0:u.value)||"",o=((a=n.find(c=>c.type==="year"))==null?void 0:a.value)||"";return`${r}-${i}, ${o}`}function Gh({width:e="100%",height:t=200}){return s.jsxs("div",{style:{display:"flex",gap:12,alignItems:"flex-start"},children:[s.jsx("div",{style:{width:150,height:200,borderRadius:12,background:"#f3f4f6",boxShadow:"inset 0 0 0 1px rgba(0,0,0,0.02)"}}),s.jsxs("div",{style:{flex:1},children:[s.jsx("div",{style:{height:22,width:"60%",background:"#f3f4f6",borderRadius:6,marginBottom:8}}),s.jsx("div",{style:{height:18,width:"40%",background:"#f3f4f6",borderRadius:6,marginBottom:14}}),s.jsx("div",{style:{height:12,width:"80%",background:"#f3f4f6",borderRadius:6,marginBottom:6}}),s.jsx("div",{style:{height:12,width:"70%",background:"#f3f4f6",borderRadius:6,marginBottom:6}}),s.jsx("div",{style:{height:12,width:"50%",background:"#f3f4f6",borderRadius:6,marginTop:10}})]})]})}function Hs({text:e="Refreshing",show:t=!0}){return t?s.jsxs("span",{className:"refresh-badge",role:"status","aria-live":"polite",children:[s.jsx("span",{className:"refresh-spinner","aria-hidden":!0}),s.jsx("span",{style:{marginLeft:8},children:e})]}):null}const St=(e,t)=>t.map(n=>e[n]).find(n=>n!==void 0&&n!==""),_d=e=>{if(e instanceof Date)return e;const t=new Date(e);return isNaN(t)?null:t},Q0="Asia/Manila",_o=e=>{var l,u,a;if(!e)return"-";const t=e instanceof Date?e:new Date(e);if(isNaN(t))return"-";const n=new Intl.DateTimeFormat("en-US",{timeZone:Q0,month:"short",day:"numeric",year:"numeric"}).formatToParts(t),r=((l=n.find(c=>c.type==="month"))==null?void 0:l.value)||"",i=((u=n.find(c=>c.type==="day"))==null?void 0:u.value)||"",o=((a=n.find(c=>c.type==="year"))==null?void 0:a.value)||"";return`${r}-${i}, ${o}`},Kt=e=>e==null||String(e).trim()===""?"-":String(e),wi=e=>{const n=String(e||"").match(/(?:\/file\/d\/|[?&]id=|\/uc\?[^#]*id=)([^/&?#]+)/);return n&&n[1]?n[1]:""},K0=e=>{const t=String(e||"");if(!t)return"";const n=t.match(/https?:\/\/[^\s}]+/);if(n){const o=n[0];if(/googleusercontent\.com\//.test(o))return o;const l=o.match(/(?:\/file\/d\/|[?&]id=|\/uc\?[^#]*id=)([^\/&?#]+)/);return l&&l[1]?`https://drive.google.com/uc?export=view&id=${l[1]}`:o}if(/googleusercontent\.com\//.test(t))return t;const r=t.match(/\/file\/d\/([^/]+)/)||t.match(/[?&]id=([^&]+)/)||t.match(/\/uc\?[^#]*id=([^&]+)/),i=r?r[1]:"";return i?`https://drive.google.com/uc?export=view&id=${i}`:t},Md=e=>{const t=String(e||"");if(/googleusercontent\.com\//.test(t))return t;const n=wi(t);return n?`https://drive.google.com/thumbnail?id=${n}&sz=w1000`:t};function Y0({member:e,status:t={},isRefreshing:n=!1,onEdit:r=()=>{},onAddPayment:i=()=>{},onShowQr:o=()=>{},onShowProgress:l=()=>{},onCheckIn:u=()=>{}}){const[a,c]=w.useState(!1),d=St(e||{},["lastname","last_name"]),f=St(e||{},["firstname","first_name"]),g=St(e||{},["middlename","middle_name"]),S=St(e||{},["gender"]),p=St(e||{},["birthday","birth_date","dob"]),v=_d(p);St(e||{},["nick_name","nickname"]);const C=St(e||{},["street"]),m=St(e||{},["brgy","barangay"]),h=St(e||{},["municipality","city"]),y=St(e||{},["email"]),j=St(e||{},["mobile","phone"]),E=_d(St(e||{},["member_since","membersince","join_date"]));String(St(e||{},["memberid","member_id","id"])||"").trim();const D=St(e||{},["photourl","photo_url","photo"]),_=K0(D);Md(_),w.useEffect(()=>{c(!1)},[_]);const M=v?new Date().getFullYear()-v.getFullYear()-(new Date().getMonth()<v.getMonth()||new Date().getMonth()===v.getMonth()&&new Date().getDate()<v.getDate()?1:0):"-";return s.jsxs("div",{className:"member-card",style:{marginTop:12},children:[s.jsx("div",{className:"member-photo",children:s.jsx("div",{className:"photo-box",children:_&&!a?s.jsx("img",{src:Md(_),alt:"photo",onError:z=>{const A=z.currentTarget;if(!A.dataset.retry&&D){A.dataset.retry="1";const U=wi(D)||wi(_);U?A.src=`https://drive.google.com/uc?export=view&id=${U}`:A.style.display="none"}else if(A.dataset.retry==="1"){A.dataset.retry="2";const U=wi(D)||wi(_);U?A.src=`https://drive.google.com/uc?export=download&id=${U}`:c(!0)}else c(!0)}}):s.jsx("div",{style:{color:"var(--muted)",padding:16},children:"No photo"})})}),s.jsxs("div",{className:"member-info",children:[s.jsxs("div",{className:"member-grid",children:[s.jsxs("div",{className:"cell lastname",children:[s.jsx("div",{className:"label",children:"Last Name"}),s.jsx("div",{className:"value",children:Kt(d)})]}),s.jsxs("div",{className:"cell firstname",children:[s.jsx("div",{className:"label",children:"First Name"}),s.jsx("div",{className:"value",children:Kt(f)})]}),s.jsxs("div",{className:"cell middlename",children:[s.jsx("div",{className:"label",children:"Middle Name"}),s.jsx("div",{className:"value",children:Kt(g)})]}),s.jsxs("div",{className:"cell gender",children:[s.jsx("div",{className:"label",children:"Gender"}),s.jsx("div",{className:"value",children:Kt(S)})]}),s.jsxs("div",{className:"cell birthday",children:[s.jsx("div",{className:"label",children:"Birthday"}),s.jsx("div",{className:"value",children:_o(v)})]}),s.jsxs("div",{className:"cell age",children:[s.jsx("div",{className:"label",children:"Age"}),s.jsx("div",{className:"value",children:Kt(M)})]}),s.jsxs("div",{className:"cell street",children:[s.jsx("div",{className:"label",children:"House No. / Street Name / Sitio"}),s.jsx("div",{className:"value",children:Kt(C)})]}),s.jsxs("div",{className:"cell brgy",children:[s.jsx("div",{className:"label",children:"Brgy."}),s.jsx("div",{className:"value",children:Kt(m)})]}),s.jsxs("div",{className:"cell municipality",children:[s.jsx("div",{className:"label",children:"Municipality / City"}),s.jsx("div",{className:"value",children:Kt(h)})]}),s.jsxs("div",{className:"cell nickname",children:[s.jsx("div",{className:"label",children:"Member Since"}),s.jsx("div",{className:"value",children:_o(E)})]}),s.jsxs("div",{className:"cell mobile",children:[s.jsx("div",{className:"label",children:"Mobile"}),s.jsx("div",{className:"value",children:Kt(j)})]}),s.jsxs("div",{className:"cell email",children:[s.jsx("div",{className:"label",children:"Email"}),s.jsx("div",{className:"value",children:Kt(y)})]})]}),s.jsxs("div",{className:"status-tiles",children:[s.jsxs("div",{className:`status-tile ${t.membershipState==null?"none":t.membershipState}`,children:[s.jsx("div",{className:"title",children:"Gym Membership"}),s.jsxs("div",{style:{marginBottom:10},children:[t.membershipState==="active"&&s.jsx("span",{className:"pill ok",children:"Active"}),t.membershipState==="expired"&&s.jsx("span",{className:"pill bad",children:"Expired"}),(!t.membershipState||t.membershipState==="none")&&s.jsx("span",{className:"pill",style:{background:"#fff",color:"#555",borderColor:"#ddd"},children:"None"})]}),s.jsx("div",{className:"label",children:"Valid until"}),s.jsx("div",{className:"value",children:_o(t.membershipEnd)})]}),s.jsxs("div",{className:`status-tile ${t.coachEnd?t.coachActive?"active":"expired":"none"}`,children:[s.jsx("div",{className:"title",children:"Coach Subscription"}),s.jsxs("div",{style:{marginBottom:10},children:[t.coachActive&&s.jsx("span",{className:"pill ok",children:"Active"}),t.coachEnd&&!t.coachActive&&s.jsx("span",{className:"pill bad",children:"Expired"}),!t.coachEnd&&s.jsx("span",{className:"pill",style:{background:"#fff",color:"#555",borderColor:"#ddd"},children:"None"})]}),s.jsx("div",{className:"label",children:"Valid until"}),s.jsx("div",{className:"value",children:_o(t.coachEnd)})]})]}),s.jsxs("div",{className:"member-actions",children:[s.jsx("button",{className:"primary-btn",onClick:()=>r(),title:"Edit member details",children:" Edit"}),s.jsx("button",{className:"primary-btn",onClick:()=>i(),title:"Manage payments",children:" Add Payment"}),s.jsx("button",{className:"primary-btn",onClick:()=>o(),title:"Show QR code for this member",children:" QR Code"}),s.jsx("button",{className:"primary-btn",onClick:()=>l(),title:"Track or view progress",children:" Progress"})]})]})]})}const J0="modulepreload",Z0=function(e){return"/kusgan-frontend/"+e},Id={},Cs=function(t,n,r){let i=Promise.resolve();if(n&&n.length>0){document.getElementsByTagName("link");const l=document.querySelector("meta[property=csp-nonce]"),u=(l==null?void 0:l.nonce)||(l==null?void 0:l.getAttribute("nonce"));i=Promise.allSettled(n.map(a=>{if(a=Z0(a),a in Id)return;Id[a]=!0;const c=a.endsWith(".css"),d=c?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${a}"]${d}`))return;const f=document.createElement("link");if(f.rel=c?"stylesheet":J0,c||(f.as="script"),f.crossOrigin="",f.href=a,u&&f.setAttribute("nonce",u),document.head.appendChild(f),c)return new Promise((g,S)=>{f.addEventListener("load",g),f.addEventListener("error",()=>S(new Error(`Unable to preload CSS for ${a}`)))})}))}function o(l){const u=new Event("vite:preloadError",{cancelable:!0});if(u.payload=l,window.dispatchEvent(u),!u.defaultPrevented)throw l}return i.then(l=>{for(const u of l||[])u.status==="rejected"&&o(u.reason);return t().catch(o)})},wr="Asia/Manila",Cl=e=>{var l,u,a;if(!e)return"-";const t=e instanceof Date?e:new Date(e);if(isNaN(t))return"-";const n=new Intl.DateTimeFormat("en-US",{timeZone:wr,month:"short",day:"numeric",year:"numeric"}).formatToParts(t),r=((l=n.find(c=>c.type==="month"))==null?void 0:l.value)||"",i=((u=n.find(c=>c.type==="day"))==null?void 0:u.value)||"",o=((a=n.find(c=>c.type==="year"))==null?void 0:a.value)||"";return`${r}-${i}, ${o}`},Qh=e=>{const n=String(e||"").match(/(?:\/file\/d\/|[?&]id=|\/uc\?[^#]*id=)([^/&?#]+)/);return n&&n[1]?n[1]:""},X0=e=>{const t=String(e||"");if(!t)return"";const n=t.match(/https?:\/\/[^\s}]+/);if(n){const i=n[0];if(/googleusercontent\.com\//.test(i))return i;const o=i.match(/(?:\/file\/d\/|[?&]id=|\/uc\?[^#]*id=)([^/&?#]+)/);return o&&o[1]?`https://drive.google.com/uc?export=view&id=${o[1]}`:i}if(/googleusercontent\.com\//.test(t))return t;const r=Qh(t);return r?`https://drive.google.com/uc?export=view&id=${r}`:t},q0=e=>{const t=String(e||"");if(/googleusercontent\.com\//.test(t))return t;const n=Qh(t);return n?`https://drive.google.com/thumbnail?id=${n}&sz=w1000`:t},eS=(e,t,n)=>{const r=new Date;r.setHours(0,0,0,0);let i=null,o=null;const l=Array.isArray(n)?n:[],u=S=>{const p=String(S??"").trim().toLowerCase();return p==="yes"||p==="y"||p==="true"||p==="1"},a=(S,p)=>{for(const v of p){if(S&&Object.prototype.hasOwnProperty.call(S,v))return S[v];const C=Object.keys(S||{}).find(m=>m.toLowerCase().replace(/\s+/g,"")===v.toLowerCase().replace(/\s+/g,""));if(C)return S[C]}},c=new Map;l.forEach(S=>{const p=String(a(S,["Particulars"])||"").trim();if(!p)return;const v=u(a(S,["Gym membership","Gym Membership","GymMembership","Membership"])),C=u(a(S,["Coach subscription","Coach Subscription","CoachSubscription","Coach"]));c.set(p.toLowerCase(),{gym:v,coach:C})});const d=String(t||"").trim().toLowerCase();for(const S of e){const p=Object.fromEntries(Object.entries(S||{}).map(([_,M])=>[String(_||"").toLowerCase().replace(/\s+/g,""),M])),v=String(p.memberid||p.member_id||p.member_id_||p.id||"").trim().toLowerCase();if(!v||v!==d)continue;const C=String(p.particulars||p.type||p.item||p.category||p.product||p.paymentfor||p.plan||p.description||"").trim(),m=p.gymvaliduntil||p.gym_valid_until||p.gym_until,h=p.coachvaliduntil||p.coach_valid_until||p.coach_until,y=p.enddate||p.end_date||p.valid_until||p.expiry||p.expires||p.until||p.end,j=m?new Date(m):y?new Date(y):null,E=h?new Date(h):y?new Date(y):null,D=c.get(C.toLowerCase())||{gym:null,coach:null};j&&(D.gym===!0||D.gym===null&&/member|gym/.test(C))&&(i=!i||j>i?j:i),E&&(D.coach===!0||D.coach===null&&/coach|trainer|pt/.test(C))&&(o=!o||E>o?E:o)}let f=null;if(i){const S=new Date(i);S.setHours(0,0,0,0),f=S>=r?"active":"expired"}let g=!1;if(o){const S=new Date(o);S.setHours(0,0,0,0),g=S>=r}return{membershipEnd:i,membershipState:f,coachEnd:o,coachActive:g}};function Gs({open:e,onClose:t,memberId:n,initialEntry:r=null,onSuccess:i}){const[o,l]=w.useState(null),[u,a]=w.useState([]),[c,d]=w.useState(null),[f,g]=w.useState(!1),[S,p]=w.useState(""),[v,C]=w.useState(""),[m,h]=w.useState(""),[y,j]=w.useState(""),[E,D]=w.useState(!1),[_,M]=w.useState(!1),z=["Coach Elmer","Coach Jojo","None"],A=["Full body","Upper body","Lower body","Chest","Other"];w.useEffect(()=>{let k=!0;if(!(!e||!n))return(async()=>{g(!0);try{console.debug("[CheckInConfirmModal] loading bundle for",n);const[L,x]=await Promise.all([Jr(n),gn()]);if(!k)return;if(L&&!L.member)try{console.debug("[CheckInConfirmModal] bundle missing member, trying fetchMemberByIdFresh",n);const{fetchMemberByIdFresh:W}=await Cs(async()=>{const{fetchMemberByIdFresh:le}=await Promise.resolve().then(()=>Ta);return{fetchMemberByIdFresh:le}},void 0),re=await W(n);re&&(L.member=re)}catch(W){console.debug("[CheckInConfirmModal] fetchMemberByIdFresh fallback failed",W)}l(L);const T=(x==null?void 0:x.rows)||(x==null?void 0:x.data)||[];a(T);const b=eS((L==null?void 0:L.payments)||[],n,T);d(b);const N=new Intl.DateTimeFormat("en-CA",{timeZone:wr,year:"numeric",month:"2-digit",day:"2-digit"}).format(new Date),P=((L==null?void 0:L.gymEntries)||[]).filter(W=>{const re=(W==null?void 0:W.Date)||(W==null?void 0:W.date);if(!re)return!1;const le=new Date(re);return new Intl.DateTimeFormat("en-CA",{timeZone:wr,year:"numeric",month:"2-digit",day:"2-digit"}).format(le)===N}).find(W=>!String((W==null?void 0:W.TimeOut)||"").trim());let O=!1;if(r){const W=r.Date||r.date||"";if(W){const re=new Date(W);new Intl.DateTimeFormat("en-CA",{timeZone:wr,year:"numeric",month:"2-digit",day:"2-digit"}).format(re)===N&&!String(r.TimeOut||"").trim()&&(O=!0)}}const R=!!P||O;D(R);const F=O?r:P||null;if(R&&F){const W=F||{};p(String(W.Workouts??W.workouts??W.Done??"").trim()),C(String(W.Comments??W.comments??W.Notes??"").trim()),h(String(W.Coach??W.coach??"")||""),j(String(W.Focus??W.focus??"")||"")}else p(""),C(""),h(""),j("")}catch(L){try{console.debug("[CheckInConfirmModal] load error",L),Ue.emit("modal:error",{message:"Failed to load check-in data",source:"CheckInConfirmModal",error:String(L)})}catch{}}finally{k&&g(!1)}})(),()=>{k=!1}},[e,n,r==null?void 0:r.rowNumber,r==null?void 0:r.Date,r==null?void 0:r.TimeIn]);const U=(o==null?void 0:o.member)||null,H=async()=>{if(n){M(!0);try{if(r){const k=r.Date||r.date||"",L=new Intl.DateTimeFormat("en-CA",{timeZone:wr,year:"numeric",month:"2-digit",day:"2-digit"}).format(new Date),x=k?new Date(k):null,T=x?new Intl.DateTimeFormat("en-CA",{timeZone:wr,year:"numeric",month:"2-digit",day:"2-digit"}).format(x):"",b=String(r.TimeOut||r.timeout||"").trim();if(T===L&&!b){const N=new Date().toISOString();try{const I=r.TimeIn||r.Timein||r.timeIn||r.timein||null,P=r.Date||r.date||null,O={memberId:n,timeOut:N,Workouts:S,Comments:v};try{console.debug("[CheckInConfirmModal] upsert payload",O)}catch{}c!=null&&c.coachActive&&(m&&m!=="None"&&(O.Coach=m),y&&(O.Focus=y)),I&&(O.TimeIn=I),P&&(O.Date=P),r.rowNumber&&(O.rowNumber=r.rowNumber);const R=await Th(O);try{console.debug("[CheckInConfirmModal] upsertGymEntry res",R)}catch{}try{Ue.emit("gymEntry:added",{MemberID:n,...R||{},Workouts:S,Comments:v})}catch{}M(!1),i&&i(),t&&t();return}catch(I){try{Ue.emit("modal:error",{message:"Failed to upsert gym entry",source:"CheckInConfirmModal",error:String(I)})}catch{}}}}try{const k={wantsOut:!0,Workouts:S,Comments:v};if(c!=null&&c.coachActive&&(m&&m!=="None"&&(k.Coach=m),y&&(k.Focus=y)),r){const L=r.TimeIn||r.Timein||r.timeIn||r.timein||null,x=r.Date||r.date||null;L&&(k.TimeIn=L),x&&(k.Date=x),r.rowNumber&&(k.rowNumber=r.rowNumber)}try{console.debug("[CheckInConfirmModal] gymQuickAppend extra",k)}catch{}await ws(n,k)}catch(k){const L={Workouts:S,Comments:v};r&&(r.TimeIn&&(L.TimeIn=r.TimeIn),r.Date&&(L.Date=r.Date),r.rowNumber&&(L.rowNumber=r.rowNumber)),c!=null&&c.coachActive&&(m&&m!=="None"&&(L.Coach=m),y&&(L.Focus=y));try{console.debug("[CheckInConfirmModal] gymQuickAppend failed, falling back to gymClockOut",L,k)}catch{}await Ih(n,L)}try{Ue.emit("gymEntry:added",{MemberID:n,Workouts:S,Comments:v})}catch{}M(!1),i&&i(),t&&t()}catch(k){try{Ue.emit("modal:error",{message:"Checkout failed",source:"CheckInConfirmModal",error:String(k)})}catch{}M(!1)}}},te=async()=>{if(n){M(!0);try{const k={Workouts:S,Comments:v};c!=null&&c.coachActive&&(m&&m!=="None"&&(k.Coach=m),y&&(k.Focus=y));try{await ws(n,k)}catch{await Mh(n,k)}M(!1),i&&i(),t&&t()}catch(k){try{Ue.emit("modal:error",{message:"Checkin failed",source:"CheckInConfirmModal",error:String(k)})}catch{}M(!1)}}};return e?s.jsx(pr,{open:e,onClose:t,width:720,noInternalScroll:!0,children:f?s.jsx("div",{style:{padding:24},children:"Loading"}):U?s.jsxs(s.Fragment,{children:[s.jsxs("div",{style:{display:"grid",gridTemplateColumns:"auto 1fr",gap:16,alignItems:"center"},children:[s.jsx("div",{style:{width:150,height:200,borderRadius:12,overflow:"hidden",border:"1px solid #e7e8ef",background:"#fafbff"},children:U.PhotoURL||U.Photo?s.jsx("img",{src:q0(X0(U.PhotoURL||U.Photo)),alt:"Member",style:{width:"100%",height:"100%",objectFit:"cover"}}):s.jsx("div",{style:{display:"flex",width:"100%",height:"100%",alignItems:"center",justifyContent:"center",color:"#999"},children:"No Photo"})}),s.jsxs("div",{children:[s.jsx("div",{style:{fontWeight:900,fontSize:28,lineHeight:1.1},children:U.NickName||U.Nickname||"-"}),s.jsx("div",{style:{fontWeight:700,fontSize:18,color:"#444",marginTop:4},children:[U.FirstName,U.LastName].filter(Boolean).join(" ")||"-"}),s.jsx("div",{style:{fontStyle:"italic",color:"#666",marginTop:8},children:"Member Since"}),s.jsx("div",{style:{fontWeight:800,fontSize:16},children:Cl(U.MemberSince||U["Member Since"]||U.Joined||U["Join Date"])})]})]}),s.jsxs("div",{className:"status-tiles",style:{marginTop:14},children:[s.jsxs("div",{className:`status-tile ${(c==null?void 0:c.membershipState)==null?"none":c.membershipState}`,children:[s.jsx("div",{className:"title",children:"Gym Membership"}),s.jsx("div",{style:{marginBottom:10},children:(c==null?void 0:c.membershipState)==="active"?s.jsx("span",{className:"pill ok",children:"Active"}):(c==null?void 0:c.membershipState)==="expired"?s.jsx("span",{className:"pill bad",children:"Expired"}):s.jsx("span",{className:"pill",children:"None"})}),s.jsx("div",{className:"label",children:"Valid until"}),s.jsx("div",{className:"value",children:Cl(c==null?void 0:c.membershipEnd)})]}),s.jsxs("div",{className:`status-tile ${c!=null&&c.coachActive?"active":c!=null&&c.coachEnd?"expired":"none"}`,children:[s.jsx("div",{className:"title",children:"Coach Subscription"}),s.jsx("div",{style:{marginBottom:10},children:c!=null&&c.coachActive?s.jsx("span",{className:"pill ok",children:"Active"}):c!=null&&c.coachEnd?s.jsx("span",{className:"pill bad",children:"Expired"}):s.jsx("span",{className:"pill",children:"None"})}),s.jsx("div",{className:"label",children:"Valid until"}),s.jsx("div",{className:"value",children:Cl(c==null?void 0:c.coachEnd)})]})]}),E&&s.jsx("div",{children:c!=null&&c.coachActive?s.jsxs(s.Fragment,{children:[s.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:12,marginTop:14},children:[s.jsxs("div",{className:"field",children:[s.jsx("label",{className:"label",children:"Coach"}),s.jsxs("select",{value:m,onChange:k=>h(k.target.value),children:[s.jsx("option",{value:"",children:"(Select)"}),z.map(k=>s.jsx("option",{value:k,children:k},k))]})]}),s.jsxs("div",{className:"field",children:[s.jsx("label",{className:"label",children:"Workout Focus"}),s.jsxs("select",{value:y,onChange:k=>j(k.target.value),children:[s.jsx("option",{value:"",children:"(none)"}),A.map(k=>s.jsx("option",{value:k,children:k},k))]})]})]}),s.jsxs("div",{className:"field",style:{marginTop:16},children:[s.jsx("label",{className:"label",children:"Workouts Done"}),s.jsx("textarea",{value:S,onChange:k=>p(k.target.value),placeholder:"Describe workouts done (optional)",style:{width:"100%",minHeight:48,borderRadius:8,border:"1px solid #e7e8ef",padding:"8px 12px",fontSize:15,resize:"vertical"}})]})]}):s.jsxs("div",{className:"field",style:{marginTop:16},children:[s.jsx("label",{className:"label",children:"Workouts Done"}),s.jsx("textarea",{value:S,onChange:k=>p(k.target.value),placeholder:"Describe workouts done (optional)",style:{width:"100%",minHeight:48,borderRadius:8,border:"1px solid #e7e8ef",padding:"8px 12px",fontSize:15,resize:"vertical"}})]})}),!E&&s.jsx("div",{children:(c==null?void 0:c.coachActive)&&s.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:12,marginTop:14},children:[s.jsxs("div",{className:"field",children:[s.jsx("label",{className:"label",children:"Coach"}),s.jsxs("select",{value:m,onChange:k=>h(k.target.value),children:[s.jsx("option",{value:"",children:"(Select)"}),z.map(k=>s.jsx("option",{value:k,children:k},k))]})]}),s.jsxs("div",{className:"field",children:[s.jsx("label",{className:"label",children:"Workout Focus"}),s.jsxs("select",{value:y,onChange:k=>j(k.target.value),children:[s.jsx("option",{value:"",children:"(none)"}),A.map(k=>s.jsx("option",{value:k,children:k},k))]})]})]})}),s.jsxs("div",{className:"field",style:{marginTop:16},children:[s.jsx("label",{className:"label",children:"Comments"}),s.jsx("textarea",{value:v,onChange:k=>C(k.target.value),placeholder:"Add comments (optional)",style:{width:"100%",minHeight:48,borderRadius:8,border:"1px solid #e7e8ef",padding:"8px 12px",fontSize:15,resize:"vertical"}})]}),s.jsx("div",{style:{display:"flex",justifyContent:"flex-end",marginTop:16},children:E?s.jsx("button",{className:"primary-btn",onClick:H,disabled:_||(c==null?void 0:c.coachActive)&&(!m||!y),children:_?"Checking out":"Confirm Check-Out"}):s.jsx("button",{className:"primary-btn",onClick:te,disabled:_||(c==null?void 0:c.coachActive)&&(!m||!y),children:_?"Checking in":"Confirm Check-In"})})]}):s.jsx("div",{style:{padding:24},children:"Member not found."})}):null}const Yt=(e,t=[])=>{if(!e)return"";for(const n of t){if(Object.prototype.hasOwnProperty.call(e,n))return e[n];const r=Object.keys(e).find(i=>i.toLowerCase().replace(/\s+/g,"")===n.toLowerCase().replace(/\s+/g,""));if(r)return e[r]}return""};function Kh({open:e,onClose:t,row:n,onCheckout:r}){if(!e)return null;io();const i=n||{},[o,l]=xe.useState(!1),u=Yt(i,["MemberID","memberid","member_id","id"]),a=Yt(i,["Date","date","visit_date","timestamp"]),c=Yt(i,["TimeIn","timein","time_in"]),d=Yt(i,["TimeOut","timeout","time_out"]),f=Yt(i,["TotalHours","totalhours","NoOfHours","noofhours","hours"]),g=Yt(i,["Coach","coach"]),S=Yt(i,["Focus","focus"]),p=Yt(i,["Workouts","workouts","done","workouts_done"]),v=Yt(i,["Comments","comments","notes"]);Yt(i,["Photo","photo","photo_url","PhotoURL"]);const[C,m]=xe.useState(!1),h=()=>{if(typeof r=="function")try{r(n,{checkedOut:!0})}catch(y){console.error(y)}};return s.jsxs(s.Fragment,{children:[s.jsxs(pr,{open:e,onClose:t,title:"Visit Details",noInternalScroll:!0,children:[s.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:12,marginBottom:12},children:[s.jsxs("div",{style:{background:"#f9fafb",border:"1px solid #e5e7eb",borderRadius:10,padding:10},children:[s.jsx("span",{style:{fontSize:14,fontStyle:"italic",color:"var(--muted)",display:"block",marginBottom:4},children:"Member ID"}),s.jsx("div",{style:{fontWeight:700,fontSize:18},children:u||"-"})]}),s.jsxs("div",{style:{background:"#f9fafb",border:"1px solid #e5e7eb",borderRadius:10,padding:10},children:[s.jsx("span",{style:{fontSize:14,fontStyle:"italic",color:"var(--muted)",display:"block",marginBottom:4},children:"Date"}),s.jsx("div",{style:{fontWeight:700,fontSize:18},children:kn(a)||"-"})]})]}),s.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(3, 1fr)",gap:12},children:[["Time In",c],["Time Out",d],["Total Hours",f]].map(([y,j])=>s.jsxs("div",{className:"field",children:[s.jsx("span",{className:"label",style:{display:"block",marginBottom:6},children:y}),s.jsx("div",{style:{background:"#f9fafb",border:"1px solid #e5e7eb",borderRadius:10,padding:10,fontWeight:700,fontSize:18},children:y==="Time In"||y==="Time Out"?j?Zi(j):"-":j?String(j):"-"})]},y))}),s.jsxs("div",{className:"field",style:{marginTop:12},children:[s.jsx("span",{className:"label",children:"Coach"}),s.jsx("div",{style:{background:"#f9fafb",border:"1px solid #e5e7eb",borderRadius:10,padding:12,fontSize:16,minHeight:44},children:g||"-"})]}),s.jsxs("div",{className:"field",style:{marginTop:12},children:[s.jsx("span",{className:"label",children:"Focus"}),s.jsx("div",{style:{background:"#f9fafb",border:"1px solid #e5e7eb",borderRadius:10,padding:12,fontSize:16,minHeight:44},children:S||"-"})]}),s.jsxs("div",{className:"field",style:{marginTop:12},children:[s.jsx("span",{className:"label",children:"Workouts Done"}),s.jsx("div",{style:{background:"#f9fafb",border:"1px solid #e5e7eb",borderRadius:10,padding:12,fontSize:16,minHeight:72},children:p||"-"})]}),s.jsxs("div",{className:"field",style:{marginTop:12},children:[s.jsx("span",{className:"label",children:"Comments"}),s.jsx("div",{style:{background:"#f9fafb",border:"1px solid #e5e7eb",borderRadius:10,padding:12,fontSize:16,minHeight:72},children:v||"-"})]}),s.jsxs("div",{style:{display:"flex",gap:8,justifyContent:"flex-end",marginTop:12},children:[d?null:s.jsx("button",{className:"primary-btn",onClick:()=>{try{if(typeof r=="function"){try{r(n)}catch(y){console.error(y)}t&&t();return}m(!0)}catch(y){console.error(y)}},children:"Check Out"}),s.jsx("button",{className:"primary-btn",onClick:t,children:"Close"})]})]}),C&&s.jsx(Gs,{open:C,onClose:()=>{m(!1)},memberId:u,initialEntry:n,onSuccess:()=>{m(!1),t&&t(),h()}})]})}const tS=e=>String(e||"").trim().toLowerCase().replace(/\s+/g,"_"),Qe=e=>Object.fromEntries(Object.entries(e||{}).map(([t,n])=>[tS(t),n])),Z=(e,t)=>t.map(n=>e[n]).find(n=>n!==void 0&&n!==""),qe=e=>{if(e instanceof Date)return e;const t=new Date(e);return isNaN(t)?null:t},js="Asia/Manila",Zi=e=>{if(!e)return"-";if(/^\d{1,2}:\d{2}\s?(AM|PM)$/i.test(e))return e;const t=new Date(e);if(!isNaN(t))return new Intl.DateTimeFormat("en-US",{timeZone:js,hour:"2-digit",minute:"2-digit",hour12:!0}).format(t);const n=String(e).match(/(\d{2}):(\d{2})/);if(n){let r=parseInt(n[1],10),i=n[2],o=r>=12?"PM":"AM";return r=r%12||12,`${r}:${i} ${o}`}return"-"},kn=e=>{var l,u,a;if(!e)return"-";const t=e instanceof Date?e:new Date(e);if(isNaN(t))return"-";const n=new Intl.DateTimeFormat("en-US",{timeZone:js,month:"short",day:"numeric",year:"numeric"}).formatToParts(t),r=((l=n.find(c=>c.type==="month"))==null?void 0:l.value)||"",i=((u=n.find(c=>c.type==="day"))==null?void 0:u.value)||"",o=((a=n.find(c=>c.type==="year"))==null?void 0:a.value)||"";return`${r}-${i}, ${o}`},Ze=e=>e==null||String(e).trim()===""?"-":String(e),nS=e=>{const t=String(e||"");if(!t)return"";const n=t.match(/https?:\/\/[^\s}]+/);if(n){const o=n[0];if(/googleusercontent\.com\//.test(o))return o;const l=o.match(/(?:\/file\/d\/|[?&]id=|\/uc\?[^#]*id=)([^/&?#]+)/);return l&&l[1]?`https://drive.google.com/uc?export=view&id=${l[1]}`:o}if(/googleusercontent\.com\//.test(t))return t;const r=t.match(/\/file\/d\/([^/]+)/)||t.match(/[?&]id=([^&]+)/)||t.match(/\/uc\?[^#]*id=([^&]+)/),i=r?r[1]:"";return i?`https://drive.google.com/uc?export=view&id=${i}`:t},rS=e=>{const n=String(e||"").match(/(?:\/file\/d\/|[?&]id=|\/uc\?[^#]*id=)([^/&?#]+)/);return n&&n[1]?n[1]:""},iS=e=>{const t=String(e||"");if(/googleusercontent\.com\//.test(t))return t;const n=rS(t);return n?`https://drive.google.com/thumbnail?id=${n}&sz=w1000`:t};function Td(e,t,n){const r=new Date;r.setHours(0,0,0,0);let i=null,o=null;const l=new Map,u=Array.isArray(n)?n:[],a=g=>{const S=String(g??"").trim().toLowerCase();return S==="yes"||S==="y"||S==="true"||S==="1"},c=(g,S)=>{for(const p of S){if(g&&Object.prototype.hasOwnProperty.call(g,p))return g[p];const v=Object.keys(g||{}).find(C=>C.toLowerCase().replace(/\s+/g,"")===p.toLowerCase().replace(/\s+/g,""));if(v)return g[v]}};u.forEach(g=>{const S=String(c(g,["Particulars"])||"").trim();if(!S)return;const p=a(c(g,["Gym membership","Gym Membership","GymMembership","Membership"])),v=a(c(g,["Coach subscription","Coach Subscription","CoachSubscription","Coach"]));l.set(S.toLowerCase(),{gym:p,coach:v})});for(const g of e){const S=Qe(g),p=String(Z(S,["memberid","member_id","member_id_","id"])||"").trim().toLowerCase();if(!p||p!==t.toLowerCase())continue;const v=String(Z(S,["particulars","type","item","category","product","paymentfor","plan","description"])||"").trim(),C=qe(Z(S,["gymvaliduntil","gym_valid_until","gym_until"])),m=qe(Z(S,["coachvaliduntil","coach_valid_until","coach_until"])),h=qe(Z(S,["enddate","end_date","valid_until","expiry","expires","until","end"]));if(!C&&!m&&!h)continue;const y=l.get(v.toLowerCase())||{gym:null,coach:null},j=y.coach===!0||y.coach===null&&/coach|trainer|pt/i.test(v),E=y.gym===!0||y.gym===null&&/member|gym/i.test(v);C?i=!i||C>i?C:i:E&&h&&(i=!i||h>i?h:i),m?o=!o||m>o?m:o:j&&h&&(o=!o||h>o?h:o)}let d=null;if(i){const g=new Date(i);g.setHours(0,0,0,0),d=g>=r?"active":"expired"}let f=!1;if(o){const g=new Date(o);g.setHours(0,0,0,0),f=g>=r}return{membershipEnd:i,membershipState:d,coachEnd:o,coachActive:f}}function oS(){var nn;const[e,t]=w.useState(null),{id:n,memberId:r}=uv(),i=io(),o=hr(),l=xe.useMemo(()=>{var X;return(X=o.state)!=null&&X.row?Qe(o.state.row):null},[(nn=o.state)==null?void 0:nn.row]),[u,a]=w.useState(l||null),[c,d]=w.useState(!l),[f,g]=w.useState(!1),[S,p]=w.useState(""),[v,C]=w.useState({membershipState:null,coachActive:!1,membershipEnd:null,coachEnd:null}),[m,h]=w.useState([]),[y,j]=w.useState([]),[E,D]=w.useState([]),[_,M]=w.useState([]);if(w.useEffect(()=>{let X=!0;(async()=>{const he=decodeURIComponent(r||n||"").trim(),Ie=String(Z(l||{},["memberid","member_id","id"])||"").trim(),ve=he||Ie;if(!ve){d(!1);return}if(l){a(l),d(!1);try{Ce(),typeof window<"u"&&setTimeout(()=>{try{Ce()}catch{}},600)}catch{}return}async function Le(){const[ie,Me]=await Promise.all([Jr(ve),gn()]),We=ie.member?Qe(ie.member):null,Ae=(ie.payments||[]).map(Qe),Qn=(ie.gymEntries||[]).map(oi=>oi),ii=Qn.map(Qe),Qs=(ie.progress||[]).map(Qe);j(Qn);const so=((Me==null?void 0:Me.rows)||(Me==null?void 0:Me.data)||[]).map(oi=>oi);return{m:We,pays:Ae,gyms:ii,progs:Qs,pricingRows:so}}async function ht(){const[ie,Me,We,Ae]=await Promise.all([Un(),cr(),Zr(),Yc()]),ii=((ie==null?void 0:ie.rows)??(ie==null?void 0:ie.data)??[]).map(Qe).find(Kn=>String(Z(Kn,["memberid","member_id","member_id_","id"])||"").trim().toLowerCase()===ve.toLowerCase())||null,Qs=((Me==null?void 0:Me.rows)??(Me==null?void 0:Me.data)??[]).filter(Kn=>String(Z(Qe(Kn),["memberid","member_id","member_id_","id"])||"").trim().toLowerCase()===ve.toLowerCase()),so=((We==null?void 0:We.rows)??(We==null?void 0:We.data)??[]).filter(Kn=>String(Z(Qe(Kn),["memberid","member_id","member_id_","id"])||"").trim().toLowerCase()===ve.toLowerCase()),oi=so.map(Qe);j(so);const ap=((Ae==null?void 0:Ae.rows)??(Ae==null?void 0:Ae.data)??[]).filter(Kn=>String(Z(Qe(Kn),["memberid","member_id","member_id_","id"])||"").trim().toLowerCase()===ve.toLowerCase());return{m:ii,pays:Qs,gyms:oi,progs:ap}}try{let ie;try{ie=await Le()}catch{ie=await ht()}if(!X)return;if(ie.m){a(ie.m);const Me=String(Z(ie.m,["memberid","member_id","id"])||"").trim();D((ie.pays||[]).map(Qe).sort((We,Ae)=>{const Qn=qe(Z(We,["date","paid_on","created","timestamp"]))||new Date(0);return(qe(Z(Ae,["date","paid_on","created","timestamp"]))||new Date(0))-Qn})),h(ie.gyms.map(We=>{const Ae=Qe(We);return{date:qe(Z(Ae,["date"])),timeIn:Z(Ae,["timein","time_in"]),timeOut:Z(Ae,["timeout","time_out"]),totalHours:Z(Ae,["totalhours","total_hours","hours"]),coach:Z(Ae,["coach"]),focus:Z(Ae,["focus"])}}).filter(We=>!!We.date).sort((We,Ae)=>Ae.date-We.date)),M(ie.progs.map(Qe).sort((We,Ae)=>{const Qn=qe(Z(We,["date","recorded","log_date","timestamp"]))||new Date(0);return(qe(Z(Ae,["date","recorded","log_date","timestamp"]))||new Date(0))-Qn})),C(Td((ie.pays||[]).map(Qe),Me,ie.pricingRows||[]))}else l||(a(null),p("Member not found"))}catch(ie){X&&!l&&p(ie.message||"Failed to load member")}finally{X&&d(!1)}})();const _e=Ue.on("member:updated",he=>{try{const Ie=he&&he.request?he.request:he,ve=String(Z(Ie||{},["MemberID","memberid","member_id","id"])||"").trim(),Le=decodeURIComponent(r||n||"").trim(),ht=String(Z(l||{},["memberid","member_id","id"])||"").trim(),ie=Le||ht;ve&&ie&&ve.toLowerCase()===ie.toLowerCase()&&setTimeout(()=>Ce(),120)}catch{}}),J=Ue.on("gymEntry:added",he=>{try{const Ie=String(Z(u||{},["memberid","member_id","id"])||"").trim();if(!Ie)return;const ve=String((he==null?void 0:he.MemberID)||(he==null?void 0:he.memberid)||(he==null?void 0:he.Member)||"").trim();ve&&ve===Ie&&Ce()}catch{}}),lt=Ue.on("payment:added",he=>{try{const Ie=String(Z(u||{},["memberid","member_id","id"])||"").trim();if(!Ie)return;const ve=he&&he.request?he.request:he,Le=he&&he.response?he.response:null,ht=String((ve==null?void 0:ve.MemberID)||(ve==null?void 0:ve.memberid)||(Le==null?void 0:Le.MemberID)||(Le==null?void 0:Le.memberid)||(ve==null?void 0:ve.Member)||(Le==null?void 0:Le.Member)||"").trim();ht&&ht===Ie&&setTimeout(()=>Ce(),120)}catch(Ie){console.debug("payment event handler error",Ie)}});return()=>{X=!1;try{_e()}catch{}try{J()}catch{}try{lt()}catch{}try{me.current&&(clearTimeout(me.current),me.current=null)}catch{}}},[r,n,l]),c)return s.jsx("div",{className:"content",children:s.jsx(Gh,{})});if(!u)return s.jsxs("div",{className:"content",children:[s.jsx("button",{className:"back-btn",onClick:()=>i(-1),children:" Back"}),s.jsx("div",{children:S||"Member not found"})]});const z=Z(u,["lastname","last_name"]),A=Z(u,["firstname","first_name"]);Z(u,["middlename","middle_name"]),Z(u,["gender"]);const U=Z(u,["birthday","birth_date","dob"]),H=qe(U),te=Z(u,["nick_name","nickname"]);Z(u,["street"]),Z(u,["brgy","barangay"]),Z(u,["municipality","city"]),Z(u,["email"]),Z(u,["mobile","phone"]);const k=qe(Z(u,["member_since","membersince","join_date"])),L=String(Z(u,["memberid","member_id","member_id_","id"])||"").trim(),x=Z(u,["photourl","photo_url","photo"]),T=nS(x),b=iS(T),{membershipState:N,coachActive:I}=v,P=Z(u,["student"]),O=typeof P=="string"?P.trim().toLowerCase().startsWith("y"):!!P,[R,F]=w.useState(!1),[W,re]=w.useState(!1),[le,de]=w.useState(!1),[ye,ne]=w.useState(!1),[fe,ce]=w.useState(!1),[Y,B]=w.useState(!1),[q,ee]=w.useState(!1),[ue,V]=w.useState(-1),[ae,oe]=w.useState(!1),[G,ke]=w.useState(10),[je,Oe]=w.useState(10),[Ee,Q]=w.useState(10);w.useEffect(()=>{oe(!1)},[T]);async function se(){g(!0);try{const X=String(L||"").trim();if(!X)return;console.debug("refreshBundle: fetching bundle for",X);const[_e,J]=await Promise.all([Jr(X,{ttlMs:0}),gn()]);console.debug("refreshBundle: fetched bundle",_e,J);const lt=_e.member?Qe(_e.member):null,he=(_e.payments||[]).map(Qe),Ie=(_e.gymEntries||[]).map(ie=>ie),ve=Ie.map(Qe),Le=(_e.progress||[]).map(Qe);lt&&a(lt),j(Ie),D(he.sort((ie,Me)=>{const We=qe(Z(ie,["date","paid_on","created","timestamp"]))||new Date(0);return(qe(Z(Me,["date","paid_on","created","timestamp"]))||new Date(0))-We})),h(ve.map(ie=>{const Me=Qe(ie);return{date:qe(Z(Me,["date"])),timeIn:Z(Me,["timein","time_in"]),timeOut:Z(Me,["timeout","time_out"]),totalHours:Z(Me,["totalhours","total_hours","hours"]),coach:Z(Me,["coach"]),focus:Z(Me,["focus"])}}).filter(ie=>!!ie.date).sort((ie,Me)=>Me.date-ie.date)),M(Le.sort((ie,Me)=>{const We=qe(Z(ie,["date","recorded","log_date","timestamp"]))||new Date(0);return(qe(Z(Me,["date","recorded","log_date","timestamp"]))||new Date(0))-We}));const ht=((J==null?void 0:J.rows)||(J==null?void 0:J.data)||[]).map(ie=>ie);C(Td(he,X,ht))}catch(X){console.error("refreshBundle failed",X);try{p(String((X==null?void 0:X.message)||X||"Failed to refresh member data"))}catch{}}finally{g(!1)}}const me=xe.useRef(null),Ce=()=>{me.current&&clearTimeout(me.current),me.current=setTimeout(()=>{se(),me.current=null},200)};return s.jsxs("div",{className:"content",children:[s.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:8},children:[s.jsx("div",{style:{display:"flex",alignItems:"center",gap:12},children:s.jsxs("div",{style:{display:"flex",alignItems:"center",gap:12},children:[s.jsx("button",{className:"back-btn",onClick:()=>i(-1),children:" Back"}),s.jsx("button",{className:"back-btn",onClick:()=>ee(!0),disabled:N!=="active",title:N==="active"?"Check in or out":"Gym membership is not active",children:"Check In / Out"})]})}),s.jsxs("div",{style:{display:"flex",alignItems:"center",gap:8,marginTop:8,marginBottom:8},children:[s.jsx("h2",{style:{margin:0},children:Ze(te||A||"Member")}),s.jsx("div",{children:s.jsx(Hs,{show:f&&!c})})]})]}),s.jsx(Y0,{member:u,status:v,isRefreshing:f,onEdit:()=>re(!0),onAddPayment:()=>F(!0),onShowQr:()=>de(!0),onShowProgress:()=>ne(!0),onCheckIn:()=>ee(!0)}),s.jsx(w0,{open:R,onClose:()=>F(!1),memberId:L,onSaved:()=>{F(!1),se()},membershipEnd:v.membershipEnd,coachEnd:v.coachEnd,isStudent:O,birthDate:H}),s.jsx(k0,{open:W,onClose:()=>re(!1),member:u,onSaved:X=>{re(!1);try{X&&a(_e=>({..._e||{},...Qe(X)||{}}))}catch{}(async()=>{try{const _e=String(Z(X||u||{},["memberid","member_id","id","MemberID"])||"").trim();if(_e)try{const J=await fetchMemberByIdFresh(_e);J&&a(J)}catch{try{se()}catch{}}else try{se()}catch{}}catch{try{se()}catch{}}})()}}),s.jsx(O0,{open:le,onClose:()=>de(!1),memberId:L,nickname:te||A||"",firstName:A||"",lastName:z||"",memberSince:k||null,photo:b}),s.jsx($0,{open:ye,onClose:()=>ne(!1),memberId:L,memberSinceYMD:k?`${k.getFullYear()}-${String(k.getMonth()+1).padStart(2,"0")}-${String(k.getDate()).padStart(2,"0")}`:"",onSaved:()=>{ne(!1),se()}}),s.jsx(W0,{open:fe,onClose:()=>{ce(!1),V(-1)},row:ue>=0?_[ue]:null}),s.jsxs("div",{className:"panel",children:[s.jsx("div",{className:"panel-header",children:"Gym Visits"}),s.jsxs("table",{className:"aligned",children:[s.jsx("thead",{children:s.jsxs("tr",{children:[s.jsx("th",{children:"Date"}),s.jsx("th",{children:"Time In"}),s.jsx("th",{children:"Time Out"}),s.jsx("th",{children:"Total Hours"}),s.jsx("th",{children:"Coach"}),s.jsx("th",{children:"Focus"})]})}),s.jsx("tbody",{children:m.length===0?s.jsx("tr",{children:s.jsx("td",{colSpan:6,children:"-"})}):m.slice(0,G).map((X,_e)=>s.jsxs("tr",{style:{cursor:"pointer"},onClick:()=>t(X),children:[s.jsx("td",{children:kn(X.date)}),s.jsx("td",{children:Zi(X.timeIn)}),s.jsx("td",{children:Zi(X.timeOut)}),s.jsx("td",{children:Ze(X.totalHours)}),s.jsx("td",{children:Ze(X.coach)}),s.jsx("td",{children:Ze(X.focus)})]},_e))})]}),m.length>G&&s.jsx("div",{style:{textAlign:"center",marginTop:8},children:s.jsx("button",{className:"button",onClick:()=>ke(X=>X<m.length?Math.min(X+10,m.length):10),children:G<m.length?`Load ${Math.min(10,m.length-G)} more`:"Show less"})})]}),s.jsx(Kh,{open:!!e,onClose:()=>t(null),row:e,onCheckout:()=>{}}),(()=>{const X=new Intl.DateTimeFormat("en-CA",{timeZone:js,year:"numeric",month:"2-digit",day:"2-digit"}).format(new Date),_e=(y||[]).find(J=>{const lt=(J==null?void 0:J.Date)||(J==null?void 0:J.date);if(!lt)return!1;const he=new Date(lt);return new Intl.DateTimeFormat("en-CA",{timeZone:js,year:"numeric",month:"2-digit",day:"2-digit"}).format(he)!==X?!1:!String((J==null?void 0:J.TimeOut)||(J==null?void 0:J.timeout)||(J==null?void 0:J.time_out)||"").trim()})||null;return s.jsx(Gs,{open:!!q,memberId:L,initialEntry:_e,onClose:()=>ee(!1),onSuccess:async()=>{ee(!1);try{await Ce()}catch{}}})})(),m.length>200&&s.jsx("div",{style:{textAlign:"center",marginTop:8},children:s.jsx("button",{className:"button",onClick:()=>B(X=>!X),children:Y?"Show less":`Show all (${m.length})`})}),s.jsxs("div",{className:"panel",children:[s.jsx("div",{className:"panel-header",children:"Progress"}),s.jsxs("table",{className:"aligned",children:[s.jsx("thead",{children:s.jsxs("tr",{children:[s.jsx("th",{children:"Date"}),s.jsx("th",{children:"No"}),s.jsx("th",{children:"Weight"}),s.jsx("th",{children:"BMI"}),s.jsx("th",{children:"Muscle Mass"}),s.jsx("th",{children:"Body Fat"})]})}),s.jsx("tbody",{children:_.length===0?s.jsx("tr",{children:s.jsx("td",{colSpan:6,children:"-"})}):_.slice(0,je).map((X,_e)=>{const J=qe(Z(X,["date","recorded","log_date","timestamp"])),lt=Z(X,["no","entry_no","seq","number"]),he=Z(X,["weight","weight_kg","weight_lbs","weight_(lbs)","weight_(kg)","weight(lbs)","weightkg","weightlbs"]),Ie=Z(X,["bmi"]),ve=Z(X,["musclemass","muscle_mass","muscle"]),Le=Z(X,["bodyfat","body_fat","bf"]);return s.jsxs("tr",{style:{cursor:"pointer"},onClick:()=>{V(_e),ce(!0)},children:[s.jsx("td",{children:kn(J)}),s.jsx("td",{children:Ze(lt)}),s.jsx("td",{children:Ze(he)}),s.jsx("td",{children:Ze(Ie)}),s.jsx("td",{children:Ze(ve)}),s.jsx("td",{children:Ze(Le)})]},_e)})})]}),_.length>je&&s.jsx("div",{style:{textAlign:"center",marginTop:8},children:s.jsx("button",{className:"button",onClick:()=>Oe(X=>X<_.length?Math.min(X+10,_.length):10),children:je<_.length?`Load ${Math.min(10,_.length-je)} more`:"Show less"})})]}),s.jsxs("div",{className:"panel",children:[s.jsx("div",{className:"panel-header",children:"Payments"}),s.jsxs("table",{className:"aligned payments-table",children:[s.jsx("thead",{children:s.jsxs("tr",{children:[s.jsx("th",{children:"Date"}),s.jsx("th",{children:"Particulars"}),s.jsxs("th",{children:["Gym Membership",s.jsx("br",{}),s.jsx("span",{className:"th-sub",children:"Valid Until"})]}),s.jsxs("th",{children:["Coach Subscription",s.jsx("br",{}),s.jsx("span",{className:"th-sub",children:"Valid Until"})]}),s.jsx("th",{children:"Mode"}),s.jsx("th",{children:"Cost"})]})}),s.jsx("tbody",{children:E.length===0?s.jsx("tr",{children:s.jsx("td",{colSpan:6,children:"-"})}):E.slice(0,Ee).map((X,_e)=>{const J=qe(Z(X,["date","paid_on","created","timestamp"])),lt=Z(X,["particulars","type","item","category","product","paymentfor","plan","description"]),he=qe(Z(X,["gymvaliduntil","gym_valid_until","gym_until"])),Ie=qe(Z(X,["coachvaliduntil","coach_valid_until","coach_until"])),ve=Z(X,["mode","payment_mode","method","via"]),Le=Z(X,["cost","amount","price","total","paid"]);return s.jsxs("tr",{children:[s.jsx("td",{children:kn(J)}),s.jsx("td",{children:Ze(lt)}),s.jsx("td",{children:kn(he)}),s.jsx("td",{children:kn(Ie)}),s.jsx("td",{children:Ze(ve)}),s.jsx("td",{children:Ze(Le)})]},_e)})})]}),E.length>Ee&&s.jsx("div",{style:{textAlign:"center",marginTop:8},children:s.jsx("button",{className:"button",onClick:()=>Q(X=>X<E.length?Math.min(X+10,E.length):10),children:Ee<E.length?`Load ${Math.min(10,E.length-Ee)} more`:"Show less"})})]})]})}function Mo(){return new Date().toLocaleDateString("en-CA",{year:"numeric",month:"2-digit",day:"2-digit"})}function sS(){const[e,t]=w.useState({totalMembers:0,activeGym:0,activeCoach:0,visitedToday:0,coachToday:0,checkedIn:0,cashToday:0,gcashToday:0}),[n,r]=w.useState(!0),[i,o]=w.useState(!1),[l,u]=w.useState([]),[a,c]=w.useState([]),[d,f]=w.useState([]),[g,S]=w.useState([]),[p,v]=w.useState(!1),[C,m]=w.useState(!1),[h,y]=w.useState(null),[j,E]=w.useState(!1),[D,_]=w.useState(null),[M,z]=w.useState(null),A=w.useMemo(()=>(d||[]).filter(k=>{const L=k.Date||k.date;return(L?new Date(L).toLocaleDateString("en-CA",{year:"numeric",month:"2-digit",day:"2-digit"}):"")===Mo()}).map((k,L)=>{const x=(l||[]).find(I=>{const P=String(k.MemberID||k.member_id||k.id||k.member||"").trim();return P?String(I.MemberID||I.member_id||I.id||"").trim()===P:!1}),T=k.TimeIn||k.timein||"",b=k.TimeOut||k.timeout||"",N=k.TotalHours||k.totalhours||k.NoOfHours||k.noofhours||k.hours||"";return s.jsxs("tr",{style:{cursor:"pointer"},onClick:()=>y(k),children:[s.jsx("td",{children:(x==null?void 0:x.NickName)||(x==null?void 0:x.Nickname)||(x==null?void 0:x.nickname)||(x==null?void 0:x.name)||(x!=null&&x.FirstName?`${x.FirstName} ${x.LastName||""}`:"")||""}),s.jsx("td",{children:Zi(T)}),s.jsx("td",{children:Zi(b)}),s.jsx("td",{children:Ze(N)}),s.jsx("td",{children:Ze(k.Coach||k.coach)}),s.jsx("td",{children:Ze(k.Focus||k.focus)})]},L)}),[d,l]),U=(k,L,x,T)=>{const b=new Map,N=B=>{const q=String(B??"").trim().toLowerCase();return q==="yes"||q==="y"||q==="true"||q==="1"},I=(B,q)=>{for(const ee of q){if(B&&Object.prototype.hasOwnProperty.call(B,ee))return B[ee];const ue=Object.keys(B||{}).find(V=>V.toLowerCase().replace(/\s+/g,"")===ee.toLowerCase().replace(/\s+/g,""));if(ue)return B[ue]}};(T||[]).forEach(B=>{const q=String(I(B,["Particulars"])||"").trim();if(!q)return;const ee=N(I(B,["Gym membership","Gym Membership","GymMembership","Membership"])),ue=N(I(B,["Coach subscription","Coach Subscription","CoachSubscription","Coach"]));b.set(q.toLowerCase(),{gym:ee,coach:ue})});const P=new Map;(L||[]).forEach(B=>{const q=String(B.MemberID||B.member_id||B.id||B.member||"").trim();q&&(P.has(q)||P.set(q,[]),P.get(q).push(B))});function O(B){const q=new Date;q.setHours(0,0,0,0);let ee=null,ue=null;const V=B||[];for(const G of V){const ke=String(G.Particulars||G.particulars||G.type||G.item||G.description||"").trim(),je=ke.toLowerCase(),Oe=b.get(je)||{gym:null,coach:null},Ee=G.GymValidUntil||G.gymvaliduntil||G.gym_valid_until||G.gym_until||G.EndDate||G.enddate||G.end_date||G.end||G.valid_until||G.expiry||G.expires||G.until,Q=G.CoachValidUntil||G.coachvaliduntil||G.coach_valid_until||G.coach_until,se=Ee||Q;if(Ee||se){const me=Ee?new Date(Ee):se?new Date(se):null;me&&(Oe.gym===!0||Oe.gym===null&&/member|gym/i.test(ke))&&(ee=!ee||me>ee?me:ee)}if(Q||se){const me=Q?new Date(Q):se?new Date(se):null;me&&(Oe.coach===!0||Oe.coach===null&&/coach|trainer|pt/i.test(ke))&&(ue=!ue||me>ue?me:ue)}}let ae=null;if(ee){const G=new Date(ee);G.setHours(0,0,0,0),ae=G>=q?"active":"expired"}let oe=!1;if(ue){const G=new Date(ue);G.setHours(0,0,0,0),oe=G>=q}return{membershipEnd:ee,membershipState:ae,coachEnd:ue,coachActive:oe}}let R=0,F=0;for(const B of k||[]){const q=String(B.MemberID||B.member_id||B.id||"").trim(),ee=P.get(q)||[],ue=O(ee);ue.membershipState==="active"&&R++,ue.coachActive&&F++}const W=Mo(),re=(x||[]).filter(B=>{const q=B.Date||B.date;return q?new Date(q).toLocaleDateString("en-CA",{year:"numeric",month:"2-digit",day:"2-digit"})===W:!1}),de=new Set(re.map(B=>String(B.MemberID||B.member_id||B.id||"").trim()).filter(Boolean)).size,ye=re.reduce((B,q)=>{const ee=q.Coach||q.coach||"";return B+(String(ee||"").trim()?1:0)},0),ne=re.filter(B=>{const q=String(B.TimeIn||B.timein||B.time_in||"").trim(),ee=String(B.TimeOut||B.timeout||B.time_out||"").trim();return q&&!ee}).length;let fe=0,ce=0,Y=0;for(const B of L||[]){const q=B.Date||B.date||B.pay_date;if(!q||new Date(q).toLocaleDateString("en-CA",{year:"numeric",month:"2-digit",day:"2-digit"})!==W)continue;const ue=parseFloat(B.Cost||B.amount||0)||0;Y+=ue;const V=String(B.Mode||B.mode||B.method||"").toLowerCase();V==="cash"&&(fe+=ue),V==="gcash"&&(ce+=ue)}return{totalMembers:(k||[]).length,activeGym:R,activeCoach:F,visitedToday:de,coachToday:ye,checkedIn:ne,cashToday:fe,gcashToday:ce,totalPaymentsToday:Y}},H=w.useMemo(()=>(a||[]).filter(k=>{const L=k.Date||k.date||k.pay_date;return(L?new Date(L).toLocaleDateString("en-CA",{year:"numeric",month:"2-digit",day:"2-digit"}):"")===Mo()}).map((k,L)=>{const x=(l||[]).find(P=>{const O=String(k.MemberID||k.member_id||k.id||k.member||"").trim();return O?String(P.MemberID||P.member_id||P.id||"").trim()===O:!1}),T=k.gymvaliduntil||k.GymValidUntil||k.gym_valid_until||k.gym_until||k.EndDate||k.Enddate||k.enddate||k.end_date||k.end||k.valid_until||k.expiry||k.expires||k.until||"",b=k.coachvaliduntil||k.CoachValidUntil||k.coach_valid_until||k.coach_until||"",N=kn(T),I=kn(b);return s.jsxs("tr",{children:[s.jsx("td",{children:(x==null?void 0:x.NickName)||(x==null?void 0:x.Nickname)||(x==null?void 0:x.nickname)||(x==null?void 0:x.name)||(x!=null&&x.FirstName?`${x.FirstName} ${x.LastName||""}`:"")||""}),s.jsx("td",{children:Ze(k.Particulars||k.particulars||k.type||k.item||k.category||k.product||k.paymentfor||k.plan||k.description)}),s.jsx("td",{children:Ze(N)}),s.jsx("td",{children:Ze(I)}),s.jsx("td",{children:Ze(k.Mode||k.mode||k.method)}),s.jsx("td",{children:Ze((parseFloat(k.Cost||k.amount||0)||0).toLocaleString())})]},L)}),[a,l]);w.useEffect(()=>{async function k(){r(!0);try{const ne=await Xc();if(ne&&ne.ok){const{totalMembers:fe=0,activeGym:ce=0,activeCoach:Y=0,visitedToday:B=0,coachToday:q=0,checkedIn:ee=0,cashToday:ue=0,gcashToday:V=0,totalPaymentsToday:ae=0}=ne;t({totalMembers:fe,activeGym:ce,activeCoach:Y,visitedToday:B,coachToday:q,checkedIn:ee,cashToday:ue,gcashToday:V,totalPaymentsToday:ae}),r(!1),(async()=>{o(!0);try{const[oe,G,ke,je]=await Promise.all([Un(),cr(),Zr(),gn()]);u((oe==null?void 0:oe.rows)||(oe==null?void 0:oe.data)||[]),c((G==null?void 0:G.rows)||(G==null?void 0:G.data)||[]),f((ke==null?void 0:ke.rows)||(ke==null?void 0:ke.data)||[]),S((je==null?void 0:je.rows)||(je==null?void 0:je.data)||[]);try{const Oe=U((oe==null?void 0:oe.rows)||(oe==null?void 0:oe.data)||[],(G==null?void 0:G.rows)||(G==null?void 0:G.data)||[],(ke==null?void 0:ke.rows)||(ke==null?void 0:ke.data)||[],(je==null?void 0:je.rows)||(je==null?void 0:je.data)||[]);t(Oe)}catch(Oe){console.warn("Failed to recompute stats after background fetch",Oe)}}catch{}finally{o(!1)}})();return}}catch{}o(!0);const[b,N,I,P]=await Promise.all([Un(),cr(),Zr(),gn()]),O=(b==null?void 0:b.rows)||(b==null?void 0:b.data)||[],R=(N==null?void 0:N.rows)||(N==null?void 0:N.data)||[],F=(I==null?void 0:I.rows)||(I==null?void 0:I.data)||[],W=(P==null?void 0:P.rows)||(P==null?void 0:P.data)||[];u(O),c(R),f(F),S(W),o(!1);const re=O,le=R,de=F,ye=W;t(ne=>({...ne,totalMembers:re.length})),setTimeout(()=>{const ne=new Map,fe=Q=>{const se=String(Q??"").trim().toLowerCase();return se==="yes"||se==="y"||se==="true"||se==="1"},ce=(Q,se)=>{for(const me of se){if(Q&&Object.prototype.hasOwnProperty.call(Q,me))return Q[me];const Ce=Object.keys(Q||{}).find(nn=>nn.toLowerCase().replace(/\s+/g,"")===me.toLowerCase().replace(/\s+/g,""));if(Ce)return Q[Ce]}};ye.forEach(Q=>{const se=String(ce(Q,["Particulars"])||"").trim();if(!se)return;const me=fe(ce(Q,["Gym membership","Gym Membership","GymMembership","Membership"])),Ce=fe(ce(Q,["Coach subscription","Coach Subscription","CoachSubscription","Coach"]));ne.set(se.toLowerCase(),{gym:me,coach:Ce})});const Y=new Map;le.forEach(Q=>{const se=String(Q.MemberID||Q.member_id||Q.id||Q.member||"").trim();se&&(Y.has(se)||Y.set(se,[]),Y.get(se).push(Q))});function B(Q){const se=new Date;se.setHours(0,0,0,0);let me=null,Ce=null;const nn=Q||[];for(const J of nn){const lt=String(J.Particulars||J.particulars||J.type||J.item||J.description||"").trim(),he=lt.toLowerCase(),Ie=ne.get(he)||{gym:null,coach:null},ve=J.GymValidUntil||J.gymvaliduntil||J.gym_valid_until||J.gym_until||J.EndDate||J.enddate||J.end_date||J.end||J.valid_until||J.expiry||J.expires||J.until,Le=J.CoachValidUntil||J.coachvaliduntil||J.coach_valid_until||J.coach_until,ht=ve||Le;if(ve||ht){const ie=ve?new Date(ve):ht?new Date(ht):null;ie&&(Ie.gym===!0||Ie.gym===null&&/member|gym/i.test(lt))&&(me=!me||ie>me?ie:me)}if(Le||ht){const ie=Le?new Date(Le):ht?new Date(ht):null;ie&&(Ie.coach===!0||Ie.coach===null&&/coach|trainer|pt/i.test(lt))&&(Ce=!Ce||ie>Ce?ie:Ce)}}let X=null;if(me){const J=new Date(me);J.setHours(0,0,0,0),X=J>=se?"active":"expired"}let _e=!1;if(Ce){const J=new Date(Ce);J.setHours(0,0,0,0),_e=J>=se}return{membershipEnd:me,membershipState:X,coachEnd:Ce,coachActive:_e}}let q=0,ee=0;for(const Q of re){const se=String(Q.MemberID||Q.member_id||Q.id||"").trim(),me=Y.get(se)||[],Ce=B(me);Ce.membershipState==="active"&&q++,Ce.coachActive&&ee++}const ue=Mo(),V=[];for(const Q of de){const se=Q.Date||Q.date;if(!se)continue;new Date(se).toLocaleDateString("en-CA",{year:"numeric",month:"2-digit",day:"2-digit"})===ue&&V.push(Q)}const oe=new Set(V.map(Q=>String(Q.MemberID||Q.member_id||Q.id||"").trim()).filter(Boolean)).size,G=V.reduce((Q,se)=>{const me=se.Coach||se.coach||"";return Q+(String(me||"").trim()?1:0)},0),ke=V.filter(Q=>{const se=String(Q.TimeIn||Q.timein||Q.time_in||"").trim(),me=String(Q.TimeOut||Q.timeout||Q.time_out||"").trim();return se&&!me}).length;let je=0,Oe=0,Ee=0;for(const Q of le){const se=Q.Date||Q.date||Q.pay_date;if(!se||new Date(se).toLocaleDateString("en-CA",{year:"numeric",month:"2-digit",day:"2-digit"})!==ue)continue;const Ce=parseFloat(Q.Cost||Q.amount||0)||0;Ee+=Ce;const nn=String(Q.Mode||Q.mode||Q.method||"").toLowerCase();nn==="cash"&&(je+=Ce),nn==="gcash"&&(Oe+=Ce)}t({totalMembers:re.length,activeGym:q,activeCoach:ee,visitedToday:oe,coachToday:G,checkedIn:ke,cashToday:je,gcashToday:Oe,totalPaymentsToday:Ee}),r(!1),setShowLoadingToast(!1)},20)}k();const L=Ue.on("gymEntry:added",async b=>{try{o(!0);const N=await Go();f((N==null?void 0:N.rows)||(N==null?void 0:N.data)||[]),o(!1)}catch{}}),x=Ue.on("member:updated",async()=>{try{const b=await Un();u((b==null?void 0:b.rows)||(b==null?void 0:b.data)||[])}catch{}}),T=setInterval(async()=>{try{const b=await Go();f((b==null?void 0:b.rows)||(b==null?void 0:b.data)||[])}catch{}},15e3);return()=>{L(),x(),clearInterval(T)}},[]);const te=k=>{if(!k)return;const L=String(k.MemberID||k.member_id||k.id||k.member||"").trim();L&&(_(L),z(k||null),E(!0),y(null))};return s.jsxs("div",{className:"dashboard-content",children:[s.jsxs("h2",{className:"dashboard-title",children:["Daily Dashboard ",s.jsx(Hs,{show:i&&!n})]}),s.jsxs("div",{className:"dashboard-grid-3x3",children:[s.jsxs("div",{className:"dashboard-card",children:[s.jsx("div",{className:"dashboard-label",children:"Total Members"}),s.jsx("div",{className:"dashboard-value magenta",children:e.totalMembers})]}),s.jsxs("div",{className:"dashboard-card",children:[s.jsx("div",{className:"dashboard-label",children:"Active Gym Memberships"}),s.jsx("div",{className:"dashboard-value magenta",children:e.activeGym})]}),s.jsxs("div",{className:"dashboard-card",children:[s.jsx("div",{className:"dashboard-label",children:"Active Coach Subscriptions"}),s.jsx("div",{className:"dashboard-value magenta",children:e.activeCoach})]}),s.jsxs("div",{className:"dashboard-card",children:[s.jsx("div",{className:"dashboard-label",children:"Member Visits"}),s.jsx("div",{className:"dashboard-value magenta",children:e.visitedToday})]}),s.jsxs("div",{className:"dashboard-card",children:[s.jsx("div",{className:"dashboard-label",children:"Coaching Sessions"}),s.jsx("div",{className:"dashboard-value magenta",children:e.coachToday})]}),s.jsxs("div",{className:"dashboard-card",children:[s.jsx("div",{className:"dashboard-label",children:"Currently Checked-In"}),s.jsx("div",{className:"dashboard-value magenta",children:e.checkedIn})]}),s.jsxs("div",{className:"dashboard-card",children:[s.jsx("div",{className:"dashboard-label",children:"Cash Revenue"}),s.jsxs("div",{className:"dashboard-value magenta",children:[" ",e.cashToday.toLocaleString()]})]}),s.jsxs("div",{className:"dashboard-card",children:[s.jsx("div",{className:"dashboard-label",children:"GCash Revenue"}),s.jsxs("div",{className:"dashboard-value magenta",children:[" ",e.gcashToday.toLocaleString()]})]}),s.jsxs("div",{className:"dashboard-card",children:[s.jsx("div",{className:"dashboard-label",children:"Total Revenue"}),s.jsxs("div",{className:"dashboard-value magenta",children:[" ",(e.totalPaymentsToday||0).toLocaleString()]})]})]}),s.jsxs("div",{style:{marginTop:24},className:"panel",children:[s.jsx("div",{className:"panel-header",children:"Gym Entries Today"}),s.jsxs("table",{className:"aligned",children:[s.jsx("thead",{children:s.jsxs("tr",{children:[s.jsx("th",{children:"Nick Name"}),s.jsx("th",{children:"Time In"}),s.jsx("th",{children:"Time Out"}),s.jsx("th",{children:"Total Hours"}),s.jsx("th",{children:"Coach"}),s.jsx("th",{children:"Focus"})]})}),s.jsx("tbody",{children:A})]})]}),s.jsx(Kh,{open:!!h,onClose:()=>y(null),row:h,onCheckout:k=>te(k)}),s.jsx(Gs,{open:j,memberId:D,initialEntry:M,onClose:()=>{E(!1),_(null),z(null)},onSuccess:async()=>{try{const k=await Go();f((k==null?void 0:k.rows)||(k==null?void 0:k.data)||[])}catch(k){console.error(k)}E(!1),_(null),z(null)}}),s.jsxs("div",{style:{marginTop:24},className:"panel",children:[s.jsx("div",{className:"panel-header",children:"Payments Today"}),s.jsxs("table",{className:"aligned",children:[s.jsx("thead",{children:s.jsxs("tr",{children:[s.jsx("th",{children:"Nick Name"}),s.jsx("th",{children:"Particulars"}),s.jsxs("th",{children:["Gym Membership",s.jsx("br",{}),"Valid Until"]}),s.jsxs("th",{children:["Coach Subscription",s.jsx("br",{}),"Valid Until"]}),s.jsx("th",{children:"Mode"}),s.jsx("th",{children:"Cost"})]})}),s.jsx("tbody",{children:H})]})]}),n&&s.jsx("div",{style:{marginTop:24},children:"Loading"})]})}var Yh={exports:{}},Jh={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Xr=w;function lS(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var aS=typeof Object.is=="function"?Object.is:lS,cS=Xr.useState,uS=Xr.useEffect,dS=Xr.useLayoutEffect,fS=Xr.useDebugValue;function mS(e,t){var n=t(),r=cS({inst:{value:n,getSnapshot:t}}),i=r[0].inst,o=r[1];return dS(function(){i.value=n,i.getSnapshot=t,jl(i)&&o({inst:i})},[e,n,t]),uS(function(){return jl(i)&&o({inst:i}),e(function(){jl(i)&&o({inst:i})})},[e]),fS(n),n}function jl(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!aS(e,n)}catch{return!0}}function hS(e,t){return t()}var pS=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?hS:mS;Jh.useSyncExternalStore=Xr.useSyncExternalStore!==void 0?Xr.useSyncExternalStore:pS;Yh.exports=Jh;var gS=Yh.exports;const Zh=0,Xh=1,qh=2,Pd=3;var Dd=Object.prototype.hasOwnProperty;function La(e,t){var n,r;if(e===t)return!0;if(e&&t&&(n=e.constructor)===t.constructor){if(n===Date)return e.getTime()===t.getTime();if(n===RegExp)return e.toString()===t.toString();if(n===Array){if((r=e.length)===t.length)for(;r--&&La(e[r],t[r]););return r===-1}if(!n||typeof e=="object"){r=0;for(n in e)if(Dd.call(e,n)&&++r&&!Dd.call(t,n)||!(n in t)||!La(e[n],t[n]))return!1;return Object.keys(t).length===r}}return e!==e&&t!==t}const sn=new WeakMap,In=()=>{},ft=In(),Ra=Object,Se=e=>e===ft,Xt=e=>typeof e=="function",Vn=(e,t)=>({...e,...t}),ep=e=>Xt(e.then),Nl={},Io={},qc="undefined",oo=typeof window!=qc,Oa=typeof document!=qc,yS=oo&&"Deno"in window,vS=()=>oo&&typeof window.requestAnimationFrame!=qc,tp=(e,t)=>{const n=sn.get(e);return[()=>!Se(t)&&e.get(t)||Nl,r=>{if(!Se(t)){const i=e.get(t);t in Io||(Io[t]=i),n[5](t,Vn(i,r),i||Nl)}},n[6],()=>!Se(t)&&t in Io?Io[t]:!Se(t)&&e.get(t)||Nl]};let Aa=!0;const SS=()=>Aa,[Fa,za]=oo&&window.addEventListener?[window.addEventListener.bind(window),window.removeEventListener.bind(window)]:[In,In],wS=()=>{const e=Oa&&document.visibilityState;return Se(e)||e!=="hidden"},xS=e=>(Oa&&document.addEventListener("visibilitychange",e),Fa("focus",e),()=>{Oa&&document.removeEventListener("visibilitychange",e),za("focus",e)}),CS=e=>{const t=()=>{Aa=!0,e()},n=()=>{Aa=!1};return Fa("online",t),Fa("offline",n),()=>{za("online",t),za("offline",n)}},jS={isOnline:SS,isVisible:wS},NS={initFocus:xS,initReconnect:CS},Ld=!xe.useId,Xi=!oo||yS,bS=e=>vS()?window.requestAnimationFrame(e):setTimeout(e,1),bl=Xi?w.useEffect:w.useLayoutEffect,kl=typeof navigator<"u"&&navigator.connection,Rd=!Xi&&kl&&(["slow-2g","2g"].includes(kl.effectiveType)||kl.saveData),To=new WeakMap,kS=e=>Ra.prototype.toString.call(e),El=(e,t)=>e===`[object ${t}]`;let ES=0;const Ua=e=>{const t=typeof e,n=kS(e),r=El(n,"Date"),i=El(n,"RegExp"),o=El(n,"Object");let l,u;if(Ra(e)===e&&!r&&!i){if(l=To.get(e),l)return l;if(l=++ES+"~",To.set(e,l),Array.isArray(e)){for(l="@",u=0;u<e.length;u++)l+=Ua(e[u])+",";To.set(e,l)}if(o){l="#";const a=Ra.keys(e).sort();for(;!Se(u=a.pop());)Se(e[u])||(l+=u+":"+Ua(e[u])+",");To.set(e,l)}}else l=r?e.toJSON():t=="symbol"?e.toString():t=="string"?JSON.stringify(e):""+e;return l},eu=e=>{if(Xt(e))try{e=e()}catch{e=""}const t=e;return e=typeof e=="string"?e:(Array.isArray(e)?e.length:e)?Ua(e):"",[e,t]};let _S=0;const $a=()=>++_S;async function np(...e){const[t,n,r,i]=e,o=Vn({populateCache:!0,throwOnError:!0},typeof i=="boolean"?{revalidate:i}:i||{});let l=o.populateCache;const u=o.rollbackOnError;let a=o.optimisticData;const c=g=>typeof u=="function"?u(g):u!==!1,d=o.throwOnError;if(Xt(n)){const g=n,S=[],p=t.keys();for(const v of p)!/^\$(inf|sub)\$/.test(v)&&g(t.get(v)._k)&&S.push(v);return Promise.all(S.map(f))}return f(n);async function f(g){const[S]=eu(g);if(!S)return;const[p,v]=tp(t,S),[C,m,h,y]=sn.get(t),j=()=>{const k=C[S];return(Xt(o.revalidate)?o.revalidate(p().data,g):o.revalidate!==!1)&&(delete h[S],delete y[S],k&&k[0])?k[0](qh).then(()=>p().data):p().data};if(e.length<3)return j();let E=r,D,_=!1;const M=$a();m[S]=[M,0];const z=!Se(a),A=p(),U=A.data,H=A._c,te=Se(H)?U:H;if(z&&(a=Xt(a)?a(te,U):a,v({data:a,_c:te})),Xt(E))try{E=E(te)}catch(k){D=k,_=!0}if(E&&ep(E))if(E=await E.catch(k=>{D=k,_=!0}),M!==m[S][0]){if(_)throw D;return E}else _&&z&&c(D)&&(l=!0,v({data:te,_c:ft}));if(l&&!_)if(Xt(l)){const k=l(E,te);v({data:k,error:ft,_c:ft})}else v({data:E,error:ft,_c:ft});if(m[S][1]=$a(),Promise.resolve(j()).then(()=>{v({_c:ft})}),_){if(d)throw D;return}return E}}const Od=(e,t)=>{for(const n in e)e[n][0]&&e[n][0](t)},MS=(e,t)=>{if(!sn.has(e)){const n=Vn(NS,t),r=Object.create(null),i=np.bind(ft,e);let o=In;const l=Object.create(null),u=(d,f)=>{const g=l[d]||[];return l[d]=g,g.push(f),()=>g.splice(g.indexOf(f),1)},a=(d,f,g)=>{e.set(d,f);const S=l[d];if(S)for(const p of S)p(f,g)},c=()=>{if(!sn.has(e)&&(sn.set(e,[r,Object.create(null),Object.create(null),Object.create(null),i,a,u]),!Xi)){const d=n.initFocus(setTimeout.bind(ft,Od.bind(ft,r,Zh))),f=n.initReconnect(setTimeout.bind(ft,Od.bind(ft,r,Xh)));o=()=>{d&&d(),f&&f(),sn.delete(e)}}};return c(),[e,i,c,o]}return[e,sn.get(e)[4]]},IS=(e,t,n,r,i)=>{const o=n.errorRetryCount,l=i.retryCount,u=~~((Math.random()+.5)*(1<<(l<8?l:8)))*n.errorRetryInterval;!Se(o)&&l>o||setTimeout(r,u,i)},TS=La,[rp,PS]=MS(new Map),DS=Vn({onLoadingSlow:In,onSuccess:In,onError:In,onErrorRetry:IS,onDiscarded:In,revalidateOnFocus:!0,revalidateOnReconnect:!0,revalidateIfStale:!0,shouldRetryOnError:!0,errorRetryInterval:Rd?1e4:5e3,focusThrottleInterval:5*1e3,dedupingInterval:2*1e3,loadingTimeout:Rd?5e3:3e3,compare:TS,isPaused:()=>!1,cache:rp,mutate:PS,fallback:{}},jS),LS=(e,t)=>{const n=Vn(e,t);if(t){const{use:r,fallback:i}=e,{use:o,fallback:l}=t;r&&o&&(n.use=r.concat(o)),i&&l&&(n.fallback=Vn(i,l))}return n},RS=w.createContext({}),OS="$inf$",ip=oo&&window.__SWR_DEVTOOLS_USE__,AS=ip?window.__SWR_DEVTOOLS_USE__:[],FS=()=>{ip&&(window.__SWR_DEVTOOLS_REACT__=xe)},zS=e=>Xt(e[1])?[e[0],e[1],e[2]||{}]:[e[0],null,(e[1]===null?e[2]:e[1])||{}],US=()=>{const e=w.useContext(RS);return w.useMemo(()=>Vn(DS,e),[e])},$S=e=>(t,n,r)=>e(t,n&&((...o)=>{const[l]=eu(t),[,,,u]=sn.get(rp);if(l.startsWith(OS))return n(...o);const a=u[l];return Se(a)?n(...o):(delete u[l],a)}),r),BS=AS.concat($S),VS=e=>function(...n){const r=US(),[i,o,l]=zS(n),u=LS(r,l);let a=e;const{use:c}=u,d=(c||[]).concat(BS);for(let f=d.length;f--;)a=d[f](a);return a(i,o||u.fetcher||null,u)},WS=(e,t,n)=>{const r=t[e]||(t[e]=[]);return r.push(n),()=>{const i=r.indexOf(n);i>=0&&(r[i]=r[r.length-1],r.pop())}};FS();const _l=xe.use||(e=>{switch(e.status){case"pending":throw e;case"fulfilled":return e.value;case"rejected":throw e.reason;default:throw e.status="pending",e.then(t=>{e.status="fulfilled",e.value=t},t=>{e.status="rejected",e.reason=t}),e}}),Ml={dedupe:!0},Ad=Promise.resolve(ft),HS=(e,t,n)=>{const{cache:r,compare:i,suspense:o,fallbackData:l,revalidateOnMount:u,revalidateIfStale:a,refreshInterval:c,refreshWhenHidden:d,refreshWhenOffline:f,keepPreviousData:g}=n,[S,p,v,C]=sn.get(r),[m,h]=eu(e),y=w.useRef(!1),j=w.useRef(!1),E=w.useRef(m),D=w.useRef(t),_=w.useRef(n),M=()=>_.current,z=()=>M().isVisible()&&M().isOnline(),[A,U,H,te]=tp(r,m),k=w.useRef({}).current,L=Se(l)?Se(n.fallback)?ft:n.fallback[m]:l,x=(Y,B)=>{for(const q in k){const ee=q;if(ee==="data"){if(!i(Y[ee],B[ee])&&(!Se(Y[ee])||!i(W,B[ee])))return!1}else if(B[ee]!==Y[ee])return!1}return!0},T=w.useMemo(()=>{const Y=!m||!t?!1:Se(u)?M().isPaused()||o?!1:a!==!1:u,B=oe=>{const G=Vn(oe);return delete G._k,Y?{isValidating:!0,isLoading:!0,...G}:G},q=A(),ee=te(),ue=B(q),V=q===ee?ue:B(ee);let ae=ue;return[()=>{const oe=B(A());return x(oe,ae)?(ae.data=oe.data,ae.isLoading=oe.isLoading,ae.isValidating=oe.isValidating,ae.error=oe.error,ae):(ae=oe,oe)},()=>V]},[r,m]),b=gS.useSyncExternalStore(w.useCallback(Y=>H(m,(B,q)=>{x(q,B)||Y()}),[r,m]),T[0],T[1]),N=!y.current,I=S[m]&&S[m].length>0,P=b.data,O=Se(P)?L&&ep(L)?_l(L):L:P,R=b.error,F=w.useRef(O),W=g?Se(P)?Se(F.current)?O:F.current:P:O,re=I&&!Se(R)?!1:N&&!Se(u)?u:M().isPaused()?!1:o?Se(O)?!1:a:Se(O)||a,le=!!(m&&t&&N&&re),de=Se(b.isValidating)?le:b.isValidating,ye=Se(b.isLoading)?le:b.isLoading,ne=w.useCallback(async Y=>{const B=D.current;if(!m||!B||j.current||M().isPaused())return!1;let q,ee,ue=!0;const V=Y||{},ae=!v[m]||!V.dedupe,oe=()=>Ld?!j.current&&m===E.current&&y.current:m===E.current,G={isValidating:!1,isLoading:!1},ke=()=>{U(G)},je=()=>{const Ee=v[m];Ee&&Ee[1]===ee&&delete v[m]},Oe={isValidating:!0};Se(A().data)&&(Oe.isLoading=!0);try{if(ae&&(U(Oe),n.loadingTimeout&&Se(A().data)&&setTimeout(()=>{ue&&oe()&&M().onLoadingSlow(m,n)},n.loadingTimeout),v[m]=[B(h),$a()]),[q,ee]=v[m],q=await q,ae&&setTimeout(je,n.dedupingInterval),!v[m]||v[m][1]!==ee)return ae&&oe()&&M().onDiscarded(m),!1;G.error=ft;const Ee=p[m];if(!Se(Ee)&&(ee<=Ee[0]||ee<=Ee[1]||Ee[1]===0))return ke(),ae&&oe()&&M().onDiscarded(m),!1;const Q=A().data;G.data=i(Q,q)?Q:q,ae&&oe()&&M().onSuccess(q,m,n)}catch(Ee){je();const Q=M(),{shouldRetryOnError:se}=Q;Q.isPaused()||(G.error=Ee,ae&&oe()&&(Q.onError(Ee,m,Q),(se===!0||Xt(se)&&se(Ee))&&(!M().revalidateOnFocus||!M().revalidateOnReconnect||z())&&Q.onErrorRetry(Ee,m,Q,me=>{const Ce=S[m];Ce&&Ce[0]&&Ce[0](Pd,me)},{retryCount:(V.retryCount||0)+1,dedupe:!0})))}return ue=!1,ke(),!0},[m,r]),fe=w.useCallback((...Y)=>np(r,E.current,...Y),[]);if(bl(()=>{D.current=t,_.current=n,Se(P)||(F.current=P)}),bl(()=>{if(!m)return;const Y=ne.bind(ft,Ml);let B=0;M().revalidateOnFocus&&(B=Date.now()+M().focusThrottleInterval);const ee=WS(m,S,(ue,V={})=>{if(ue==Zh){const ae=Date.now();M().revalidateOnFocus&&ae>B&&z()&&(B=ae+M().focusThrottleInterval,Y())}else if(ue==Xh)M().revalidateOnReconnect&&z()&&Y();else{if(ue==qh)return ne();if(ue==Pd)return ne(V)}});return j.current=!1,E.current=m,y.current=!0,U({_k:h}),re&&(v[m]||(Se(O)||Xi?Y():bS(Y))),()=>{j.current=!0,ee()}},[m]),bl(()=>{let Y;function B(){const ee=Xt(c)?c(A().data):c;ee&&Y!==-1&&(Y=setTimeout(q,ee))}function q(){!A().error&&(d||M().isVisible())&&(f||M().isOnline())?ne(Ml).then(B):B()}return B(),()=>{Y&&(clearTimeout(Y),Y=-1)}},[c,d,f,m]),w.useDebugValue(W),o){const Y=m&&Se(O);if(!Ld&&Xi&&Y)throw new Error("Fallback data is required when using Suspense in SSR.");Y&&(D.current=t,_.current=n,j.current=!1);const B=C[m],q=!Se(B)&&Y?fe(B):Ad;if(_l(q),!Se(R)&&Y)throw R;const ee=Y?ne(Ml):Ad;!Se(W)&&Y&&(ee.status="fulfilled",ee.value=!0),_l(ee)}return{mutate:fe,get data(){return k.data=!0,W},get error(){return k.error=!0,R},get isValidating(){return k.isValidating=!0,de},get isLoading(){return k.isLoading=!0,ye}}},op=VS(HS);function Ba(){return Ba=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Ba.apply(null,arguments)}function Fd(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Va(e,t){return Va=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,r){return n.__proto__=r,n},Va(e,t)}function GS(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,Va(e,t)}var zd=Number.isNaN||function(t){return typeof t=="number"&&t!==t};function QS(e,t){return!!(e===t||zd(e)&&zd(t))}function KS(e,t){if(e.length!==t.length)return!1;for(var n=0;n<e.length;n++)if(!QS(e[n],t[n]))return!1;return!0}function Il(e,t){t===void 0&&(t=KS);var n,r=[],i,o=!1;function l(){for(var u=[],a=0;a<arguments.length;a++)u[a]=arguments[a];return o&&n===this&&t(u,r)||(i=e.apply(this,u),o=!0,n=this,r=u),i}return l}var YS=typeof performance=="object"&&typeof performance.now=="function",Ud=YS?function(){return performance.now()}:function(){return Date.now()};function $d(e){cancelAnimationFrame(e.id)}function JS(e,t){var n=Ud();function r(){Ud()-n>=t?e.call(null):i.id=requestAnimationFrame(r)}var i={id:requestAnimationFrame(r)};return i}var Tl=-1;function Bd(e){if(e===void 0&&(e=!1),Tl===-1||e){var t=document.createElement("div"),n=t.style;n.width="50px",n.height="50px",n.overflow="scroll",document.body.appendChild(t),Tl=t.offsetWidth-t.clientWidth,document.body.removeChild(t)}return Tl}var Sr=null;function Vd(e){if(e===void 0&&(e=!1),Sr===null||e){var t=document.createElement("div"),n=t.style;n.width="50px",n.height="50px",n.overflow="scroll",n.direction="rtl";var r=document.createElement("div"),i=r.style;return i.width="100px",i.height="100px",t.appendChild(r),document.body.appendChild(t),t.scrollLeft>0?Sr="positive-descending":(t.scrollLeft=1,t.scrollLeft===0?Sr="negative":Sr="positive-ascending"),document.body.removeChild(t),Sr}return Sr}var ZS=150,XS=function(t,n){return t};function qS(e){var t,n=e.getItemOffset,r=e.getEstimatedTotalSize,i=e.getItemSize,o=e.getOffsetForIndexAndAlignment,l=e.getStartIndexForOffset,u=e.getStopIndexForStartIndex,a=e.initInstanceProps,c=e.shouldResetStyleCacheOnItemSizeChange,d=e.validateProps;return t=function(f){GS(g,f);function g(p){var v;return v=f.call(this,p)||this,v._instanceProps=a(v.props,Fd(v)),v._outerRef=void 0,v._resetIsScrollingTimeoutId=null,v.state={instance:Fd(v),isScrolling:!1,scrollDirection:"forward",scrollOffset:typeof v.props.initialScrollOffset=="number"?v.props.initialScrollOffset:0,scrollUpdateWasRequested:!1},v._callOnItemsRendered=void 0,v._callOnItemsRendered=Il(function(C,m,h,y){return v.props.onItemsRendered({overscanStartIndex:C,overscanStopIndex:m,visibleStartIndex:h,visibleStopIndex:y})}),v._callOnScroll=void 0,v._callOnScroll=Il(function(C,m,h){return v.props.onScroll({scrollDirection:C,scrollOffset:m,scrollUpdateWasRequested:h})}),v._getItemStyle=void 0,v._getItemStyle=function(C){var m=v.props,h=m.direction,y=m.itemSize,j=m.layout,E=v._getItemStyleCache(c&&y,c&&j,c&&h),D;if(E.hasOwnProperty(C))D=E[C];else{var _=n(v.props,C,v._instanceProps),M=i(v.props,C,v._instanceProps),z=h==="horizontal"||j==="horizontal",A=h==="rtl",U=z?_:0;E[C]=D={position:"absolute",left:A?void 0:U,right:A?U:void 0,top:z?0:_,height:z?"100%":M,width:z?M:"100%"}}return D},v._getItemStyleCache=void 0,v._getItemStyleCache=Il(function(C,m,h){return{}}),v._onScrollHorizontal=function(C){var m=C.currentTarget,h=m.clientWidth,y=m.scrollLeft,j=m.scrollWidth;v.setState(function(E){if(E.scrollOffset===y)return null;var D=v.props.direction,_=y;if(D==="rtl")switch(Vd()){case"negative":_=-y;break;case"positive-descending":_=j-h-y;break}return _=Math.max(0,Math.min(_,j-h)),{isScrolling:!0,scrollDirection:E.scrollOffset<_?"forward":"backward",scrollOffset:_,scrollUpdateWasRequested:!1}},v._resetIsScrollingDebounced)},v._onScrollVertical=function(C){var m=C.currentTarget,h=m.clientHeight,y=m.scrollHeight,j=m.scrollTop;v.setState(function(E){if(E.scrollOffset===j)return null;var D=Math.max(0,Math.min(j,y-h));return{isScrolling:!0,scrollDirection:E.scrollOffset<D?"forward":"backward",scrollOffset:D,scrollUpdateWasRequested:!1}},v._resetIsScrollingDebounced)},v._outerRefSetter=function(C){var m=v.props.outerRef;v._outerRef=C,typeof m=="function"?m(C):m!=null&&typeof m=="object"&&m.hasOwnProperty("current")&&(m.current=C)},v._resetIsScrollingDebounced=function(){v._resetIsScrollingTimeoutId!==null&&$d(v._resetIsScrollingTimeoutId),v._resetIsScrollingTimeoutId=JS(v._resetIsScrolling,ZS)},v._resetIsScrolling=function(){v._resetIsScrollingTimeoutId=null,v.setState({isScrolling:!1},function(){v._getItemStyleCache(-1,null)})},v}g.getDerivedStateFromProps=function(v,C){return ew(v,C),d(v),null};var S=g.prototype;return S.scrollTo=function(v){v=Math.max(0,v),this.setState(function(C){return C.scrollOffset===v?null:{scrollDirection:C.scrollOffset<v?"forward":"backward",scrollOffset:v,scrollUpdateWasRequested:!0}},this._resetIsScrollingDebounced)},S.scrollToItem=function(v,C){C===void 0&&(C="auto");var m=this.props,h=m.itemCount,y=m.layout,j=this.state.scrollOffset;v=Math.max(0,Math.min(v,h-1));var E=0;if(this._outerRef){var D=this._outerRef;y==="vertical"?E=D.scrollWidth>D.clientWidth?Bd():0:E=D.scrollHeight>D.clientHeight?Bd():0}this.scrollTo(o(this.props,v,C,j,this._instanceProps,E))},S.componentDidMount=function(){var v=this.props,C=v.direction,m=v.initialScrollOffset,h=v.layout;if(typeof m=="number"&&this._outerRef!=null){var y=this._outerRef;C==="horizontal"||h==="horizontal"?y.scrollLeft=m:y.scrollTop=m}this._callPropsCallbacks()},S.componentDidUpdate=function(){var v=this.props,C=v.direction,m=v.layout,h=this.state,y=h.scrollOffset,j=h.scrollUpdateWasRequested;if(j&&this._outerRef!=null){var E=this._outerRef;if(C==="horizontal"||m==="horizontal")if(C==="rtl")switch(Vd()){case"negative":E.scrollLeft=-y;break;case"positive-ascending":E.scrollLeft=y;break;default:var D=E.clientWidth,_=E.scrollWidth;E.scrollLeft=_-D-y;break}else E.scrollLeft=y;else E.scrollTop=y}this._callPropsCallbacks()},S.componentWillUnmount=function(){this._resetIsScrollingTimeoutId!==null&&$d(this._resetIsScrollingTimeoutId)},S.render=function(){var v=this.props,C=v.children,m=v.className,h=v.direction,y=v.height,j=v.innerRef,E=v.innerElementType,D=v.innerTagName,_=v.itemCount,M=v.itemData,z=v.itemKey,A=z===void 0?XS:z,U=v.layout,H=v.outerElementType,te=v.outerTagName,k=v.style,L=v.useIsScrolling,x=v.width,T=this.state.isScrolling,b=h==="horizontal"||U==="horizontal",N=b?this._onScrollHorizontal:this._onScrollVertical,I=this._getRangeToRender(),P=I[0],O=I[1],R=[];if(_>0)for(var F=P;F<=O;F++)R.push(w.createElement(C,{data:M,key:A(F,M),index:F,isScrolling:L?T:void 0,style:this._getItemStyle(F)}));var W=r(this.props,this._instanceProps);return w.createElement(H||te||"div",{className:m,onScroll:N,ref:this._outerRefSetter,style:Ba({position:"relative",height:y,width:x,overflow:"auto",WebkitOverflowScrolling:"touch",willChange:"transform",direction:h},k)},w.createElement(E||D||"div",{children:R,ref:j,style:{height:b?"100%":W,pointerEvents:T?"none":void 0,width:b?W:"100%"}}))},S._callPropsCallbacks=function(){if(typeof this.props.onItemsRendered=="function"){var v=this.props.itemCount;if(v>0){var C=this._getRangeToRender(),m=C[0],h=C[1],y=C[2],j=C[3];this._callOnItemsRendered(m,h,y,j)}}if(typeof this.props.onScroll=="function"){var E=this.state,D=E.scrollDirection,_=E.scrollOffset,M=E.scrollUpdateWasRequested;this._callOnScroll(D,_,M)}},S._getRangeToRender=function(){var v=this.props,C=v.itemCount,m=v.overscanCount,h=this.state,y=h.isScrolling,j=h.scrollDirection,E=h.scrollOffset;if(C===0)return[0,0,0,0];var D=l(this.props,E,this._instanceProps),_=u(this.props,D,E,this._instanceProps),M=!y||j==="backward"?Math.max(1,m):1,z=!y||j==="forward"?Math.max(1,m):1;return[Math.max(0,D-M),Math.max(0,Math.min(C-1,_+z)),D,_]},g}(w.PureComponent),t.defaultProps={direction:"ltr",itemData:void 0,layout:"vertical",overscanCount:2,useIsScrolling:!1},t}var ew=function(t,n){t.children,t.direction,t.height,t.layout,t.innerTagName,t.outerTagName,t.width,n.instance},tw=qS({getItemOffset:function(t,n){var r=t.itemSize;return n*r},getItemSize:function(t,n){var r=t.itemSize;return r},getEstimatedTotalSize:function(t){var n=t.itemCount,r=t.itemSize;return r*n},getOffsetForIndexAndAlignment:function(t,n,r,i,o,l){var u=t.direction,a=t.height,c=t.itemCount,d=t.itemSize,f=t.layout,g=t.width,S=u==="horizontal"||f==="horizontal",p=S?g:a,v=Math.max(0,c*d-p),C=Math.min(v,n*d),m=Math.max(0,n*d-p+d+l);switch(r==="smart"&&(i>=m-p&&i<=C+p?r="auto":r="center"),r){case"start":return C;case"end":return m;case"center":{var h=Math.round(m+(C-m)/2);return h<Math.ceil(p/2)?0:h>v+Math.floor(p/2)?v:h}case"auto":default:return i>=m&&i<=C?i:i<m?m:C}},getStartIndexForOffset:function(t,n){var r=t.itemCount,i=t.itemSize;return Math.max(0,Math.min(r-1,Math.floor(n/i)))},getStopIndexForStartIndex:function(t,n,r){var i=t.direction,o=t.height,l=t.itemCount,u=t.itemSize,a=t.layout,c=t.width,d=i==="horizontal"||a==="horizontal",f=n*u,g=d?c:o,S=Math.ceil((g+r-f)/u);return Math.max(0,Math.min(l-1,n+S-1))},initInstanceProps:function(t){},shouldResetStyleCacheOnItemSizeChange:!0,validateProps:function(t){t.itemSize}});const nw=xe.lazy(()=>Cs(()=>import("./AddMemberModal-BjItF1iQ.js"),[])),Ye={members:null,payments:null,gymEntries:null,ts:{members:0,payments:0,gymEntries:0}},Wa="kusgan.members.cache.v1",rw=1e3*60*60;function iw(){try{if(typeof window>"u"||!window.localStorage)return;const e=window.localStorage.getItem(Wa);if(!e)return;const t=JSON.parse(e);if(!t||!t.ts||Date.now()-(t.ts.members||0)>rw)return;Ye.members=t.members||null,Ye.payments=t.payments||null,Ye.gymEntries=t.gymEntries||null,Ye.ts=t.ts||Ye.ts}catch(e){console.debug("Members: failed to load cache from localStorage",e)}}function ow(){try{if(typeof window>"u"||!window.localStorage)return;const e={members:Ye.members,payments:Ye.payments,gymEntries:Ye.gymEntries,ts:Ye.ts};typeof window.requestIdleCallback=="function"?window.requestIdleCallback(()=>{try{window.localStorage.setItem(Wa,JSON.stringify(e))}catch(t){console.debug("Members: failed to save cache to localStorage",t)}},{timeout:2e3}):setTimeout(()=>{try{window.localStorage.setItem(Wa,JSON.stringify(e))}catch(t){console.debug("Members: failed to save cache to localStorage",t)}},0)}catch(e){console.debug("Members: failed to save cache to localStorage",e)}}try{iw()}catch{}const sw=e=>String(e||"").trim().toLowerCase().replace(/\s+/g,"_"),Wd=e=>["yes","y","true","1"].includes(String(e||"").trim().toLowerCase()),Ke=(e,t)=>t.map(n=>e[n]).find(n=>n!==void 0&&n!==""),ln=e=>{if(e instanceof Date)return e;const t=new Date(e);return isNaN(t)?null:t},lw=(e,t)=>e&&t&&e.getFullYear()===t.getFullYear()&&e.getMonth()===t.getMonth()&&e.getDate()===t.getDate(),tu=e=>{const t={};return Object.entries(e||{}).forEach(([n,r])=>{t[sw(n)]=r}),t},Hd=e=>String(e||"").toLowerCase().replace(/(?:^|[\s\-])([a-z])/g,(n,r)=>n.replace(r,r.toUpperCase())),xn=e=>e?`${["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"][e.getMonth()]}-${e.getDate()}, ${e.getFullYear()}`:"",Po=e=>{if(!e)return!1;const t=e instanceof Date?new Date(e):new Date(e);if(isNaN(t))return!1;const n=new Date;return n.setHours(0,0,0,0),t.setHours(0,0,0,0),t>=n};function aw(e){const t=new Map;for(const r of e){const i=tu(r),o=Ke(i,["memberid","member_id","id","member_id_"]);if(!o)continue;const l=String(Ke(i,["type","item","category","product","paymentfor","plan","description","particulars","particular"])||"").toLowerCase(),u=ln(Ke(i,["gymvaliduntil","gym_valid_until","gym_valid","gym_validity","gym_until","gymvalid","enddate","end_date","valid_until","expiry","expires","until","end"])),a=ln(Ke(i,["coachvaliduntil","coach_valid_until","coach_valid","coach_until","coachvalid","enddate","end_date","valid_until","expiry","expires","until","end"])),c=t.get(o)||{},d=/coach|trainer|pt/.test(l),f=/member|gym/.test(l)&&!d;if(u&&(!c.membershipEnd||u>c.membershipEnd)&&(c.membershipEnd=u),a&&(!c.coachEnd||a>c.coachEnd)&&(c.coachEnd=a),!u&&!a){const g=ln(Ke(i,["enddate","end_date","valid_until","end","until","expiry","expires"]));g&&(d?(!c.coachEnd||g>c.coachEnd)&&(c.coachEnd=g):f&&(!c.membershipEnd||g>c.membershipEnd)&&(c.membershipEnd=g))}t.set(o,c)}const n=new Date;n.setHours(0,0,0,0);for(const[r,i]of t){if(i.membershipEnd==null)i.membershipState=null;else{const o=new Date(i.membershipEnd);o.setHours(0,0,0,0),i.membershipState=o>=n?"active":"expired"}if(i.coachEnd){const o=new Date(i.coachEnd);o.setHours(0,0,0,0),i.coachActive=o>=n}else i.coachActive=!1}return t}function cw(e){const t=new Map;for(const n of e){const r=tu(n),i=Ke(r,["memberid","member_id","id","member_id_"]);if(!i)continue;const o=ln(Ke(r,["date","visit_date","entry_date","log_date","timestamp","checkin"]));if(!o)continue;const l=t.get(i);(!l||o>l)&&t.set(i,o)}return t}function uw(){const e=io(),[t,n]=w.useState(50),[r,i]=w.useState([]),[o,l]=w.useState(new Map),[u,a]=w.useState(new Map),[c,d]=w.useState(!0),[f,g]=w.useState(!1),[S,p]=w.useState(""),[v,C]=w.useState(""),[m,h]=w.useState(""),[y,j]=w.useState(!1),E=w.useRef(null),[D,_]=w.useState(!1),M=async()=>{const[L,x,T]=await Promise.all([tn("Members"),cr(),Zr()]);return{members:((L==null?void 0:L.rows)??(L==null?void 0:L.data)??[]).map(tu),payments:(x==null?void 0:x.rows)??(x==null?void 0:x.data)??[],gymEntries:(T==null?void 0:T.rows)??(T==null?void 0:T.data)??[]}},{data:z,error:A,isLoading:U,isValidating:H,mutate:te}=op("members:all",M,{revalidateOnFocus:!0,dedupingInterval:2e3,fallbackData:Ye.members?{members:Ye.members,payments:Ye.payments,gymEntries:Ye.gymEntries}:void 0});w.useEffect(()=>{if(z)try{i(z.members||[]),l(aw(z.payments||[])),a(cw(z.gymEntries||[])),Ye.members=z.members||[],Ye.payments=z.payments||[],Ye.gymEntries=z.gymEntries||[],Ye.ts=Ye.ts||{},Ye.ts.members=Date.now(),Ye.ts.payments=Date.now(),Ye.ts.gymEntries=Date.now(),ow()}catch(L){console.error("Members: failed to hydrate from SWR data",L)}},[z]),w.useEffect(()=>{d(!!U),g(!!U),A&&p(A.message||String(A))},[U,A]),w.useEffect(()=>(E.current&&clearTimeout(E.current),E.current=setTimeout(()=>h(v.trim()),250),()=>{E.current&&clearTimeout(E.current)}),[v]);const k=w.useMemo(()=>{const L=m.trim().toLowerCase();let x=r;L&&(x=r.filter(N=>["first_name","firstname","last_name","lastname","nick_name","nickname","mobile","email"].some(I=>String(N[I]??"").toLowerCase().includes(L))));const T=new Date,b=x.map(N=>{const I=Ke(N,["memberid","member_id","id","member_id_"]),P=I?u.get(I):null,O=P?lw(P,T):!1,R=ln(Ke(N,["member_since","membersince","join_date","joined","start_date"])),F=R?R.getTime():0,W=P?P.getTime():-1;return{r:N,lastVisit:P,isToday:O,joinTs:F,visitTs:W,memberId:I}});return b.sort((N,I)=>I.joinTs-N.joinTs||I.visitTs-N.visitTs),b},[r,m,u]);return w.useCallback((L,x)=>{L&&e(`/members/${encodeURIComponent(L)}`,{state:{row:x}})},[e]),s.jsxs("div",{className:"content",children:[s.jsxs("h2",{className:"dashboard-title",children:["All Members ",s.jsx(Hs,{show:H&&!U})]}),s.jsxs("div",{className:"toolbar",style:{display:"flex",justifyContent:"center",alignItems:"center",gap:12,marginBottom:12},children:[s.jsx("input",{className:"search-wide",style:{width:"60%",maxWidth:960,minWidth:320},placeholder:"Search members by name",value:v,onChange:L=>C(L.target.value)}),s.jsx("button",{className:"button",onClick:()=>_(!0),children:"+ Add Member"})]}),c&&s.jsx("div",{style:{color:"var(--muted)",textAlign:"center",padding:16},children:"Loading"}),S&&s.jsxs("div",{children:["Error: ",S]}),!c&&!S&&s.jsxs("div",{className:"panel",children:[r.length===0&&s.jsxs("div",{style:{padding:24,textAlign:"center",color:"#b91c1c",fontWeight:600},children:["No member data loaded.",s.jsx("br",{}),"Please check your API connection or try again later."]}),s.jsx("div",{style:{width:"100%"},children:k.length===0?s.jsx("div",{style:{padding:12},children:"No members found."}):k.length<=t?s.jsx("div",{style:{display:"flex",justifyContent:"center"},children:s.jsxs("table",{className:"attendance-table aligned",style:{width:"100%"},children:[s.jsxs("colgroup",{children:[s.jsx("col",{style:{width:"15%"}}),s.jsx("col",{style:{width:"25%"}}),s.jsx("col",{style:{width:"15%"}}),s.jsx("col",{style:{width:"15%"}}),s.jsx("col",{style:{width:"15%"}}),s.jsx("col",{style:{width:"15%"}})]}),s.jsx("thead",{children:s.jsxs("tr",{children:[s.jsx("th",{style:{textAlign:"center"},children:"Nick Name"}),s.jsx("th",{style:{textAlign:"left"},children:"Full Name"}),s.jsx("th",{style:{textAlign:"center"},children:"Member Since"}),s.jsx("th",{style:{textAlign:"center"},children:"Last Gym Visit"}),s.jsx("th",{style:{textAlign:"center"},children:"Gym Valid Until"}),s.jsx("th",{style:{textAlign:"center"},children:"Coach Valid Until"})]})}),s.jsx("tbody",{children:k.slice(0,t).map(({r:L,lastVisit:x,isToday:T,memberId:b},N)=>{const I=b?o.get(b):void 0,P=Wd(Ke(L,["student","is_student","student?"]));let O=Number(Ke(L,["age","years_old"]));if(isNaN(O)){const fe=Ke(L,["birthday","birth_date","dob"]),ce=ln(fe);if(ce){const Y=new Date;O=Y.getFullYear()-ce.getFullYear()-(Y.getMonth()<ce.getMonth()||Y.getMonth()===ce.getMonth()&&Y.getDate()<ce.getDate()?1:0)}}const R=!isNaN(O)&&O>=60,F=String(Ke(L,["first_name","firstname","first","given_name"])??""),W=String(Ke(L,["last_name","lastname","last","surname"])??""),re=[F,W].filter(Boolean).map(Hd).join(" "),le=String(L.nick_name??L.nickname??"").toUpperCase(),de=ln(Ke(L,["member_since","membersince","join_date","joined","start_date"])),ye=(I==null?void 0:I.membershipEnd)||null,ne=(I==null?void 0:I.coachEnd)||null;return s.jsxs("tr",{className:"row-link",onClick:()=>e(`/members/${encodeURIComponent(b)}`,{state:{row:L}}),style:{cursor:"pointer"},children:[s.jsx("td",{style:{textAlign:"center"},children:s.jsx("strong",{children:le})}),s.jsxs("td",{style:{textAlign:"left"},children:[re," ",s.jsxs("span",{style:{display:"inline-flex",gap:6,marginLeft:8},children:[P&&s.jsx("span",{className:"pill student",children:"Student"}),R&&s.jsx("span",{className:"pill senior",children:"Senior"})]})]}),s.jsx("td",{style:{textAlign:"center"},children:xn(de)}),s.jsx("td",{style:{textAlign:"center"},children:T?s.jsx("span",{className:"pill ok",children:"Visited today"}):x?xn(new Date(x)):""}),s.jsx("td",{style:{textAlign:"center",color:ye?Po(ye)?"green":"red":"inherit"},children:ye?xn(new Date(ye)):""}),s.jsx("td",{style:{textAlign:"center",color:ne?Po(ne)?"green":"red":"inherit"},children:ne?xn(new Date(ne)):""})]},N)})})]})}):s.jsxs("div",{style:{width:"100%"},children:[s.jsxs("div",{style:{display:"flex",padding:"8px 12px",fontWeight:700,borderBottom:"1px solid var(--light-border)",background:"var(--panel-header-bg)"},children:[s.jsx("div",{style:{width:"15%",textAlign:"center"},children:"Nick Name"}),s.jsx("div",{style:{width:"25%",textAlign:"left"},children:"Full Name"}),s.jsx("div",{style:{width:"15%",textAlign:"center"},children:"Member Since"}),s.jsx("div",{style:{width:"15%",textAlign:"center"},children:"Last Gym Visit"}),s.jsx("div",{style:{width:"15%",textAlign:"center"},children:"Gym Valid Until"}),s.jsx("div",{style:{width:"15%",textAlign:"center"},children:"Coach Valid Until"})]}),s.jsx(tw,{height:Math.min(600,Math.max(200,Math.min(k.length,t)*56)),itemCount:Math.min(k.length,t),itemSize:56,width:"100%",children:({index:L,style:x})=>{const{r:T,lastVisit:b,isToday:N,memberId:I}=k[L],P=I?o.get(I):void 0,O=Wd(Ke(T,["student","is_student","student?"]));let R=Number(Ke(T,["age","years_old"]));if(isNaN(R)){const ce=Ke(T,["birthday","birth_date","dob"]),Y=ln(ce);if(Y){const B=new Date;R=B.getFullYear()-Y.getFullYear()-(B.getMonth()<Y.getMonth()||B.getMonth()===Y.getMonth()&&B.getDate()<Y.getDate()?1:0)}}const F=!isNaN(R)&&R>=60,W=String(Ke(T,["first_name","firstname","first","given_name"])??""),re=String(Ke(T,["last_name","lastname","last","surname"])??""),le=[W,re].filter(Boolean).map(Hd).join(" "),de=String(T.nick_name??T.nickname??"").toUpperCase(),ye=ln(Ke(T,["member_since","membersince","join_date","joined","start_date"])),ne=(P==null?void 0:P.membershipEnd)||null,fe=(P==null?void 0:P.coachEnd)||null;return s.jsxs("div",{style:{...x,display:"flex",alignItems:"center",padding:"8px 12px",borderBottom:"1px solid rgba(0,0,0,0.04)",cursor:"pointer"},className:"row-link",onClick:()=>e(`/members/${encodeURIComponent(I)}`,{state:{row:T}}),children:[s.jsx("div",{style:{width:"15%",textAlign:"center"},children:s.jsx("strong",{children:de})}),s.jsxs("div",{style:{width:"25%"},children:[le,s.jsxs("span",{style:{display:"inline-flex",gap:6,marginLeft:8,verticalAlign:"middle"},children:[O&&s.jsx("span",{className:"pill student",children:"Student"}),F&&s.jsx("span",{className:"pill senior",children:"Senior"})]})]}),s.jsx("div",{style:{width:"15%",textAlign:"center"},children:xn(ye)}),s.jsx("div",{style:{width:"15%",textAlign:"center"},children:N?s.jsx("span",{className:"pill ok",children:"Visited today"}):b?xn(new Date(b)):""}),s.jsx("div",{style:{width:"15%",textAlign:"center",color:ne?Po(ne)?"green":"red":"inherit"},children:ne?xn(new Date(ne)):""}),s.jsx("div",{style:{width:"15%",textAlign:"center",color:fe?Po(fe)?"green":"red":"inherit"},children:fe?xn(new Date(fe)):""})]},L)}})]})}),k.length>t&&s.jsx("div",{style:{padding:8,textAlign:"center"},children:s.jsxs("button",{className:"button",onClick:()=>n(L=>Math.min(L+50,k.length)),children:["Load more (",k.length-t," more)"]})})]}),s.jsx(w.Suspense,{fallback:s.jsx(Gh,{}),children:s.jsx(nw,{open:D,onClose:()=>_(!1),onSaved:async()=>{try{await te()}catch{}}})})]})}function dw({open:e,onClose:t,onDetected:n}){const r=w.useRef(null),i=w.useRef(null),[o,l]=w.useState(""),u=w.useRef(0),a=w.useRef(null),c=()=>{u.current&&cancelAnimationFrame(u.current),u.current=0,i.current&&(i.current.getTracks().forEach(g=>g.stop()),i.current=null)};async function d(){var g,S;try{if("BarcodeDetector"in window){const p=await((S=(g=window.BarcodeDetector).getSupportedFormats)==null?void 0:S.call(g))||[];if(p.includes("qr_code")||p.includes("qr"))return a.current=new window.BarcodeDetector({formats:["qr_code"]}),!0}}catch{}return a.current=null,!1}async function f(){l("");const g=await d();try{const S=await navigator.mediaDevices.getUserMedia({video:{facingMode:{ideal:"environment"}},audio:!1});i.current=S;const p=r.current;if(p&&(p.srcObject=S,await p.play().catch(()=>{})),g){const v=async()=>{if(!r.current||r.current.readyState<2){u.current=requestAnimationFrame(v);return}try{const C=await a.current.detect(r.current);if(C&&C.length){const m=String(C[0].rawValue||C[0].raw||"").trim();if(m){n==null||n(m),t==null||t();return}}}catch{}u.current=requestAnimationFrame(v)};u.current=requestAnimationFrame(v)}else l("QR scanning isn't supported by this browser. Type the ID instead.")}catch(S){const p=(S==null?void 0:S.name)||"";l(p==="NotAllowedError"?"Camera permission denied. Allow access in browser/site settings.":p==="NotFoundError"?"No camera found.":"Cannot access camera.")}}return w.useEffect(()=>{if(!e){c();return}return f(),c},[e]),e?s.jsx("div",{style:Gd.overlay,children:s.jsxs("div",{style:Gd.modal,children:[s.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",marginBottom:8},children:[s.jsx("div",{style:{fontWeight:800},children:"Scan QR Code"}),s.jsx("button",{className:"button btn-lg",style:{background:"#555"},onClick:t,children:"Close"})]}),o&&s.jsx("div",{style:{color:"#d33",marginBottom:8},children:o}),s.jsx("video",{ref:r,playsInline:!0,muted:!0,style:{width:"100%",borderRadius:10,background:"#000"}}),s.jsx("div",{style:{color:"#666",fontSize:12,marginTop:8},children:"Point the camera at the QR code."})]})}):null}const Gd={overlay:{position:"fixed",inset:0,background:"rgba(0,0,0,.6)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:1e3},modal:{width:"min(720px, 92vw)",background:"#fff",borderRadius:12,padding:16,border:"1px solid #e7e8ef",boxShadow:"0 6px 24px rgba(0,0,0,.2)"}},Qd="Asia/Manila",fw=e=>{if(!e)return!1;const t=e instanceof Date?new Date(e):new Date(e);if(isNaN(t))return!1;const n=new Date;return n.setHours(0,0,0,0),t.setHours(0,0,0,0),t>=n};function Kd(e,t,n){const r=new Date;r.setHours(0,0,0,0);let i=null,o=null;const l=new Map,u=Array.isArray(n)?n:[],a=S=>{const p=String(S??"").trim().toLowerCase();return p==="yes"||p==="y"||p==="true"||p==="1"},c=(S,p)=>{for(const v of p){if(S&&Object.prototype.hasOwnProperty.call(S,v))return S[v];const C=Object.keys(S||{}).find(m=>m.toLowerCase().replace(/\s+/g,"")===v.toLowerCase().replace(/\s+/g,""));if(C)return S[C]}};u.forEach(S=>{const p=String(c(S,["Particulars"])||"").trim();if(!p)return;const v=a(c(S,["Gym membership","Gym Membership","GymMembership","Membership"])),C=a(c(S,["Coach subscription","Coach Subscription","CoachSubscription","Coach"]));l.set(p.toLowerCase(),{gym:v,coach:C})});const d=String(t||"").trim().toLowerCase();for(const S of e){const p=Object.fromEntries(Object.entries(S||{}).map(([_,M])=>[String(_||"").toLowerCase().replace(/\s+/g,""),M])),v=String(p.memberid||p.member_id||p.member_id_||p.id||"").trim().toLowerCase();if(!v||v!==d)continue;const C=String(p.particulars||p.type||p.item||p.category||p.product||p.paymentfor||p.plan||p.description||"").trim(),m=p.gymvaliduntil||p.gym_valid_until||p.gym_until,h=p.coachvaliduntil||p.coach_valid_until||p.coach_until,y=p.enddate||p.end_date||p.valid_until||p.expiry||p.expires||p.until||p.end,j=m?new Date(m):y?new Date(y):null,E=h?new Date(h):y?new Date(y):null,D=l.get(C.toLowerCase())||{gym:null,coach:null};j&&(D.gym===!0||D.gym===null&&/member|gym/i.test(C))&&(i=!i||j>i?j:i),E&&(D.coach===!0||D.coach===null&&/coach|trainer|pt/i.test(C))&&(o=!o||E>o?E:o)}let f=null;if(i){const S=new Date(i);S.setHours(0,0,0,0),f=S>=r?"active":"expired"}let g=!1;if(o){const S=new Date(o);S.setHours(0,0,0,0),g=S>=r}return{membershipEnd:i,membershipState:f,coachEnd:o,coachActive:g}}const sp=e=>{const n=String(e||"").match(/(?:\/file\/d\/|[?&]id=|\/uc\?[^#]*id=)([^/&?#]+)/);return n&&n[1]?n[1]:""},mw=e=>{const t=String(e||"");if(!t)return"";const n=t.match(/https?:\/\/[^\s}]+/);if(n){const i=n[0];if(/googleusercontent\.com\//.test(i))return i;const o=i.match(/(?:\/file\/d\/|[?&]id=|\/uc\?[^#]*id=)([^/&?#]+)/);return o&&o[1]?`https://drive.google.com/uc?export=view&id=${o[1]}`:i}if(/googleusercontent\.com\//.test(t))return t;const r=sp(t);return r?`https://drive.google.com/uc?export=view&id=${r}`:t},hw=e=>{const t=String(e||"");if(/googleusercontent\.com\//.test(t))return t;const n=sp(t);return n?`https://drive.google.com/thumbnail?id=${n}&sz=w1000`:t};function pw(){const[e,t]=w.useState(!1),[n,r]=w.useState(""),[i,o]=w.useState([]),[l,u]=w.useState(null),[a,c]=w.useState([]),[d,f]=w.useState(null),[g,S]=w.useState(!1),[p,v]=w.useState(null),[C,m]=w.useState(""),[h,y]=w.useState(""),[j,E]=w.useState(""),[D,_]=w.useState(!1),[M,z]=w.useState(""),[A,U]=w.useState(""),[H,te]=w.useState(!1),[k,L]=w.useState(!1),x=w.useRef(null),T=w.useRef(null);w.useEffect(()=>{let I=!0;return(async()=>{try{const[P,O,R]=await Promise.all([Un(),Cs(()=>Promise.resolve().then(()=>Ta),void 0).then(de=>de.fetchPayments()),Cs(()=>Promise.resolve().then(()=>Ta),void 0).then(de=>de.fetchPricing())]);if(!I)return;const F=((P==null?void 0:P.rows)||(P==null?void 0:P.data)||[]).slice(),W=(O==null?void 0:O.rows)||(O==null?void 0:O.data)||[],re=(R==null?void 0:R.rows)||(R==null?void 0:R.data)||[],le=F.filter(de=>{const ye=de.MemberID||de.member_id||de.id,ne=W.filter(ce=>String(ce.MemberID||ce.member_id||ce.id||"").trim()===String(ye).trim()),fe=Kd(ne,ye,re);return fe.membershipState==="active"||fw(fe==null?void 0:fe.membershipEnd)});le.sort((de,ye)=>{const ne=String(de.Nickname||de.NickName||de["Nick Name"]||"").toLowerCase(),fe=String(ye.Nickname||ye.NickName||ye["Nick Name"]||"").toLowerCase();return ne.localeCompare(fe)}),o(le)}catch(P){console.error(P)}})(),()=>{I=!1}},[]),w.useEffect(()=>{L(!1)},[l==null?void 0:l.member]);const b=async I=>{const[P,O]=await Promise.all([Jr(I),gn()]),R=(O==null?void 0:O.rows)||(O==null?void 0:O.data)||[];u(P),c(R);const F=Kd(P.payments||[],I,R);return f(F),{b:P,rows:R,status:F}},N=async I=>{var de,ye;const P=String(I||"").trim();if(!P)return;r(P),S(!0),E(""),u(null),f(null);const O=await b(P),R=((de=O==null?void 0:O.b)==null?void 0:de.member)||null,F=O==null?void 0:O.status;if(R&&(R.NickName||R.Nickname||R["Nick Name"]||R.nick_name||R.nickname),!R||(F==null?void 0:F.membershipState)!=="active"){E(null),setTimeout(()=>{E("NO ACTIVE GYM MEMBERSHIP")},100);return}const W=new Intl.DateTimeFormat("en-CA",{timeZone:Qd,year:"numeric",month:"2-digit",day:"2-digit"}).format(new Date),le=(((ye=O==null?void 0:O.b)==null?void 0:ye.gymEntries)||[]).filter(ne=>{const fe=(ne==null?void 0:ne.Date)||(ne==null?void 0:ne.date);if(!fe)return!1;const ce=new Date(fe);return new Intl.DateTimeFormat("en-CA",{timeZone:Qd,year:"numeric",month:"2-digit",day:"2-digit"}).format(ce)===W}).find(ne=>!String((ne==null?void 0:ne.TimeOut)||"").trim());le?(te(!0),E(""),v(le||null)):(te(!1),E(""),v(null))};return w.useEffect(()=>{const I=async O=>{try{const R=String(O&&(O.MemberID||O.memberid||O.Member)||"").trim();if(!R||!n||String(R)!==String(n))return;await b(n),v(null)}catch(R){console.debug("CheckIn: gymEntry event handler failed",R)}},P=Ue.on("gymEntry:added",I);return()=>{try{P()}catch{}}},[n]),w.useMemo(()=>{const I=(l==null?void 0:l.member)||null;if(!I)return null;const P=de=>de.map(ye=>I[ye]).find(ye=>ye!==void 0&&ye!==""),O=P(["FirstName","First","first"]),R=P(["LastName","Last","last"]),F=P(["NickName","Nickname","Nick Name","nick_name","nickname"]),W=P(["PhotoURL","Photo","photo","photo_url"]),re=hw(mw(W)),le=I.MemberSince||I["Member Since"]||I.Joined||I["Join Date"]||I.join_date;return{first:O,last:R,nick:F,photo:re,memberSince:le}},[l]),s.jsxs("div",{className:"content",children:[s.jsx("h2",{children:"Member Check-In"}),s.jsx("div",{className:"card",style:{marginTop:8,marginBottom:12,maxWidth:480,minHeight:600,marginLeft:"auto",marginRight:"auto",padding:16,border:"2px solid #d7d9e5",background:"#fff",boxShadow:"0 10px 24px rgba(0,0,0,.12)",display:"flex",alignItems:"center",justifyContent:"center"},children:s.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:12,alignItems:"center",width:"100%"},children:[s.jsx("img",{src:"/kusgan-frontend/favicon.png",onError:I=>{try{I.currentTarget.onerror=null,I.currentTarget.src="/kusgan-frontend/kusgan-logo.png"}catch{}},alt:"Kusgan logo",style:{width:250,height:250,objectFit:"contain",opacity:1,marginBottom:8}}),s.jsx("div",{style:{maxWidth:420,width:"100%",margin:"0 auto"},children:s.jsx("button",{className:"primary-btn",style:{fontSize:"1.1rem",height:54,width:"100%"},onClick:()=>t(!0),children:" Scan QR Code"})}),s.jsx("div",{style:{color:"#666",textAlign:"center",marginTop:24},children:"or select a member below"}),s.jsx("div",{style:{maxWidth:420,width:"100%",margin:"0 auto"},children:s.jsxs("select",{value:n,onChange:I=>r(I.target.value),style:{width:"100%",height:44,padding:"8px 12px",border:"1px solid #e7e8ef",borderRadius:10},children:[s.jsx("option",{value:"",children:"Select member"}),i.map(I=>s.jsxs("option",{value:I.MemberID,children:[I.Nickname||I.NickName||I["Nick Name"]||"Member","  ",I.FirstName||I.First||""," ",I.LastName||I.Last||""]},I.MemberID))]})}),s.jsx("div",{style:{maxWidth:420,width:"100%",margin:"0 auto"},children:s.jsx("button",{className:"primary-btn",style:{fontSize:"1.1rem",height:54,width:"100%"},onClick:()=>{n&&N(n)},children:"Proceed"})})]})}),s.jsx(dw,{open:e,onClose:()=>t(!1),onDetected:N}),s.jsx(Gs,{open:g,memberId:n,initialEntry:p,onClose:()=>{S(!1),E("")},onSuccess:()=>{S(!1),E(""),u(null),f(null),v(null)}}),D&&s.jsx("div",{style:{position:"fixed",top:24,right:24,zIndex:2e3,pointerEvents:x.current?"auto":"none"},children:s.jsxs("div",{style:{display:"flex",gap:12,alignItems:"center",background:"#333",color:"#fff",fontWeight:600,fontSize:16,borderRadius:8,boxShadow:"0 2px 12px rgba(0,0,0,.12)",padding:"10px 14px",minWidth:220,textAlign:"left",letterSpacing:.1},children:[s.jsx("div",{style:{flex:1},children:j}),x.current?s.jsx("button",{style:{background:"transparent",color:"#fff",border:"1px solid rgba(255,255,255,0.18)",padding:"6px 10px",borderRadius:6,cursor:"pointer"},onClick:()=>{const I=x.current;if(I){try{I.timer&&clearTimeout(I.timer)}catch{}x.current=null,I.type==="checkin"?(te(!1),u(P=>{if(!P)return P;const O=(P.gymEntries||[]).filter(R=>!(String(R.MemberID||"")===String(I.memberId)&&String(R.TimeIn||"")===String(I.nowIso)));return{...P,gymEntries:O}})):I.type==="checkout"&&(te(!0),u(P=>{if(!P)return P;const O=(P.gymEntries||[]).map(R=>String(R.MemberID||"")===String(I.memberId)&&String(R.TimeOut||"").length>0?{...R,TimeOut:""}:R);return{...P,gymEntries:O}})),E("Action cancelled"),_(!0),T.current&&clearTimeout(T.current),T.current=setTimeout(()=>{_(!1),E("")},1800)}},children:"Undo"}):null]})})]})}const nu="Asia/Manila",gw=new Intl.DateTimeFormat("en-PH",{hour:"numeric",minute:"2-digit",hour12:!0,timeZone:nu}),yw=["Coach Elmer","Coach Jojo","Bezza","Patpat","Sheena","Jeanette","Xyza","Johanna"],Yd=["Coach Jojo","Coach Elmer"],vw=e=>{if(!e)return"";try{const t=new Date(e);return isNaN(t)?String(e):gw.format(t)}catch{return String(e)}},lp="kusgan.staffAttendance.cache.v1",Sw=1e3*60*60;function ww(){try{if(typeof window>"u"||!window.localStorage)return null;const e=window.localStorage.getItem(lp);if(!e)return null;const t=JSON.parse(e);return!t||!t.ts||Date.now()-(t.ts||0)>Sw?null:Array.isArray(t.rows)?t.rows:null}catch(e){return console.debug("StaffAttendance: failed to load cache from localStorage",e),null}}function Do(e){try{if(typeof window>"u"||!window.localStorage)return;const t={rows:Array.isArray(e)?e:[],ts:Date.now()};window.localStorage.setItem(lp,JSON.stringify(t))}catch(t){console.debug("StaffAttendance: failed to save cache to localStorage",t)}}const xw=()=>{const e=new Date;try{return new Intl.DateTimeFormat("en-CA",{timeZone:nu}).format(e)}catch{const n=e.getFullYear(),r=String(e.getMonth()+1).padStart(2,"0"),i=String(e.getDate()).padStart(2,"0");return`${n}-${r}-${i}`}},Xn=e=>{try{const t=String((e==null?void 0:e.Date)||(e==null?void 0:e.date)||(e==null?void 0:e.DateTime)||(e==null?void 0:e.datetime)||(e==null?void 0:e.LogDate)||(e==null?void 0:e.log_date)||"").trim();if(!t)return"";if(/^\d{4}-\d{2}-\d{2}$/.test(t))return t.slice(0,10);const n=new Date(t);return isNaN(n)?t.slice(0,10):new Intl.DateTimeFormat("en-CA",{timeZone:nu}).format(n)}catch{return""}},Cw=(e,t)=>e?t?/^\d{2}:\d{2}$/.test(t)?`${e}T${t}:00`:t:"":t||"",jw=e=>{if(!e)return"";try{const t=new Date(e);if(isNaN(t))return String(e);const n=new Intl.DateTimeFormat("en-US",{month:"short"}).format(t),r=t.getDate(),i=t.getFullYear();return`${n}-${r}, ${i}`}catch{return String(e)}},Jd=(e,t)=>{try{if(!t)return"";const n=Xn(e)||xw(),r=/^\d{1,2}:\d{2}$/.test(String(t).trim())?Cw(n,String(t).trim()):String(t).trim();return vw(r)}catch{return String(t||"")}};function Nw(){const e=ww(),[t,n]=w.useState(e||[]),[r,i]=w.useState(!e),[o,l]=w.useState(""),[u,a]=w.useState(""),[c,d]=w.useState(!1),[f,g]=w.useState([]),[S,p]=w.useState(10),[v,C]=w.useState(null),m="Asia/Manila",h=()=>{try{return new Intl.DateTimeFormat("en-CA",{timeZone:m}).format(new Date)}catch{const T=new Date,b=T.getFullYear(),N=String(T.getMonth()+1).padStart(2,"0"),I=String(T.getDate()).padStart(2,"0");return`${b}-${N}-${I}`}},y=(x=new Date)=>{try{return new Intl.DateTimeFormat("en-GB",{timeZone:m,hour12:!1,hour:"2-digit",minute:"2-digit"}).format(new Date(x))}catch{const b=new Date(x),N=String(b.getHours()).padStart(2,"0"),I=String(b.getMinutes()).padStart(2,"0");return`${N}:${I}`}},j=async()=>{try{const x=await tn("Attendance");return(x==null?void 0:x.rows)??(x==null?void 0:x.data)??[]}catch{try{const T=await Gc();return(T==null?void 0:T.rows)??(T==null?void 0:T.data)??[]}catch{return[]}}},{data:E,error:D,isValidating:_,mutate:M}=op("attendance:all",j,{revalidateOnFocus:!0,dedupingInterval:2e3,fallbackData:e}),z=!!_;w.useEffect(()=>{A(!1),g(Array.from(new Set(yw)).sort((x,T)=>x.localeCompare(T)))},[]);async function A(x=!1){i(!0),l("");try{const T=await M(),b=Array.isArray(T)?T:[];console.debug(`StaffAttendance: loaded ${b.length} rows (force=${!!x})`),n(b);try{Do(b)}catch{}return b}catch(T){return console.error(T),l((T==null?void 0:T.message)||"Failed to load attendance"),n([]),[]}finally{i(!1)}}const U=x=>{if(!x)return!1;const T=String(x).trim().toLowerCase(),b=h();for(const N of t||[])try{const I=String((N==null?void 0:N.Staff)||(N==null?void 0:N.staff)||(N==null?void 0:N.Name)||(N==null?void 0:N.name)||"").trim().toLowerCase(),P=Xn(N)||"",O=String((N==null?void 0:N.TimeIn)||(N==null?void 0:N.timein)||(N==null?void 0:N.time_in)||(N==null?void 0:N.SignIn)||(N==null?void 0:N.signin)||"").trim(),R=(N==null?void 0:N.TimeOut)||(N==null?void 0:N.timeout)||(N==null?void 0:N.time_out)||(N==null?void 0:N.SignOut)||(N==null?void 0:N.signout)||"",F=String(R||"").trim();if(I===T&&P===b&&O&&(F===""||F==="-"||F===""||F===null||typeof F>"u"))return!0}catch{}return!1},H=async()=>{if(!u)return;d(!0),l("");const x=h(),T=y();C({type:"in",staff:u}),i(!0);try{const b=await Ji(u,{Date:x,TimeIn:T});if(console.debug("attendanceQuickAppend sign-in result",b),!b||b.ok===!1)throw new Error(b&&b.error?String(b.error):"attendance append failed");const N=O=>new Promise(R=>setTimeout(R,O)),I=O=>{try{return(O||[]).some(R=>{const F=String((R==null?void 0:R.Staff)||(R==null?void 0:R.staff)||(R==null?void 0:R.Name)||(R==null?void 0:R.name)||"").trim().toLowerCase(),W=Xn(R)||"",re=String((R==null?void 0:R.TimeIn)||(R==null?void 0:R.timein)||(R==null?void 0:R.time_in)||(R==null?void 0:R.SignIn)||(R==null?void 0:R.signin)||"").trim(),le=String((R==null?void 0:R.TimeOut)||(R==null?void 0:R.timeout)||(R==null?void 0:R.time_out)||(R==null?void 0:R.SignOut)||(R==null?void 0:R.signout)||"").trim(),de=le===""||le==="-"||le===""||le===null||typeof le>"u";return F===String(u).trim().toLowerCase()&&W===x&&re&&de})}catch{return!1}};let P=!1;for(let O=0;O<8;O++){try{const R=await M(),F=Array.isArray(R)?R:[];if(I(F)){n(F);try{Do(F)}catch{}P=!0;break}}catch{}await N(300)}P||await A(!0)}catch(b){console.error("attendanceQuickAppend sign-in failed",b),l("Sign-in failed"),alert("Sign-in failed  please retry"),await A(!0)}finally{C(null),d(!1),i(!1)}},te=async()=>{if(!u)return;d(!0),l("");const x=h(),T=y();C({type:"out",staff:u}),i(!0);try{if((t||[]).some(N=>{try{const I=String((N==null?void 0:N.Staff)||(N==null?void 0:N.staff)||(N==null?void 0:N.Name)||(N==null?void 0:N.name)||"").trim().toLowerCase(),P=Xn(N)||"",O=String((N==null?void 0:N.TimeIn)||(N==null?void 0:N.timein)||(N==null?void 0:N.time_in)||(N==null?void 0:N.SignIn)||(N==null?void 0:N.signin)||"").trim(),R=String((N==null?void 0:N.TimeOut)||(N==null?void 0:N.timeout)||(N==null?void 0:N.time_out)||(N==null?void 0:N.SignOut)||(N==null?void 0:N.signout)||"").trim(),F=R===""||R==="-"||R===""||R===null||typeof R>"u";return I===String(u).trim().toLowerCase()&&P===x&&O&&F}catch{return!1}})){const N=await Ji(u,{wantsOut:!0,Date:x,TimeOut:T});if(console.debug("attendanceQuickAppend sign-out result",N),!N||N.ok===!1)throw new Error(N&&N.error?String(N.error):"attendance sign-out failed");const I=R=>new Promise(F=>setTimeout(F,R)),P=R=>{try{return(R||[]).some(F=>{const W=String((F==null?void 0:F.Staff)||(F==null?void 0:F.staff)||(F==null?void 0:F.Name)||(F==null?void 0:F.name)||"").trim().toLowerCase(),re=Xn(F)||"",le=String((F==null?void 0:F.TimeOut)||(F==null?void 0:F.timeout)||(F==null?void 0:F.time_out)||(F==null?void 0:F.SignOut)||(F==null?void 0:F.signout)||"").trim();return W===String(u).trim().toLowerCase()&&re===x&&le&&le!=="-"&&le!==""})}catch{return!1}};let O=!1;for(let R=0;R<8;R++){try{const F=await M(),W=Array.isArray(F)?F:[];if(P(W)){n(W);try{Do(W)}catch{}O=!0;break}}catch{}await I(300)}O||await A(!0)}else await ri("Attendance",{Staff:u,Date:x,TimeOut:T}),await A(!0)}catch(b){console.error("attendanceQuickAppend sign-out failed",b),l("Sign-out failed"),alert("Sign-out failed  please retry"),await A(!0)}finally{C(null),d(!1),i(!1)}},k=w.useMemo(()=>{const x=new Set;for(const b of t||[]){const N=String((b==null?void 0:b.Staff)||(b==null?void 0:b.staff)||(b==null?void 0:b.Name)||(b==null?void 0:b.name)||"").trim();N&&x.add(N)}for(const b of f||[])b&&x.add(b);const T=Array.from(x);return T.sort((b,N)=>{const I=Yd.indexOf(b),P=Yd.indexOf(N);return I!==-1||P!==-1?I===-1?1:P===-1?-1:I-P:b.localeCompare(N)}),T},[t,f]),L=w.useMemo(()=>{if(!Array.isArray(t))return[];const x=t.map(T=>{const b=Xn(T)||String((T==null?void 0:T.Date)||(T==null?void 0:T.date)||""),N=String((T==null?void 0:T.TimeIn)||(T==null?void 0:T.timein)||(T==null?void 0:T.time_in)||(T==null?void 0:T.SignIn)||(T==null?void 0:T.signin)||"").trim(),I=String((T==null?void 0:T.TimeOut)||(T==null?void 0:T.timeout)||(T==null?void 0:T.time_out)||(T==null?void 0:T.SignOut)||(T==null?void 0:T.signout)||"").trim(),P=/^\d{1,2}:\d{2}$/.test(N)?N:/^\d{1,2}:\d{2}$/.test(I)?I:"00:00",O=b?`${b}T${P}`:"0000-00-00T00:00";return{r:T,key:O}});return x.sort((T,b)=>b.key.localeCompare(T.key)),x.slice(0,S).map(T=>T.r)},[t,S]);return w.useEffect(()=>{if(E)try{const x=Array.isArray(E)?E:[];n(x);try{Do(x)}catch{}}catch(x){console.error("StaffAttendance: failed to hydrate SWR data",x)}},[E]),s.jsxs("div",{className:"dashboard-content",children:[s.jsxs("h2",{className:"dashboard-title",children:["Staff Attendance ",s.jsx(Hs,{show:z&&!r})]}),o&&s.jsx("div",{className:"small-error",style:{marginBottom:12},children:o}),s.jsxs("div",{className:"panel",children:[s.jsx("div",{className:"panel-header",children:"Select Staff Member"}),s.jsxs("div",{className:"att-inline",children:[s.jsxs("select",{className:"att-inline-select",value:u,onChange:x=>a(x.target.value),disabled:c,children:[s.jsx("option",{value:""}),k.map(x=>s.jsx("option",{value:x,children:x},x))]}),s.jsx("div",{className:"att-inline-actions",children:(()=>{const x=U(u),T=x?" Sign Out":" Sign In",b=x?"out":"in",N=v&&v.staff===u&&v.type===b;return s.jsx("button",{className:"primary-btn",onClick:x?te:H,disabled:!u||c,title:x?"Sign Out":"Sign In",children:N?s.jsxs("span",{style:{display:"inline-flex",gap:8,alignItems:"center"},children:[s.jsx("span",{className:"spinner","aria-hidden":!0}),x?"Signing Out...":"Signing In..."]}):T})})()})]})]}),s.jsxs("div",{className:"panel",children:[s.jsxs("div",{className:"panel-header",children:["Attendance Records ",r&&s.jsx("span",{style:{marginLeft:8},children:s.jsx("span",{className:"spinner","aria-hidden":!0})})]}),r?s.jsx("div",{style:{color:"var(--muted)",textAlign:"center",padding:16},children:"Loading"}):L.length===0?s.jsx("div",{style:{color:"var(--muted)",textAlign:"center",padding:16},children:"No records."}):s.jsx("div",{style:{display:"flex",justifyContent:"center"},children:s.jsxs("table",{className:"attendance-table aligned",style:{width:"75%"},children:[s.jsxs("colgroup",{children:[s.jsx("col",{style:{width:"15%"}}),s.jsx("col",{style:{width:"15%"}}),s.jsx("col",{style:{width:"15%"}}),s.jsx("col",{style:{width:"15%"}}),s.jsx("col",{style:{width:"15%"}})]}),s.jsx("thead",{children:s.jsxs("tr",{children:[s.jsx("th",{children:"Staff Name"}),s.jsx("th",{children:"Date"}),s.jsx("th",{children:"Time In"}),s.jsx("th",{children:"Time Out"}),s.jsx("th",{style:{textAlign:"center"},children:"No. Of Hours"})]})}),s.jsx("tbody",{children:L.map((x,T)=>{const b=Xn(x)||String((x==null?void 0:x.Date)||(x==null?void 0:x.date)||""),N=jw(b||void 0)||String((x==null?void 0:x.Date)||(x==null?void 0:x.date)||""),I=(x==null?void 0:x.TimeIn)||(x==null?void 0:x.timein)||(x==null?void 0:x.time_in)||"",P=(x==null?void 0:x.TimeOut)||(x==null?void 0:x.timeout)||(x==null?void 0:x.time_out)||"",O=I?Jd(x,I):"",R=P?Jd(x,P):"";return s.jsxs("tr",{children:[s.jsx("td",{style:{fontWeight:700},children:String((x==null?void 0:x.Staff)||(x==null?void 0:x.staff)||(x==null?void 0:x.Name)||(x==null?void 0:x.name)||"")}),s.jsx("td",{children:N}),s.jsx("td",{children:O}),s.jsx("td",{children:R}),s.jsx("td",{style:{textAlign:"center"},children:typeof(x==null?void 0:x.NoOfHours)<"u"&&(x==null?void 0:x.NoOfHours)!==null?String(x.NoOfHours):""})]},`${(x==null?void 0:x.Date)||""}|${(x==null?void 0:x.Staff)||""}|${T}`)})})]})}),s.jsx("div",{style:{marginTop:8,display:"flex",gap:8,alignItems:"center"},children:s.jsx("button",{className:"secondary-btn",onClick:()=>p(x=>Math.min((t==null?void 0:t.length)||0,x+10)),disabled:c||S>=((t==null?void 0:t.length)||0),title:"Load 10 more entries",children:" Load more"})})]})]})}function bw(){const[e,t]=w.useState([]);return w.useEffect(()=>{const n=Ue.on("modal:error",r=>{const i=Date.now()+Math.random(),o={id:i,message:(r==null?void 0:r.message)||"An error occurred",source:(r==null?void 0:r.source)||""};t(l=>[...l,o]),setTimeout(()=>t(l=>l.filter(u=>u.id!==i)),6e3)});return()=>n()},[]),e.length?s.jsx("div",{style:{position:"fixed",top:20,right:20,zIndex:99999,display:"flex",flexDirection:"column",gap:8},children:e.map(n=>s.jsxs("div",{style:{background:"#111",color:"#fff",padding:"10px 14px",borderRadius:10,minWidth:240,boxShadow:"0 8px 24px rgba(0,0,0,.2)"},children:[s.jsx("div",{style:{fontWeight:700,marginBottom:4},children:n.source||"Error"}),s.jsx("div",{style:{fontSize:13},children:n.message})]},n.id))}):null}function kw({onLogin:e}){return s.jsx("div",{style:{minHeight:"100vh",width:"100%",margin:0,display:"flex",alignItems:"center",justifyContent:"center",background:"linear-gradient(135deg, rgba(255,182,213,0.94), rgba(180,196,255,0.92))",backgroundRepeat:"no-repeat",backgroundSize:"cover"},children:s.jsxs("div",{style:{width:420,minHeight:520,padding:"56px 48px",borderRadius:28,background:"#11121d",boxShadow:"0 36px 70px rgba(0,0,0,0.40)",display:"flex",flexDirection:"column",alignItems:"center",color:"#fff",textAlign:"center"},children:[s.jsx("img",{src:"/kusgan-frontend/kusgan-logo.png",alt:"Kusgan Logo",style:{width:160,height:160,objectFit:"cover",borderRadius:"22px",boxShadow:"0 10px 28px rgba(215,38,96,0.35)",marginBottom:32,background:"#000"}}),s.jsx("h1",{style:{fontSize:"2rem",fontWeight:700,margin:"0 0 14px"},children:"Kusgan Fitness Gym"}),s.jsx("p",{style:{margin:"0 0 40px",color:"#c9c9da",lineHeight:1.6},children:"Please sign in with Google to access the dashboard."}),s.jsx(Qv,{onSuccess:n=>e(n.credential),onError:()=>alert("Login failed.")})]})})}function Ew(){const[e,t]=w.useState("");w.useEffect(()=>{const i=localStorage.getItem("authToken");i&&t(i)},[]);const n=i=>{t(i),localStorage.setItem("authToken",i)},r=()=>{t(""),localStorage.removeItem("authToken")};return e?s.jsxs("div",{className:"app",children:[s.jsx(bw,{}),s.jsx(Kv,{onLogout:r}),s.jsx("div",{className:"main-content",children:s.jsxs(Ev,{children:[s.jsx(Zn,{path:"/",element:s.jsx(sS,{})}),s.jsx(Zn,{path:"/attendance",element:s.jsx(Nw,{})}),s.jsx(Zn,{path:"/members",element:s.jsx(uw,{})}),s.jsx(Zn,{path:"/members/:memberId",element:s.jsx(oS,{})}),s.jsx(Zn,{path:"/checkin",element:s.jsx(pw,{})}),s.jsx(Zn,{path:"*",element:s.jsx(bv,{to:"/",replace:!0})})]})})]}):s.jsx(kw,{onLogin:n})}class _w extends xe.Component{constructor(t){super(t),this.state={error:null,info:null}}componentDidCatch(t,n){this.setState({error:t,info:n})}render(){const{error:t,info:n}=this.state;return t?s.jsxs("div",{style:{padding:24,fontFamily:"sans-serif"},children:[s.jsx("h2",{style:{color:"#c92a2a"},children:"Application error"}),s.jsx("div",{style:{marginBottom:12,color:"#444"},children:"An uncaught error occurred while rendering the app."}),s.jsxs("details",{style:{whiteSpace:"pre-wrap",background:"#fff8f8",padding:12,borderRadius:6,border:"1px solid #ffd6d6"},children:[s.jsx("summary",{style:{cursor:"pointer",fontWeight:700},children:"Error details"}),s.jsx("div",{style:{marginTop:8},children:String(t&&t.toString())}),s.jsx("div",{style:{marginTop:8},children:n&&n.componentStack})]})]}):this.props.children}}try{console.log("[app] starting main.jsx",{base:"/kusgan-frontend/",hasClientId:!0});const e=document.getElementById("root");e&&(e.innerHTML='<div style="padding:20px;font-family:sans-serif;color:#333">Mounting Kusgan app...</div>')}catch{}try{Pl.createRoot(document.getElementById("root")).render(s.jsx(xe.StrictMode,{children:s.jsx(Vv,{clientId:"530789207803-nq4g3i43bbcc5gdvsjo96venjfmi3309.apps.googleusercontent.com",children:s.jsx(Rv,{children:s.jsx(_w,{children:s.jsx(Ew,{})})})})}))}catch(e){console.error("[app] render failure",e);const t=document.getElementById("root");t&&(t.innerHTML=`<div style="padding:20px;font-family:sans-serif;color:#900"><h2>Render error</h2><pre>${String(e)}</pre></div>`)}export{Ph as C,pr as M,x0 as a,Ue as e,Nh as f,j0 as g,s as j,w as r,bh as s,Vs as u};
